(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function a1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Im={exports:{}},Zu={};var mv;function aw(){if(mv)return Zu;mv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var p=null;if(h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),"key"in l){h={};for(var b in l)b!=="key"&&(h[b]=l[b])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:p,ref:l!==void 0?l:null,props:h}}return Zu.Fragment=t,Zu.jsx=n,Zu.jsxs=n,Zu}var pv;function ow(){return pv||(pv=1,Im.exports=aw()),Im.exports}var x=ow(),Nm={exports:{}},Ft={};var gv;function lw(){if(gv)return Ft;gv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.iterator;function K(B){return B===null||typeof B!="object"?null:(B=P&&B[P]||B["@@iterator"],typeof B=="function"?B:null)}var it={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,dt={};function Tt(B,tt,ct){this.props=B,this.context=tt,this.refs=dt,this.updater=ct||it}Tt.prototype.isReactComponent={},Tt.prototype.setState=function(B,tt){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,tt,"setState")},Tt.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function Rt(){}Rt.prototype=Tt.prototype;function xt(B,tt,ct){this.props=B,this.context=tt,this.refs=dt,this.updater=ct||it}var Ut=xt.prototype=new Rt;Ut.constructor=xt,st(Ut,Tt.prototype),Ut.isPureReactComponent=!0;var le=Array.isArray;function Ot(){}var j={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function z(B,tt,ct){var ft=ct.ref;return{$$typeof:r,type:B,key:tt,ref:ft!==void 0?ft:null,props:ct}}function M(B,tt){return z(B.type,tt,B.props)}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function H(B){var tt={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ct){return tt[ct]})}var k=/\/+/g;function Dt(B,tt){return typeof B=="object"&&B!==null&&B.key!=null?H(""+B.key):tt.toString(36)}function ee(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Ot,Ot):(B.status="pending",B.then(function(tt){B.status==="pending"&&(B.status="fulfilled",B.value=tt)},function(tt){B.status==="pending"&&(B.status="rejected",B.reason=tt)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function $(B,tt,ct,ft,yt){var bt=typeof B;(bt==="undefined"||bt==="boolean")&&(B=null);var qt=!1;if(B===null)qt=!0;else switch(bt){case"bigint":case"string":case"number":qt=!0;break;case"object":switch(B.$$typeof){case r:case t:qt=!0;break;case R:return qt=B._init,$(qt(B._payload),tt,ct,ft,yt)}}if(qt)return yt=yt(B),qt=ft===""?"."+Dt(B,0):ft,le(yt)?(ct="",qt!=null&&(ct=qt.replace(k,"$&/")+"/"),$(yt,tt,ct,"",function(ls){return ls})):yt!=null&&(D(yt)&&(yt=M(yt,ct+(yt.key==null||B&&B.key===yt.key?"":(""+yt.key).replace(k,"$&/")+"/")+qt)),tt.push(yt)),1;qt=0;var xe=ft===""?".":ft+":";if(le(B))for(var Ie=0;Ie<B.length;Ie++)ft=B[Ie],bt=xe+Dt(ft,Ie),qt+=$(ft,tt,ct,bt,yt);else if(Ie=K(B),typeof Ie=="function")for(B=Ie.call(B),Ie=0;!(ft=B.next()).done;)ft=ft.value,bt=xe+Dt(ft,Ie++),qt+=$(ft,tt,ct,bt,yt);else if(bt==="object"){if(typeof B.then=="function")return $(ee(B),tt,ct,ft,yt);throw tt=String(B),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return qt}function pt(B,tt,ct){if(B==null)return B;var ft=[],yt=0;return $(B,ft,"","",function(bt){return tt.call(ct,bt,yt++)}),ft}function ht(B){if(B._status===-1){var tt=B._result;tt=tt(),tt.then(function(ct){(B._status===0||B._status===-1)&&(B._status=1,B._result=ct)},function(ct){(B._status===0||B._status===-1)&&(B._status=2,B._result=ct)}),B._status===-1&&(B._status=0,B._result=tt)}if(B._status===1)return B._result.default;throw B._result}var Gt=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},vt={map:pt,forEach:function(B,tt,ct){pt(B,function(){tt.apply(this,arguments)},ct)},count:function(B){var tt=0;return pt(B,function(){tt++}),tt},toArray:function(B){return pt(B,function(tt){return tt})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Ft.Activity=N,Ft.Children=vt,Ft.Component=Tt,Ft.Fragment=n,Ft.Profiler=l,Ft.PureComponent=xt,Ft.StrictMode=a,Ft.Suspense=v,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(B){return j.H.useMemoCache(B)}},Ft.cache=function(B){return function(){return B.apply(null,arguments)}},Ft.cacheSignal=function(){return null},Ft.cloneElement=function(B,tt,ct){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ft=st({},B.props),yt=B.key;if(tt!=null)for(bt in tt.key!==void 0&&(yt=""+tt.key),tt)!O.call(tt,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&tt.ref===void 0||(ft[bt]=tt[bt]);var bt=arguments.length-2;if(bt===1)ft.children=ct;else if(1<bt){for(var qt=Array(bt),xe=0;xe<bt;xe++)qt[xe]=arguments[xe+2];ft.children=qt}return z(B.type,yt,ft)},Ft.createContext=function(B){return B={$$typeof:p,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:h,_context:B},B},Ft.createElement=function(B,tt,ct){var ft,yt={},bt=null;if(tt!=null)for(ft in tt.key!==void 0&&(bt=""+tt.key),tt)O.call(tt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(yt[ft]=tt[ft]);var qt=arguments.length-2;if(qt===1)yt.children=ct;else if(1<qt){for(var xe=Array(qt),Ie=0;Ie<qt;Ie++)xe[Ie]=arguments[Ie+2];yt.children=xe}if(B&&B.defaultProps)for(ft in qt=B.defaultProps,qt)yt[ft]===void 0&&(yt[ft]=qt[ft]);return z(B,bt,yt)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(B){return{$$typeof:b,render:B}},Ft.isValidElement=D,Ft.lazy=function(B){return{$$typeof:R,_payload:{_status:-1,_result:B},_init:ht}},Ft.memo=function(B,tt){return{$$typeof:T,type:B,compare:tt===void 0?null:tt}},Ft.startTransition=function(B){var tt=j.T,ct={};j.T=ct;try{var ft=B(),yt=j.S;yt!==null&&yt(ct,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(Ot,Gt)}catch(bt){Gt(bt)}finally{tt!==null&&ct.types!==null&&(tt.types=ct.types),j.T=tt}},Ft.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ft.use=function(B){return j.H.use(B)},Ft.useActionState=function(B,tt,ct){return j.H.useActionState(B,tt,ct)},Ft.useCallback=function(B,tt){return j.H.useCallback(B,tt)},Ft.useContext=function(B){return j.H.useContext(B)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(B,tt){return j.H.useDeferredValue(B,tt)},Ft.useEffect=function(B,tt){return j.H.useEffect(B,tt)},Ft.useEffectEvent=function(B){return j.H.useEffectEvent(B)},Ft.useId=function(){return j.H.useId()},Ft.useImperativeHandle=function(B,tt,ct){return j.H.useImperativeHandle(B,tt,ct)},Ft.useInsertionEffect=function(B,tt){return j.H.useInsertionEffect(B,tt)},Ft.useLayoutEffect=function(B,tt){return j.H.useLayoutEffect(B,tt)},Ft.useMemo=function(B,tt){return j.H.useMemo(B,tt)},Ft.useOptimistic=function(B,tt){return j.H.useOptimistic(B,tt)},Ft.useReducer=function(B,tt,ct){return j.H.useReducer(B,tt,ct)},Ft.useRef=function(B){return j.H.useRef(B)},Ft.useState=function(B){return j.H.useState(B)},Ft.useSyncExternalStore=function(B,tt,ct){return j.H.useSyncExternalStore(B,tt,ct)},Ft.useTransition=function(){return j.H.useTransition()},Ft.version="19.2.4",Ft}var _v;function yp(){return _v||(_v=1,Nm.exports=lw()),Nm.exports}var mt=yp();const Zm=a1(mt);var Mm={exports:{}},Ku={},Dm={exports:{}},km={};var yv;function uw(){return yv||(yv=1,(function(r){function t($,pt){var ht=$.length;$.push(pt);t:for(;0<ht;){var Gt=ht-1>>>1,vt=$[Gt];if(0<l(vt,pt))$[Gt]=pt,$[ht]=vt,ht=Gt;else break t}}function n($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var pt=$[0],ht=$.pop();if(ht!==pt){$[0]=ht;t:for(var Gt=0,vt=$.length,B=vt>>>1;Gt<B;){var tt=2*(Gt+1)-1,ct=$[tt],ft=tt+1,yt=$[ft];if(0>l(ct,ht))ft<vt&&0>l(yt,ct)?($[Gt]=yt,$[ft]=ht,Gt=ft):($[Gt]=ct,$[tt]=ht,Gt=tt);else if(ft<vt&&0>l(yt,ht))$[Gt]=yt,$[ft]=ht,Gt=ft;else break t}}return pt}function l($,pt){var ht=$.sortIndex-pt.sortIndex;return ht!==0?ht:$.id-pt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var v=[],T=[],R=1,N=null,P=3,K=!1,it=!1,st=!1,dt=!1,Tt=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;function Ut($){for(var pt=n(T);pt!==null;){if(pt.callback===null)a(T);else if(pt.startTime<=$)a(T),pt.sortIndex=pt.expirationTime,t(v,pt);else break;pt=n(T)}}function le($){if(st=!1,Ut($),!it)if(n(v)!==null)it=!0,Ot||(Ot=!0,H());else{var pt=n(T);pt!==null&&ee(le,pt.startTime-$)}}var Ot=!1,j=-1,O=5,z=-1;function M(){return dt?!0:!(r.unstable_now()-z<O)}function D(){if(dt=!1,Ot){var $=r.unstable_now();z=$;var pt=!0;try{t:{it=!1,st&&(st=!1,Rt(j),j=-1),K=!0;var ht=P;try{e:{for(Ut($),N=n(v);N!==null&&!(N.expirationTime>$&&M());){var Gt=N.callback;if(typeof Gt=="function"){N.callback=null,P=N.priorityLevel;var vt=Gt(N.expirationTime<=$);if($=r.unstable_now(),typeof vt=="function"){N.callback=vt,Ut($),pt=!0;break e}N===n(v)&&a(v),Ut($)}else a(v);N=n(v)}if(N!==null)pt=!0;else{var B=n(T);B!==null&&ee(le,B.startTime-$),pt=!1}}break t}finally{N=null,P=ht,K=!1}pt=void 0}}finally{pt?H():Ot=!1}}}var H;if(typeof xt=="function")H=function(){xt(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Dt=k.port2;k.port1.onmessage=D,H=function(){Dt.postMessage(null)}}else H=function(){Tt(D,0)};function ee($,pt){j=Tt(function(){$(r.unstable_now())},pt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return P},r.unstable_next=function($){switch(P){case 1:case 2:case 3:var pt=3;break;default:pt=P}var ht=P;P=pt;try{return $()}finally{P=ht}},r.unstable_requestPaint=function(){dt=!0},r.unstable_runWithPriority=function($,pt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ht=P;P=$;try{return pt()}finally{P=ht}},r.unstable_scheduleCallback=function($,pt,ht){var Gt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Gt+ht:Gt):ht=Gt,$){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=ht+vt,$={id:R++,callback:pt,priorityLevel:$,startTime:ht,expirationTime:vt,sortIndex:-1},ht>Gt?($.sortIndex=ht,t(T,$),n(v)===null&&$===n(T)&&(st?(Rt(j),j=-1):st=!0,ee(le,ht-Gt))):($.sortIndex=vt,t(v,$),it||K||(it=!0,Ot||(Ot=!0,H()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var pt=P;return function(){var ht=P;P=pt;try{return $.apply(this,arguments)}finally{P=ht}}}})(km)),km}var vv;function cw(){return vv||(vv=1,Dm.exports=uw()),Dm.exports}var Om={exports:{}},Bn={};var bv;function hw(){if(bv)return Bn;bv=1;var r=yp();function t(v){var T="https://react.dev/errors/"+v;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)T+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+v+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,T,R){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:N==null?null:""+N,children:v,containerInfo:T,implementation:R}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(v,T){if(v==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Bn.createPortal=function(v,T){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(v,T,null,R)},Bn.flushSync=function(v){var T=p.T,R=a.p;try{if(p.T=null,a.p=2,v)return v()}finally{p.T=T,a.p=R,a.d.f()}},Bn.preconnect=function(v,T){typeof v=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,a.d.C(v,T))},Bn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Bn.preinit=function(v,T){if(typeof v=="string"&&T&&typeof T.as=="string"){var R=T.as,N=b(R,T.crossOrigin),P=typeof T.integrity=="string"?T.integrity:void 0,K=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;R==="style"?a.d.S(v,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:N,integrity:P,fetchPriority:K}):R==="script"&&a.d.X(v,{crossOrigin:N,integrity:P,fetchPriority:K,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Bn.preinitModule=function(v,T){if(typeof v=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var R=b(T.as,T.crossOrigin);a.d.M(v,{crossOrigin:R,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&a.d.M(v)},Bn.preload=function(v,T){if(typeof v=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var R=T.as,N=b(R,T.crossOrigin);a.d.L(v,R,{crossOrigin:N,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Bn.preloadModule=function(v,T){if(typeof v=="string")if(T){var R=b(T.as,T.crossOrigin);a.d.m(v,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:R,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else a.d.m(v)},Bn.requestFormReset=function(v){a.d.r(v)},Bn.unstable_batchedUpdates=function(v,T){return v(T)},Bn.useFormState=function(v,T,R){return p.H.useFormState(v,T,R)},Bn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Bn.version="19.2.4",Bn}var Ev;function o1(){if(Ev)return Om.exports;Ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Om.exports=hw(),Om.exports}var Tv;function fw(){if(Tv)return Ku;Tv=1;var r=cw(),t=yp(),n=o1();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function p(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function b(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function T(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return v(m),e;if(g===c)return v(m),i;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=g;else{for(var w=!1,C=m.child;C;){if(C===o){w=!0,o=m,c=g;break}if(C===c){w=!0,c=m,o=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===o){w=!0,o=g,c=m;break}if(C===c){w=!0,c=g,o=m;break}C=C.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function R(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=R(e),i!==null)return i;e=e.sibling}return null}var N=Object.assign,P=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),it=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),dt=Symbol.for("react.strict_mode"),Tt=Symbol.for("react.profiler"),Rt=Symbol.for("react.consumer"),xt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function Dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case Tt:return"Profiler";case dt:return"StrictMode";case le:return"Suspense";case Ot:return"SuspenseList";case z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case it:return"Portal";case xt:return e.displayName||"Context";case Rt:return(e._context.displayName||"Context")+".Consumer";case Ut:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return i=e.displayName||null,i!==null?i:Dt(e.type)||"Memo";case O:i=e._payload,e=e._init;try{return Dt(e(i))}catch{}}return null}var ee=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Gt=[],vt=-1;function B(e){return{current:e}}function tt(e){0>vt||(e.current=Gt[vt],Gt[vt]=null,vt--)}function ct(e,i){vt++,Gt[vt]=e.current,e.current=i}var ft=B(null),yt=B(null),bt=B(null),qt=B(null);function xe(e,i){switch(ct(bt,i),ct(yt,e),ct(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Vy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Vy(i),e=zy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tt(ft),ct(ft,e)}function Ie(){tt(ft),tt(yt),tt(bt)}function ls(e){e.memoizedState!==null&&ct(qt,e);var i=ft.current,o=zy(i,e.type);i!==o&&(ct(yt,e),ct(ft,o))}function Ns(e){yt.current===e&&(tt(ft),tt(yt)),qt.current===e&&(tt(qt),Hu._currentValue=ht)}var Ui,Ms;function Bi(e){if(Ui===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ui=i&&i[1]||"",Ms=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ui+e+Ms}var Br=!1;function Ds(e,i){if(!e||Br)return"";Br=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(et){var W=et}Reflect.construct(e,[],lt)}else{try{lt.call()}catch(et){W=et}e.call(lt.prototype)}}else{try{throw Error()}catch(et){W=et}(lt=e())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(et){if(et&&W&&typeof et.stack=="string")return[et.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],C=g[1];if(w&&C){var U=w.split(`
`),Q=C.split(`
`);for(m=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(c===U.length||m===Q.length)for(c=U.length-1,m=Q.length-1;1<=c&&0<=m&&U[c]!==Q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(U[c]!==Q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||U[c]!==Q[m]){var nt=`
`+U[c].replace(" at new "," at ");return e.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",e.displayName)),nt}while(1<=c&&0<=m);break}}}finally{Br=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Bi(o):""}function rr(e,i){switch(e.tag){case 26:case 27:case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return e.child!==i&&i!==null?Bi("Suspense Fallback"):Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Ds(e.type,!1);case 11:return Ds(e.type.render,!1);case 1:return Ds(e.type,!0);case 31:return Bi("Activity");default:return""}}function ks(e){try{var i="",o=null;do i+=rr(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Fe=Object.prototype.hasOwnProperty,Ge=r.unstable_scheduleCallback,Hi=r.unstable_cancelCallback,Zo=r.unstable_shouldYield,Wa=r.unstable_requestPaint,An=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,or=r.unstable_ImmediatePriority,Hr=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,ou=r.unstable_LowPriority,Ja=r.unstable_IdlePriority,$a=r.log,Ko=r.unstable_setDisableYieldValue,$n=null,Je=null;function Gn(e){if(typeof $a=="function"&&Ko(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode($n,e)}catch{}}var je=Math.clz32?Math.clz32:Yo,Os=Math.log,qr=Math.LN2;function Yo(e){return e>>>=0,e===0?32:31-(Os(e)/qr|0)|0}var yi=256,Ls=262144,Ue=4194304;function qi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fi(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?m=qi(c):(w&=C,w!==0?m=qi(w):o||(o=C&~e,o!==0&&(m=qi(o))))):(C=c&~g,C!==0?m=qi(C):w!==0?m=qi(w):o||(o=c&~e,o!==0&&(m=qi(o)))),m===0?0:i!==0&&i!==m&&(i&g)===0&&(g=m&-m,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:m}function vi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function lu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Gi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function cs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uu(e,i,o,c,m,g){var w=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,U=e.expirationTimes,Q=e.hiddenUpdates;for(o=w&~o;0<o;){var nt=31-je(o),lt=1<<nt;C[nt]=0,U[nt]=-1;var W=Q[nt];if(W!==null)for(Q[nt]=null,nt=0;nt<W.length;nt++){var et=W[nt];et!==null&&(et.lane&=-536870913)}o&=~lt}c!==0&&lr(e,c,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~i))}function lr(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-je(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function to(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-je(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function eo(e,i){var o=i&-i;return o=(o&42)!==0?1:gn(o),(o&(e.suspendedLanes|i))!==0?0:o}function gn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function At(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function no(){var e=pt.p;return e!==0?e:(e=window.event,e===void 0?32:ov(e.type))}function ti(e,i){var o=pt.p;try{return pt.p=e,i()}finally{pt.p=o}}var ei=Math.random().toString(36).slice(2),Be="__reactFiber$"+ei,Ze="__reactProps$"+ei,bi="__reactContainer$"+ei,Ei="__reactEvents$"+ei,Xo="__reactListeners$"+ei,Wo="__reactHandles$"+ei,Jo="__reactResources$"+ei,Zi="__reactMarker$"+ei;function Fr(e){delete e[Be],delete e[Ze],delete e[Ei],delete e[Xo],delete e[Wo]}function Ti(e){var i=e[Be];if(i)return i;for(var o=e.parentNode;o;){if(i=o[bi]||o[Be]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Gy(e);e!==null;){if(o=e[Be])return o;e=Gy(e)}return i}e=o,o=e.parentNode}return null}function ni(e){if(e=e[Be]||e[bi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Ki(e){var i=e[Jo];return i||(i=e[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ke(e){e[Zi]=!0}var io=new Set,so={};function Yi(e,i){ii(e,i),ii(e+"Capture",i)}function ii(e,i){for(so[e]=i,e=0;e<i.length;e++)io.add(i[e])}var hs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gr={},Zr={};function Ps(e){return Fe.call(Zr,e)?!0:Fe.call(Gr,e)?!1:hs.test(e)?Zr[e]=!0:(Gr[e]=!0,!1)}function Xt(e,i,o){if(Ps(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Wt(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function ke(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Oe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ur(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function wt(e){if(!e._valueTracker){var i=Zn(e)?"checked":"value";e._valueTracker=ur(e,i,""+e[i])}}function be(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Zn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qi=/[\n"\\]/g;function Ne(e){return e.replace(Qi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Kr(e,i,o,c,m,g,w,C){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),i!=null?w==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Oe(i)):e.value!==""+Oe(i)&&(e.value=""+Oe(i)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),i!=null?wi(e,w,Oe(i)):o!=null?wi(e,w,Oe(o)):c!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Oe(C):e.removeAttribute("name")}function cr(e,i,o,c,m,g,w,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){wt(e);return}o=o!=null?""+Oe(o):"",i=i!=null?""+Oe(i):o,C||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),wt(e)}function wi(e,i,o){i==="number"&&si(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Ee(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Oe(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function Xi(e,i,o){if(i!=null&&(i=""+Oe(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Oe(o):""}function ri(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(ee(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Oe(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),wt(e)}function nn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fs(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||Yr.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function hr(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&fs(e,m,c)}else for(var g in i)i.hasOwnProperty(g)&&fs(e,g,i[g])}function Vs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return Wi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var Qr=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var js=null,Lt=null;function yn(e){var i=ni(e);if(i&&(e=i.stateNode)){var o=e[Ze]||null;t:switch(e=i.stateNode,i.type){case"input":if(Kr(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ne(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[Ze]||null;if(!m)throw Error(a(90));Kr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&be(c)}break t;case"textarea":Xi(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&Ee(e,!!o.multiple,i,!1)}}}var me=!1;function ds(e,i,o){if(me)return e(i,o);me=!0;try{var c=e(i);return c}finally{if(me=!1,(js!==null||Lt!==null)&&(_h(),js&&(i=js,e=Lt,Lt=js=null,yn(i),e)))for(i=0;i<e.length;i++)yn(e[i])}}function Kn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Ze]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(Vn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ms=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ms=!1}var ai=null,ps=null,Le=null;function xi(){if(Le)return Le;var e,i=ps,o=i.length,c,m="value"in ai?ai.value:ai.textContent,g=m.length;for(e=0;e<o&&i[e]===m[e];e++);var w=o-e;for(c=1;c<=w&&i[o-c]===m[g-c];c++);return Le=m.slice(e,1<c?1-c:void 0)}function Us(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function Si(){return!1}function sn(e){function i(o,c,m,g,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ji:Si,this.isPropagationStopped=Si,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),i}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=sn(Ai),gs=N({},Ai,{view:0,detail:0}),Qt=sn(gs),Bs,vn,zn,dr=N({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(Bs=e.screenX-zn.screenX,vn=e.screenY-zn.screenY):vn=Bs=0,zn=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:vn}}),ro=sn(dr),_s=N({},dr,{dataTransfer:0}),$o=sn(_s),ao=N({},gs,{relatedTarget:0}),mr=sn(ao),oo=N({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Xr=sn(oo),Wr=N({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yn=sn(Wr),tl=N({},Ai,{data:0}),Ci=sn(tl),Ri={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jr(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=uo[e])?!!i[e]:!1}function Hs(){return Jr}var bn=N({},gs,{key:function(e){if(e.key){var i=Ri[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),co=sn(bn),el=N({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ys=sn(el),f=N({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),y=sn(f),S=N({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=sn(S),Z=N({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J=sn(Z),gt=N({},Ai,{newState:0,oldState:0}),jt=sn(gt),ce=[9,13,27,32],he=Vn&&"CompositionEvent"in window,Me=null;Vn&&"documentMode"in document&&(Me=document.documentMode);var oi=Vn&&"TextEvent"in window&&!Me,li=Vn&&(!he||Me&&8<Me&&11>=Me),Qn=" ",Ii=!1;function pr(e,i){switch(e){case"keyup":return ce.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function Ni(e,i){switch(e){case"compositionend":return gr(i);case"keypress":return i.which!==32?null:(Ii=!0,Qn);case"textInput":return e=i.data,e===Qn&&Ii?null:e;default:return null}}function ta(e,i){if($r)return e==="compositionend"||!he&&pr(e,i)?(e=xi(),Le=ps=ai=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return li&&i.locale!=="ko"?null:i.data;default:return null}}var Kf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ts(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Kf[e.type]:i==="textarea"}function Oc(e,i,o,c){js?Lt?Lt.push(c):Lt=[c]:js=c,i=xh(i,"onChange"),0<i.length&&(o=new $i("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var es=null,ho=null;function fo(e){My(e,0)}function mo(e){var i=_n(e);if(be(i))return e}function po(e,i){if(e==="change")return i}var Lc=!1;if(Vn){var ns;if(Vn){var ea="oninput"in document;if(!ea){var Pc=document.createElement("div");Pc.setAttribute("oninput","return;"),ea=typeof Pc.oninput=="function"}ns=ea}else ns=!1;Lc=ns&&(!document.documentMode||9<document.documentMode)}function nl(){es&&(es.detachEvent("onpropertychange",Vc),ho=es=null)}function Vc(e){if(e.propertyName==="value"&&mo(ho)){var i=[];Oc(i,ho,e,Pn(e)),ds(fo,i)}}function vs(e,i,o){e==="focusin"?(nl(),es=i,ho=o,es.attachEvent("onpropertychange",Vc)):e==="focusout"&&nl()}function Yf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mo(ho)}function na(e,i){if(e==="click")return mo(i)}function Qf(e,i){if(e==="input"||e==="change")return mo(i)}function bs(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:bs;function ia(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Fe.call(i,m)||!En(e[m],i[m]))return!1}return!0}function il(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function go(e,i){var o=il(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=il(o)}}function sl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?sl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function _o(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=si(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=si(e.document)}return i}function qs(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var rl=Vn&&"documentMode"in document&&11>=document.documentMode,Fs=null,al=null,yo=null,sa=!1;function zc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sa||Fs==null||Fs!==si(c)||(c=Fs,"selectionStart"in c&&qs(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yo&&ia(yo,c)||(yo=c,c=xh(al,"onSelect"),0<c.length&&(i=new $i("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Fs)))}function Gs(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var ra={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},ol={},jc={};Vn&&(jc=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function Tn(e){if(ol[e])return ol[e];if(!ra[e])return e;var i=ra[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in jc)return ol[e]=i[o];return e}var vo=Tn("animationend"),Uc=Tn("animationiteration"),bo=Tn("animationstart"),Xf=Tn("transitionrun"),Bc=Tn("transitionstart"),Wf=Tn("transitioncancel"),aa=Tn("transitionend"),Hc=new Map,Zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zs.push("scrollEnd");function ui(e,i){Hc.set(e,i),Yi(i,[e])}var Eo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ci=[],jn=0,ll=0;function To(){for(var e=jn,i=ll=jn=0;i<e;){var o=ci[i];ci[i++]=null;var c=ci[i];ci[i++]=null;var m=ci[i];ci[i++]=null;var g=ci[i];if(ci[i++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}g!==0&&oa(o,m,g)}}function Ks(e,i,o,c){ci[jn++]=e,ci[jn++]=i,ci[jn++]=o,ci[jn++]=c,ll|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function cu(e,i,o,c){return Ks(e,i,o,c),wo(e)}function is(e,i){return Ks(e,null,null,i),wo(e)}function oa(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&i!==null&&(m=31-je(o),e=g.hiddenUpdates,c=e[m],c===null?e[m]=[i]:c.push(i),i.lane=o|536870912),g):null}function wo(e){if(50<Lu)throw Lu=0,$d=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var _r={};function Jf(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,i,o,c){return new Jf(e,i,o,c)}function ul(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ss(e,i){var o=e.alternate;return o===null?(o=Un(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function hu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function xo(e,i,o,c,m,g){var w=0;if(c=e,typeof e=="function")ul(e)&&(w=1);else if(typeof e=="string")w=YT(e,o,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case z:return e=Un(31,o,i,m),e.elementType=z,e.lanes=g,e;case st:return yr(o.children,m,g,i);case dt:w=8,m|=24;break;case Tt:return e=Un(12,o,i,m|2),e.elementType=Tt,e.lanes=g,e;case le:return e=Un(13,o,i,m),e.elementType=le,e.lanes=g,e;case Ot:return e=Un(19,o,i,m),e.elementType=Ot,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xt:w=10;break t;case Rt:w=9;break t;case Ut:w=11;break t;case j:w=14;break t;case O:w=16,c=null;break t}w=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=Un(w,o,i,m),i.elementType=e,i.type=c,i.lanes=g,i}function yr(e,i,o,c){return e=Un(7,e,c,i),e.lanes=o,e}function cl(e,i,o){return e=Un(6,e,null,i),e.lanes=o,e}function fu(e){var i=Un(18,null,null,0);return i.stateNode=e,i}function du(e,i,o){return i=Un(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var s=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=s.get(e);return o!==void 0?o:(i={value:e,source:i,stack:ks(i)},s.set(e,i),i)}return{value:e,source:i,stack:ks(i)}}var d=[],_=0,E=null,A=0,V=[],G=0,X=null,ot=1,_t="";function Nt(e,i){d[_++]=A,d[_++]=E,E=e,A=i}function Kt(e,i,o){V[G++]=ot,V[G++]=_t,V[G++]=X,X=e;var c=ot;e=_t;var m=32-je(c)-1;c&=~(1<<m),o+=1;var g=32-je(i)+m;if(30<g){var w=m-m%5;g=(c&(1<<w)-1).toString(32),c>>=w,m-=w,ot=1<<32-je(i)+m|o<<m|c,_t=g+e}else ot=1<<g|o<<m|c,_t=e}function fn(e){e.return!==null&&(Nt(e,1),Kt(e,1,0))}function Ye(e){for(;e===E;)E=d[--_],d[_]=null,A=d[--_],d[_]=null;for(;e===X;)X=V[--G],V[G]=null,_t=V[--G],V[G]=null,ot=V[--G],V[G]=null}function Xn(e,i){V[G++]=ot,V[G++]=_t,V[G++]=X,ot=i.id,_t=i.overflow,X=e}var pe=null,ge=null,Jt=!1,Ys=null,hi=!1,hl=Error(a(519));function Qs(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw So(u(i,e)),hl}function mu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Be]=e,i[Ze]=c,o){case"dialog":te("cancel",i),te("close",i);break;case"iframe":case"object":case"embed":te("load",i);break;case"video":case"audio":for(o=0;o<Vu.length;o++)te(Vu[o],i);break;case"source":te("error",i);break;case"img":case"image":case"link":te("error",i),te("load",i);break;case"details":te("toggle",i);break;case"input":te("invalid",i),cr(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":te("invalid",i);break;case"textarea":te("invalid",i),ri(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Ly(i.textContent,o)?(c.popover!=null&&(te("beforetoggle",i),te("toggle",i)),c.onScroll!=null&&te("scroll",i),c.onScrollEnd!=null&&te("scrollend",i),c.onClick!=null&&(i.onclick=Ln),i=!0):i=!1,i||Qs(e,!0)}function He(e){for(pe=e.return;pe;)switch(pe.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:pe=pe.return}}function Es(e){if(e!==pe)return!1;if(!Jt)return He(e),Jt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||mm(e.type,e.memoizedProps)),o=!o),o&&ge&&Qs(e),He(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ge=Fy(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ge=Fy(e)}else i===27?(i=ge,Ea(e.type)?(e=vm,vm=null,ge=e):ge=i):ge=pe?as(e.stateNode.nextSibling):null;return!0}function vr(){ge=pe=null,Jt=!1}function pu(){var e=Ys;return e!==null&&(pi===null?pi=e:pi.push.apply(pi,e),Ys=null),e}function So(e){Ys===null?Ys=[e]:Ys.push(e)}var Ao=B(null),Xs=null,Ts=null;function la(e,i,o){ct(Ao,i._currentValue),i._currentValue=o}function br(e){e._currentValue=Ao.current,tt(Ao)}function $f(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function td(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=m;for(var U=0;U<i.length;U++)if(C.context===i[U]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),$f(g.return,o,e),c||(w=null);break t}g=C.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(a(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),$f(w,o,e),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===e){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function fl(e,i,o,c){e=null;for(var m=i,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var C=m.type;En(m.pendingProps.value,w.value)||(e!==null?e.push(C):e=[C])}}else if(m===qt.current){if(w=m.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Hu):e=[Hu])}m=m.return}e!==null&&td(i,e,o,c),i.flags|=262144}function qc(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Co(e){Xs=e,Ts=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Cn(e){return bg(Xs,e)}function Fc(e,i){return Xs===null&&Co(e),bg(e,i)}function bg(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ts===null){if(e===null)throw Error(a(308));Ts=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ts=Ts.next=i;return o}var FE=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},GE=r.unstable_scheduleCallback,ZE=r.unstable_NormalPriority,rn={$$typeof:xt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ed(){return{controller:new FE,data:new Map,refCount:0}}function gu(e){e.refCount--,e.refCount===0&&GE(ZE,function(){e.controller.abort()})}var _u=null,nd=0,dl=0,ml=null;function KE(e,i){if(_u===null){var o=_u=[];nd=0,dl=rm(),ml={status:"pending",value:void 0,then:function(c){o.push(c)}}}return nd++,i.then(Eg,Eg),i}function Eg(){if(--nd===0&&_u!==null){ml!==null&&(ml.status="fulfilled");var e=_u;_u=null,dl=0,ml=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function YE(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Tg=$.S;$.S=function(e,i){ry=An(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&KE(e,i),Tg!==null&&Tg(e,i)};var Ro=B(null);function id(){var e=Ro.current;return e!==null?e:De.pooledCache}function Gc(e,i){i===null?ct(Ro,Ro.current):ct(Ro,i.pool)}function wg(){var e=id();return e===null?null:{parent:rn._currentValue,pool:e}}var pl=Error(a(460)),sd=Error(a(474)),Zc=Error(a(542)),Kc={then:function(){}};function xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sg(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(Ln,Ln),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Cg(e),e;default:if(typeof i.status=="string")i.then(Ln,Ln);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Cg(e),e}throw No=i,pl}}function Io(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(No=o,pl):o}}var No=null;function Ag(){if(No===null)throw Error(a(459));var e=No;return No=null,e}function Cg(e){if(e===pl||e===Zc)throw Error(a(483))}var gl=null,yu=0;function Yc(e){var i=yu;return yu+=1,gl===null&&(gl=[]),Sg(gl,e,i)}function vu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Qc(e,i){throw i.$$typeof===P?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Rg(e){function i(F,q){if(e){var Y=F.deletions;Y===null?(F.deletions=[q],F.flags|=16):Y.push(q)}}function o(F,q){if(!e)return null;for(;q!==null;)i(F,q),q=q.sibling;return null}function c(F){for(var q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function m(F,q){return F=ss(F,q),F.index=0,F.sibling=null,F}function g(F,q,Y){return F.index=Y,e?(Y=F.alternate,Y!==null?(Y=Y.index,Y<q?(F.flags|=67108866,q):Y):(F.flags|=67108866,q)):(F.flags|=1048576,q)}function w(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function C(F,q,Y,rt){return q===null||q.tag!==6?(q=cl(Y,F.mode,rt),q.return=F,q):(q=m(q,Y),q.return=F,q)}function U(F,q,Y,rt){var kt=Y.type;return kt===st?nt(F,q,Y.props.children,rt,Y.key):q!==null&&(q.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===O&&Io(kt)===q.type)?(q=m(q,Y.props),vu(q,Y),q.return=F,q):(q=xo(Y.type,Y.key,Y.props,null,F.mode,rt),vu(q,Y),q.return=F,q)}function Q(F,q,Y,rt){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=du(Y,F.mode,rt),q.return=F,q):(q=m(q,Y.children||[]),q.return=F,q)}function nt(F,q,Y,rt,kt){return q===null||q.tag!==7?(q=yr(Y,F.mode,rt,kt),q.return=F,q):(q=m(q,Y),q.return=F,q)}function lt(F,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=cl(""+q,F.mode,Y),q.return=F,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case K:return Y=xo(q.type,q.key,q.props,null,F.mode,Y),vu(Y,q),Y.return=F,Y;case it:return q=du(q,F.mode,Y),q.return=F,q;case O:return q=Io(q),lt(F,q,Y)}if(ee(q)||H(q))return q=yr(q,F.mode,Y,null),q.return=F,q;if(typeof q.then=="function")return lt(F,Yc(q),Y);if(q.$$typeof===xt)return lt(F,Fc(F,q),Y);Qc(F,q)}return null}function W(F,q,Y,rt){var kt=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return kt!==null?null:C(F,q,""+Y,rt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return Y.key===kt?U(F,q,Y,rt):null;case it:return Y.key===kt?Q(F,q,Y,rt):null;case O:return Y=Io(Y),W(F,q,Y,rt)}if(ee(Y)||H(Y))return kt!==null?null:nt(F,q,Y,rt,null);if(typeof Y.then=="function")return W(F,q,Yc(Y),rt);if(Y.$$typeof===xt)return W(F,q,Fc(F,Y),rt);Qc(F,Y)}return null}function et(F,q,Y,rt,kt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return F=F.get(Y)||null,C(q,F,""+rt,kt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case K:return F=F.get(rt.key===null?Y:rt.key)||null,U(q,F,rt,kt);case it:return F=F.get(rt.key===null?Y:rt.key)||null,Q(q,F,rt,kt);case O:return rt=Io(rt),et(F,q,Y,rt,kt)}if(ee(rt)||H(rt))return F=F.get(Y)||null,nt(q,F,rt,kt,null);if(typeof rt.then=="function")return et(F,q,Y,Yc(rt),kt);if(rt.$$typeof===xt)return et(F,q,Y,Fc(q,rt),kt);Qc(q,rt)}return null}function Ct(F,q,Y,rt){for(var kt=null,_e=null,It=q,Yt=q=0,se=null;It!==null&&Yt<Y.length;Yt++){It.index>Yt?(se=It,It=null):se=It.sibling;var ye=W(F,It,Y[Yt],rt);if(ye===null){It===null&&(It=se);break}e&&It&&ye.alternate===null&&i(F,It),q=g(ye,q,Yt),_e===null?kt=ye:_e.sibling=ye,_e=ye,It=se}if(Yt===Y.length)return o(F,It),Jt&&Nt(F,Yt),kt;if(It===null){for(;Yt<Y.length;Yt++)It=lt(F,Y[Yt],rt),It!==null&&(q=g(It,q,Yt),_e===null?kt=It:_e.sibling=It,_e=It);return Jt&&Nt(F,Yt),kt}for(It=c(It);Yt<Y.length;Yt++)se=et(It,F,Yt,Y[Yt],rt),se!==null&&(e&&se.alternate!==null&&It.delete(se.key===null?Yt:se.key),q=g(se,q,Yt),_e===null?kt=se:_e.sibling=se,_e=se);return e&&It.forEach(function(Aa){return i(F,Aa)}),Jt&&Nt(F,Yt),kt}function Vt(F,q,Y,rt){if(Y==null)throw Error(a(151));for(var kt=null,_e=null,It=q,Yt=q=0,se=null,ye=Y.next();It!==null&&!ye.done;Yt++,ye=Y.next()){It.index>Yt?(se=It,It=null):se=It.sibling;var Aa=W(F,It,ye.value,rt);if(Aa===null){It===null&&(It=se);break}e&&It&&Aa.alternate===null&&i(F,It),q=g(Aa,q,Yt),_e===null?kt=Aa:_e.sibling=Aa,_e=Aa,It=se}if(ye.done)return o(F,It),Jt&&Nt(F,Yt),kt;if(It===null){for(;!ye.done;Yt++,ye=Y.next())ye=lt(F,ye.value,rt),ye!==null&&(q=g(ye,q,Yt),_e===null?kt=ye:_e.sibling=ye,_e=ye);return Jt&&Nt(F,Yt),kt}for(It=c(It);!ye.done;Yt++,ye=Y.next())ye=et(It,F,Yt,ye.value,rt),ye!==null&&(e&&ye.alternate!==null&&It.delete(ye.key===null?Yt:ye.key),q=g(ye,q,Yt),_e===null?kt=ye:_e.sibling=ye,_e=ye);return e&&It.forEach(function(rw){return i(F,rw)}),Jt&&Nt(F,Yt),kt}function Ce(F,q,Y,rt){if(typeof Y=="object"&&Y!==null&&Y.type===st&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:t:{for(var kt=Y.key;q!==null;){if(q.key===kt){if(kt=Y.type,kt===st){if(q.tag===7){o(F,q.sibling),rt=m(q,Y.props.children),rt.return=F,F=rt;break t}}else if(q.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===O&&Io(kt)===q.type){o(F,q.sibling),rt=m(q,Y.props),vu(rt,Y),rt.return=F,F=rt;break t}o(F,q);break}else i(F,q);q=q.sibling}Y.type===st?(rt=yr(Y.props.children,F.mode,rt,Y.key),rt.return=F,F=rt):(rt=xo(Y.type,Y.key,Y.props,null,F.mode,rt),vu(rt,Y),rt.return=F,F=rt)}return w(F);case it:t:{for(kt=Y.key;q!==null;){if(q.key===kt)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){o(F,q.sibling),rt=m(q,Y.children||[]),rt.return=F,F=rt;break t}else{o(F,q);break}else i(F,q);q=q.sibling}rt=du(Y,F.mode,rt),rt.return=F,F=rt}return w(F);case O:return Y=Io(Y),Ce(F,q,Y,rt)}if(ee(Y))return Ct(F,q,Y,rt);if(H(Y)){if(kt=H(Y),typeof kt!="function")throw Error(a(150));return Y=kt.call(Y),Vt(F,q,Y,rt)}if(typeof Y.then=="function")return Ce(F,q,Yc(Y),rt);if(Y.$$typeof===xt)return Ce(F,q,Fc(F,Y),rt);Qc(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(o(F,q.sibling),rt=m(q,Y),rt.return=F,F=rt):(o(F,q),rt=cl(Y,F.mode,rt),rt.return=F,F=rt),w(F)):o(F,q)}return function(F,q,Y,rt){try{yu=0;var kt=Ce(F,q,Y,rt);return gl=null,kt}catch(It){if(It===pl||It===Zc)throw It;var _e=Un(29,It,null,F.mode);return _e.lanes=rt,_e.return=F,_e}}}var Mo=Rg(!0),Ig=Rg(!1),ua=!1;function rd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ha(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ve&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=wo(e),oa(e,null,o),i}return Ks(e,c,i,o),wo(e)}function bu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,to(e,o)}}function od(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=i:g=g.next=i}else m=g=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var ld=!1;function Eu(){if(ld){var e=ml;if(e!==null)throw e}}function Tu(e,i,o,c){ld=!1;var m=e.updateQueue;ua=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var U=C,Q=U.next;U.next=null,w===null?g=Q:w.next=Q,w=U;var nt=e.alternate;nt!==null&&(nt=nt.updateQueue,C=nt.lastBaseUpdate,C!==w&&(C===null?nt.firstBaseUpdate=Q:C.next=Q,nt.lastBaseUpdate=U))}if(g!==null){var lt=m.baseState;w=0,nt=Q=U=null,C=g;do{var W=C.lane&-536870913,et=W!==C.lane;if(et?(ie&W)===W:(c&W)===W){W!==0&&W===dl&&(ld=!0),nt!==null&&(nt=nt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Ct=e,Vt=C;W=i;var Ce=o;switch(Vt.tag){case 1:if(Ct=Vt.payload,typeof Ct=="function"){lt=Ct.call(Ce,lt,W);break t}lt=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Vt.payload,W=typeof Ct=="function"?Ct.call(Ce,lt,W):Ct,W==null)break t;lt=N({},lt,W);break t;case 2:ua=!0}}W=C.callback,W!==null&&(e.flags|=64,et&&(e.flags|=8192),et=m.callbacks,et===null?m.callbacks=[W]:et.push(W))}else et={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},nt===null?(Q=nt=et,U=lt):nt=nt.next=et,w|=W;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;et=C,C=et.next,et.next=null,m.lastBaseUpdate=et,m.shared.pending=null}}while(!0);nt===null&&(U=lt),m.baseState=U,m.firstBaseUpdate=Q,m.lastBaseUpdate=nt,g===null&&(m.shared.lanes=0),ga|=w,e.lanes=w,e.memoizedState=lt}}function Ng(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Mg(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Ng(o[e],i)}var _l=B(null),Xc=B(0);function Dg(e,i){e=Ir,ct(Xc,e),ct(_l,i),Ir=e|i.baseLanes}function ud(){ct(Xc,Ir),ct(_l,_l.current)}function cd(){Ir=Xc.current,tt(_l),tt(Xc)}var Mi=B(null),rs=null;function fa(e){var i=e.alternate;ct($e,$e.current&1),ct(Mi,e),rs===null&&(i===null||_l.current!==null||i.memoizedState!==null)&&(rs=e)}function hd(e){ct($e,$e.current),ct(Mi,e),rs===null&&(rs=e)}function kg(e){e.tag===22?(ct($e,$e.current),ct(Mi,e),rs===null&&(rs=e)):da()}function da(){ct($e,$e.current),ct(Mi,Mi.current)}function Di(e){tt(Mi),rs===e&&(rs=null),tt($e)}var $e=B(0);function Wc(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||_m(o)||ym(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Er=0,Zt=null,Se=null,an=null,Jc=!1,yl=!1,Do=!1,$c=0,wu=0,vl=null,QE=0;function Qe(){throw Error(a(321))}function fd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!En(e[o],i[o]))return!1;return!0}function dd(e,i,o,c,m,g){return Er=g,Zt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=e===null||e.memoizedState===null?g_:Rd,Do=!1,g=o(c,m),Do=!1,yl&&(g=Lg(i,o,c,m)),Og(e),g}function Og(e){$.H=Au;var i=Se!==null&&Se.next!==null;if(Er=0,an=Se=Zt=null,Jc=!1,wu=0,vl=null,i)throw Error(a(300));e===null||on||(e=e.dependencies,e!==null&&qc(e)&&(on=!0))}function Lg(e,i,o,c){Zt=e;var m=0;do{if(yl&&(vl=null),wu=0,yl=!1,25<=m)throw Error(a(301));if(m+=1,an=Se=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=__,g=i(o,c)}while(yl);return g}function XE(){var e=$.H,i=e.useState()[0];return i=typeof i.then=="function"?xu(i):i,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(Zt.flags|=1024),i}function md(){var e=$c!==0;return $c=0,e}function pd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function gd(e){if(Jc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Jc=!1}Er=0,an=Se=Zt=null,yl=!1,wu=$c=0,vl=null}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Zt.memoizedState=an=e:an=an.next=e,an}function tn(){if(Se===null){var e=Zt.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var i=an===null?Zt.memoizedState:an.next;if(i!==null)an=i,Se=e;else{if(e===null)throw Zt.alternate===null?Error(a(467)):Error(a(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},an===null?Zt.memoizedState=an=e:an=an.next=e}return an}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xu(e){var i=wu;return wu+=1,vl===null&&(vl=[]),e=Sg(vl,e,i),i=Zt,(an===null?i.memoizedState:an.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?g_:Rd),e}function eh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xu(e);if(e.$$typeof===xt)return Cn(e)}throw Error(a(438,String(e)))}function _d(e){var i=null,o=Zt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=th(),Zt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=M;return i.index++,o}function Tr(e,i){return typeof i=="function"?i(e):i}function nh(e){var i=tn();return yd(i,Se,e)}function yd(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=e.baseQueue,g=c.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}i.baseQueue=m=g,c.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{i=m.next;var C=w=null,U=null,Q=i,nt=!1;do{var lt=Q.lane&-536870913;if(lt!==Q.lane?(ie&lt)===lt:(Er&lt)===lt){var W=Q.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),lt===dl&&(nt=!0);else if((Er&W)===W){Q=Q.next,W===dl&&(nt=!0);continue}else lt={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(C=U=lt,w=g):U=U.next=lt,Zt.lanes|=W,ga|=W;lt=Q.action,Do&&o(g,lt),g=Q.hasEagerState?Q.eagerState:o(g,lt)}else W={lane:lt,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(C=U=W,w=g):U=U.next=W,Zt.lanes|=lt,ga|=lt;Q=Q.next}while(Q!==null&&Q!==i);if(U===null?w=g:U.next=C,!En(g,e.memoizedState)&&(on=!0,nt&&(o=ml,o!==null)))throw o;e.memoizedState=g,e.baseState=w,e.baseQueue=U,c.lastRenderedState=g}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function vd(e){var i=tn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,g=i.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=e(g,w.action),w=w.next;while(w!==m);En(g,i.memoizedState)||(on=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function Pg(e,i,o){var c=Zt,m=tn(),g=Jt;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=i();var w=!En((Se||m).memoizedState,o);if(w&&(m.memoizedState=o,on=!0),m=m.queue,Td(jg.bind(null,c,m,e),[e]),m.getSnapshot!==i||w||an!==null&&an.memoizedState.tag&1){if(c.flags|=2048,bl(9,{destroy:void 0},zg.bind(null,c,m,o,i),null),De===null)throw Error(a(349));g||(Er&127)!==0||Vg(c,i,o)}return o}function Vg(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Zt.updateQueue,i===null?(i=th(),Zt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function zg(e,i,o,c){i.value=o,i.getSnapshot=c,Ug(i)&&Bg(e)}function jg(e,i,o){return o(function(){Ug(i)&&Bg(e)})}function Ug(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!En(e,o)}catch{return!0}}function Bg(e){var i=is(e,2);i!==null&&gi(i,e,2)}function bd(e){var i=Wn();if(typeof e=="function"){var o=e;if(e=o(),Do){Gn(!0);try{o()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:e},i}function Hg(e,i,o,c){return e.baseState=o,yd(e,Se,typeof c=="function"?c:Tr)}function WE(e,i,o,c,m){if(rh(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};$.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,qg(i,g)):(g.next=o.next,i.pending=o.next=g)}}function qg(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var g=$.T,w={};$.T=w;try{var C=o(m,c),U=$.S;U!==null&&U(w,C),Fg(e,i,C)}catch(Q){Ed(e,i,Q)}finally{g!==null&&w.types!==null&&(g.types=w.types),$.T=g}}else try{g=o(m,c),Fg(e,i,g)}catch(Q){Ed(e,i,Q)}}function Fg(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Gg(e,i,c)},function(c){return Ed(e,i,c)}):Gg(e,i,o)}function Gg(e,i,o){i.status="fulfilled",i.value=o,Zg(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,qg(e,o)))}function Ed(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,Zg(i),i=i.next;while(i!==c)}e.action=null}function Zg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Kg(e,i){return i}function Yg(e,i){if(Jt){var o=De.formState;if(o!==null){t:{var c=Zt;if(Jt){if(ge){e:{for(var m=ge,g=hi;m.nodeType!==8;){if(!g){m=null;break e}if(m=as(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ge=as(m.nextSibling),c=m.data==="F!";break t}}Qs(c)}c=!1}c&&(i=o[0])}}return o=Wn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:i},o.queue=c,o=d_.bind(null,Zt,c),c.dispatch=o,c=bd(!1),g=Cd.bind(null,Zt,!1,c.queue),c=Wn(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=WE.bind(null,Zt,m,g,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function Qg(e){var i=tn();return Xg(i,Se,e)}function Xg(e,i,o){if(i=yd(e,i,Kg)[0],e=nh(Tr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=xu(i)}catch(w){throw w===pl?Zc:w}else c=i;i=tn();var m=i.queue,g=m.dispatch;return o!==i.memoizedState&&(Zt.flags|=2048,bl(9,{destroy:void 0},JE.bind(null,m,o),null)),[c,g,e]}function JE(e,i){e.action=i}function Wg(e){var i=tn(),o=Se;if(o!==null)return Xg(i,o,e);tn(),i=i.memoizedState,o=tn();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function bl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Zt.updateQueue,i===null&&(i=th(),Zt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function Jg(){return tn().memoizedState}function ih(e,i,o,c){var m=Wn();Zt.flags|=e,m.memoizedState=bl(1|i,{destroy:void 0},o,c===void 0?null:c)}function sh(e,i,o,c){var m=tn();c=c===void 0?null:c;var g=m.memoizedState.inst;Se!==null&&c!==null&&fd(c,Se.memoizedState.deps)?m.memoizedState=bl(i,g,o,c):(Zt.flags|=e,m.memoizedState=bl(1|i,g,o,c))}function $g(e,i){ih(8390656,8,e,i)}function Td(e,i){sh(2048,8,e,i)}function $E(e){Zt.flags|=4;var i=Zt.updateQueue;if(i===null)i=th(),Zt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function t_(e){var i=tn().memoizedState;return $E({ref:i,nextImpl:e}),function(){if((ve&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function e_(e,i){return sh(4,2,e,i)}function n_(e,i){return sh(4,4,e,i)}function i_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function s_(e,i,o){o=o!=null?o.concat([e]):null,sh(4,4,i_.bind(null,i,e),o)}function wd(){}function r_(e,i){var o=tn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&fd(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function a_(e,i){var o=tn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&fd(i,c[1]))return c[0];if(c=e(),Do){Gn(!0);try{e()}finally{Gn(!1)}}return o.memoizedState=[c,i],c}function xd(e,i,o){return o===void 0||(Er&1073741824)!==0&&(ie&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=oy(),Zt.lanes|=e,ga|=e,o)}function o_(e,i,o,c){return En(o,i)?o:_l.current!==null?(e=xd(e,o,c),En(e,i)||(on=!0),e):(Er&42)===0||(Er&1073741824)!==0&&(ie&261930)===0?(on=!0,e.memoizedState=o):(e=oy(),Zt.lanes|=e,ga|=e,i)}function l_(e,i,o,c,m){var g=pt.p;pt.p=g!==0&&8>g?g:8;var w=$.T,C={};$.T=C,Cd(e,!1,i,o);try{var U=m(),Q=$.S;if(Q!==null&&Q(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var nt=YE(U,c);Su(e,i,nt,Li(e))}else Su(e,i,c,Li(e))}catch(lt){Su(e,i,{then:function(){},status:"rejected",reason:lt},Li())}finally{pt.p=g,w!==null&&C.types!==null&&(w.types=C.types),$.T=w}}function tT(){}function Sd(e,i,o,c){if(e.tag!==5)throw Error(a(476));var m=u_(e).queue;l_(e,m,i,ht,o===null?tT:function(){return c_(e),o(c)})}function u_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:ht},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function c_(e){var i=u_(e);i.next===null&&(i=e.alternate.memoizedState),Su(e,i.next.queue,{},Li())}function Ad(){return Cn(Hu)}function h_(){return tn().memoizedState}function f_(){return tn().memoizedState}function eT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Li();e=ca(o);var c=ha(i,e,o);c!==null&&(gi(c,i,o),bu(c,i,o)),i={cache:ed()},e.payload=i;return}i=i.return}}function nT(e,i,o){var c=Li();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rh(e)?m_(i,o):(o=cu(e,i,o,c),o!==null&&(gi(o,e,c),p_(o,i,c)))}function d_(e,i,o){var c=Li();Su(e,i,o,c)}function Su(e,i,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(rh(e))m_(i,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,C=g(w,o);if(m.hasEagerState=!0,m.eagerState=C,En(C,w))return Ks(e,i,m,0),De===null&&To(),!1}catch{}if(o=cu(e,i,m,c),o!==null)return gi(o,e,c),p_(o,i,c),!0}return!1}function Cd(e,i,o,c){if(c={lane:2,revertLane:rm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},rh(e)){if(i)throw Error(a(479))}else i=cu(e,o,c,2),i!==null&&gi(i,e,2)}function rh(e){var i=e.alternate;return e===Zt||i!==null&&i===Zt}function m_(e,i){yl=Jc=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function p_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,to(e,o)}}var Au={readContext:Cn,use:eh,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Au.useEffectEvent=Qe;var g_={readContext:Cn,use:eh,useCallback:function(e,i){return Wn().memoizedState=[e,i===void 0?null:i],e},useContext:Cn,useEffect:$g,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,ih(4194308,4,i_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return ih(4194308,4,e,i)},useInsertionEffect:function(e,i){ih(4,2,e,i)},useMemo:function(e,i){var o=Wn();i=i===void 0?null:i;var c=e();if(Do){Gn(!0);try{e()}finally{Gn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Wn();if(o!==void 0){var m=o(i);if(Do){Gn(!0);try{o(i)}finally{Gn(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=nT.bind(null,Zt,e),[c.memoizedState,e]},useRef:function(e){var i=Wn();return e={current:e},i.memoizedState=e},useState:function(e){e=bd(e);var i=e.queue,o=d_.bind(null,Zt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:wd,useDeferredValue:function(e,i){var o=Wn();return xd(o,e,i)},useTransition:function(){var e=bd(!1);return e=l_.bind(null,Zt,e.queue,!0,!1),Wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Zt,m=Wn();if(Jt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),De===null)throw Error(a(349));(ie&127)!==0||Vg(c,i,o)}m.memoizedState=o;var g={value:o,getSnapshot:i};return m.queue=g,$g(jg.bind(null,c,g,e),[e]),c.flags|=2048,bl(9,{destroy:void 0},zg.bind(null,c,g,o,i),null),o},useId:function(){var e=Wn(),i=De.identifierPrefix;if(Jt){var o=_t,c=ot;o=(c&~(1<<32-je(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=$c++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=QE++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Ad,useFormState:Yg,useActionState:Yg,useOptimistic:function(e){var i=Wn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Cd.bind(null,Zt,!0,o),o.dispatch=i,[e,i]},useMemoCache:_d,useCacheRefresh:function(){return Wn().memoizedState=eT.bind(null,Zt)},useEffectEvent:function(e){var i=Wn(),o={impl:e};return i.memoizedState=o,function(){if((ve&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Rd={readContext:Cn,use:eh,useCallback:r_,useContext:Cn,useEffect:Td,useImperativeHandle:s_,useInsertionEffect:e_,useLayoutEffect:n_,useMemo:a_,useReducer:nh,useRef:Jg,useState:function(){return nh(Tr)},useDebugValue:wd,useDeferredValue:function(e,i){var o=tn();return o_(o,Se.memoizedState,e,i)},useTransition:function(){var e=nh(Tr)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:xu(e),i]},useSyncExternalStore:Pg,useId:h_,useHostTransitionStatus:Ad,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,i){var o=tn();return Hg(o,Se,e,i)},useMemoCache:_d,useCacheRefresh:f_};Rd.useEffectEvent=t_;var __={readContext:Cn,use:eh,useCallback:r_,useContext:Cn,useEffect:Td,useImperativeHandle:s_,useInsertionEffect:e_,useLayoutEffect:n_,useMemo:a_,useReducer:vd,useRef:Jg,useState:function(){return vd(Tr)},useDebugValue:wd,useDeferredValue:function(e,i){var o=tn();return Se===null?xd(o,e,i):o_(o,Se.memoizedState,e,i)},useTransition:function(){var e=vd(Tr)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:xu(e),i]},useSyncExternalStore:Pg,useId:h_,useHostTransitionStatus:Ad,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,i){var o=tn();return Se!==null?Hg(o,Se,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:_d,useCacheRefresh:f_};__.useEffectEvent=t_;function Id(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:N({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Nd={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Li(),m=ca(c);m.payload=i,o!=null&&(m.callback=o),i=ha(e,m,c),i!==null&&(gi(i,e,c),bu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Li(),m=ca(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=ha(e,m,c),i!==null&&(gi(i,e,c),bu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Li(),c=ca(o);c.tag=2,i!=null&&(c.callback=i),i=ha(e,c,o),i!==null&&(gi(i,e,o),bu(i,e,o))}};function y_(e,i,o,c,m,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,w):i.prototype&&i.prototype.isPureReactComponent?!ia(o,c)||!ia(m,g):!0}function v_(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&Nd.enqueueReplaceState(i,i.state,null)}function ko(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=N({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}function b_(e){Eo(e)}function E_(e){console.error(e)}function T_(e){Eo(e)}function ah(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function w_(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Md(e,i,o){return o=ca(o),o.tag=3,o.payload={element:null},o.callback=function(){ah(e,i)},o}function x_(e){return e=ca(e),e.tag=3,e}function S_(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;e.payload=function(){return m(g)},e.callback=function(){w_(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){w_(i,o,c),typeof m!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function iT(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&fl(i,o,m,!0),o=Mi.current,o!==null){switch(o.tag){case 31:case 13:return rs===null?yh():o.alternate===null&&Xe===0&&(Xe=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Kc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),nm(e,c,m)),!1;case 22:return o.flags|=65536,c===Kc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),nm(e,c,m)),!1}throw Error(a(435,o.tag))}return nm(e,c,m),yh(),!1}if(Jt)return i=Mi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==hl&&(e=Error(a(422),{cause:c}),So(u(e,o)))):(c!==hl&&(i=Error(a(423),{cause:c}),So(u(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=u(c,o),m=Md(e.stateNode,c,m),od(e,m),Xe!==4&&(Xe=2)),!1;var g=Error(a(520),{cause:c});if(g=u(g,o),Ou===null?Ou=[g]:Ou.push(g),Xe!==4&&(Xe=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=Md(o.stateNode,c,e),od(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_a===null||!_a.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=x_(m),S_(m,e,o,c),od(o,m),!1}o=o.return}while(o!==null);return!1}var Dd=Error(a(461)),on=!1;function Rn(e,i,o,c){i.child=e===null?Ig(i,null,o,c):Mo(i,e.child,o,c)}function A_(e,i,o,c,m){o=o.render;var g=i.ref;if("ref"in c){var w={};for(var C in c)C!=="ref"&&(w[C]=c[C])}else w=c;return Co(i),c=dd(e,i,o,w,g,m),C=md(),e!==null&&!on?(pd(e,i,m),wr(e,i,m)):(Jt&&C&&fn(i),i.flags|=1,Rn(e,i,c,m),i.child)}function C_(e,i,o,c,m){if(e===null){var g=o.type;return typeof g=="function"&&!ul(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,R_(e,i,g,c,m)):(e=xo(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Ud(e,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:ia,o(w,c)&&e.ref===i.ref)return wr(e,i,m)}return i.flags|=1,e=ss(g,c),e.ref=i.ref,e.return=i,i.child=e}function R_(e,i,o,c,m){if(e!==null){var g=e.memoizedProps;if(ia(g,c)&&e.ref===i.ref)if(on=!1,i.pendingProps=c=g,Ud(e,m))(e.flags&131072)!==0&&(on=!0);else return i.lanes=e.lanes,wr(e,i,m)}return kd(e,i,o,c,m)}function I_(e,i,o,c){var m=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,i.child=null;return N_(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gc(i,g!==null?g.cachePool:null),g!==null?Dg(i,g):ud(),kg(i);else return c=i.lanes=536870912,N_(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Gc(i,g.cachePool),Dg(i,g),da(),i.memoizedState=null):(e!==null&&Gc(i,null),ud(),da());return Rn(e,i,m,o),i.child}function Cu(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function N_(e,i,o,c,m){var g=id();return g=g===null?null:{parent:rn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&Gc(i,null),ud(),kg(i),e!==null&&fl(e,i,c,!0),i.childLanes=m,null}function oh(e,i){return i=uh({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function M_(e,i,o){return Mo(i,e.child,null,o),e=oh(i,i.pendingProps),e.flags|=2,Di(i),i.memoizedState=null,e}function sT(e,i,o){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Jt){if(c.mode==="hidden")return e=oh(i,c),i.lanes=536870912,Cu(null,e);if(hd(i),(e=ge)?(e=qy(e,hi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:X!==null?{id:ot,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},o=fu(e),o.return=i,i.child=o,pe=i,ge=null)):e=null,e===null)throw Qs(i);return i.lanes=536870912,null}return oh(i,c)}var g=e.memoizedState;if(g!==null){var w=g.dehydrated;if(hd(i),m)if(i.flags&256)i.flags&=-257,i=M_(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(on||fl(e,i,o,!1),m=(o&e.childLanes)!==0,on||m){if(c=De,c!==null&&(w=eo(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,is(e,w),gi(c,e,w),Dd;yh(),i=M_(e,i,o)}else e=g.treeContext,ge=as(w.nextSibling),pe=i,Jt=!0,Ys=null,hi=!1,e!==null&&Xn(i,e),i=oh(i,c),i.flags|=4096;return i}return e=ss(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function lh(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function kd(e,i,o,c,m){return Co(i),o=dd(e,i,o,c,void 0,m),c=md(),e!==null&&!on?(pd(e,i,m),wr(e,i,m)):(Jt&&c&&fn(i),i.flags|=1,Rn(e,i,o,m),i.child)}function D_(e,i,o,c,m,g){return Co(i),i.updateQueue=null,o=Lg(i,c,o,m),Og(e),c=md(),e!==null&&!on?(pd(e,i,g),wr(e,i,g)):(Jt&&c&&fn(i),i.flags|=1,Rn(e,i,o,g),i.child)}function k_(e,i,o,c,m){if(Co(i),i.stateNode===null){var g=_r,w=o.contextType;typeof w=="object"&&w!==null&&(g=Cn(w)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Nd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},rd(i),w=o.contextType,g.context=typeof w=="object"&&w!==null?Cn(w):_r,g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Id(i,o,w,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Nd.enqueueReplaceState(g,g.state,null),Tu(i,c,g,m),Eu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var C=i.memoizedProps,U=ko(o,C);g.props=U;var Q=g.context,nt=o.contextType;w=_r,typeof nt=="object"&&nt!==null&&(w=Cn(nt));var lt=o.getDerivedStateFromProps;nt=typeof lt=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,nt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||Q!==w)&&v_(i,g,c,w),ua=!1;var W=i.memoizedState;g.state=W,Tu(i,c,g,m),Eu(),Q=i.memoizedState,C||W!==Q||ua?(typeof lt=="function"&&(Id(i,o,lt,c),Q=i.memoizedState),(U=ua||y_(i,o,U,c,W,Q,w))?(nt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Q),g.props=c,g.state=Q,g.context=w,c=U):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,ad(e,i),w=i.memoizedProps,nt=ko(o,w),g.props=nt,lt=i.pendingProps,W=g.context,Q=o.contextType,U=_r,typeof Q=="object"&&Q!==null&&(U=Cn(Q)),C=o.getDerivedStateFromProps,(Q=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==lt||W!==U)&&v_(i,g,c,U),ua=!1,W=i.memoizedState,g.state=W,Tu(i,c,g,m),Eu();var et=i.memoizedState;w!==lt||W!==et||ua||e!==null&&e.dependencies!==null&&qc(e.dependencies)?(typeof C=="function"&&(Id(i,o,C,c),et=i.memoizedState),(nt=ua||y_(i,o,nt,c,W,et,U)||e!==null&&e.dependencies!==null&&qc(e.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,et,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,et,U)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=et),g.props=c,g.state=et,g.context=U,c=nt):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,lh(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=Mo(i,e.child,null,m),i.child=Mo(i,null,o,m)):Rn(e,i,o,m),i.memoizedState=g.state,e=i.child):e=wr(e,i,m),e}function O_(e,i,o,c){return vr(),i.flags|=256,Rn(e,i,o,c),i.child}var Od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(e){return{baseLanes:e,cachePool:wg()}}function Pd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Oi),e}function L_(e,i,o){var c=i.pendingProps,m=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),w&&(m=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,e===null){if(Jt){if(m?fa(i):da(),(e=ge)?(e=qy(e,hi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:X!==null?{id:ot,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},o=fu(e),o.return=i,i.child=o,pe=i,ge=null)):e=null,e===null)throw Qs(i);return ym(e)?i.lanes=32:i.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(da(),m=i.mode,C=uh({mode:"hidden",children:C},m),c=yr(c,m,o,null),C.return=i,c.return=i,C.sibling=c,i.child=C,c=i.child,c.memoizedState=Ld(o),c.childLanes=Pd(e,w,o),i.memoizedState=Od,Cu(null,c)):(fa(i),Vd(i,C))}var U=e.memoizedState;if(U!==null&&(C=U.dehydrated,C!==null)){if(g)i.flags&256?(fa(i),i.flags&=-257,i=zd(e,i,o)):i.memoizedState!==null?(da(),i.child=e.child,i.flags|=128,i=null):(da(),C=c.fallback,m=i.mode,c=uh({mode:"visible",children:c.children},m),C=yr(C,m,o,null),C.flags|=2,c.return=i,C.return=i,c.sibling=C,i.child=c,Mo(i,e.child,null,o),c=i.child,c.memoizedState=Ld(o),c.childLanes=Pd(e,w,o),i.memoizedState=Od,i=Cu(null,c));else if(fa(i),ym(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var Q=w.dgst;w=Q,c=Error(a(419)),c.stack="",c.digest=w,So({value:c,source:null,stack:null}),i=zd(e,i,o)}else if(on||fl(e,i,o,!1),w=(o&e.childLanes)!==0,on||w){if(w=De,w!==null&&(c=eo(w,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,is(e,c),gi(w,e,c),Dd;_m(C)||yh(),i=zd(e,i,o)}else _m(C)?(i.flags|=192,i.child=e.child,i=null):(e=U.treeContext,ge=as(C.nextSibling),pe=i,Jt=!0,Ys=null,hi=!1,e!==null&&Xn(i,e),i=Vd(i,c.children),i.flags|=4096);return i}return m?(da(),C=c.fallback,m=i.mode,U=e.child,Q=U.sibling,c=ss(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,Q!==null?C=ss(Q,C):(C=yr(C,m,o,null),C.flags|=2),C.return=i,c.return=i,c.sibling=C,i.child=c,Cu(null,c),c=i.child,C=e.child.memoizedState,C===null?C=Ld(o):(m=C.cachePool,m!==null?(U=rn._currentValue,m=m.parent!==U?{parent:U,pool:U}:m):m=wg(),C={baseLanes:C.baseLanes|o,cachePool:m}),c.memoizedState=C,c.childLanes=Pd(e,w,o),i.memoizedState=Od,Cu(e.child,c)):(fa(i),o=e.child,e=o.sibling,o=ss(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(w=i.deletions,w===null?(i.deletions=[e],i.flags|=16):w.push(e)),i.child=o,i.memoizedState=null,o)}function Vd(e,i){return i=uh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function uh(e,i){return e=Un(22,e,null,i),e.lanes=0,e}function zd(e,i,o){return Mo(i,e.child,null,o),e=Vd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function P_(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),$f(e.return,i,o)}function jd(e,i,o,c,m,g){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=m,w.treeForkCount=g)}function V_(e,i,o){var c=i.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var w=$e.current,C=(w&2)!==0;if(C?(w=w&1|2,i.flags|=128):w&=1,ct($e,w),Rn(e,i,c,o),c=Jt?A:0,!C&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P_(e,o,i);else if(e.tag===19)P_(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&Wc(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),jd(i,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&Wc(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}jd(i,!0,o,null,g,c);break;case"together":jd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function wr(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),ga|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(fl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=ss(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=ss(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Ud(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&qc(e)))}function rT(e,i,o){switch(i.tag){case 3:xe(i,i.stateNode.containerInfo),la(i,rn,e.memoizedState.cache),vr();break;case 27:case 5:ls(i);break;case 4:xe(i,i.stateNode.containerInfo);break;case 10:la(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,hd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(fa(i),i.flags|=128,null):(o&i.child.childLanes)!==0?L_(e,i,o):(fa(i),e=wr(e,i,o),e!==null?e.sibling:null);fa(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(fl(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return V_(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ct($e,$e.current),c)break;return null;case 22:return i.lanes=0,I_(e,i,o,i.pendingProps);case 24:la(i,rn,e.memoizedState.cache)}return wr(e,i,o)}function z_(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)on=!0;else{if(!Ud(e,o)&&(i.flags&128)===0)return on=!1,rT(e,i,o);on=(e.flags&131072)!==0}else on=!1,Jt&&(i.flags&1048576)!==0&&Kt(i,A,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Io(i.elementType),i.type=e,typeof e=="function")ul(e)?(c=ko(e,c),i.tag=1,i=k_(null,i,e,c,o)):(i.tag=0,i=kd(null,i,e,c,o));else{if(e!=null){var m=e.$$typeof;if(m===Ut){i.tag=11,i=A_(null,i,e,c,o);break t}else if(m===j){i.tag=14,i=C_(null,i,e,c,o);break t}}throw i=Dt(e)||e,Error(a(306,i,""))}}return i;case 0:return kd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=ko(c,i.pendingProps),k_(e,i,c,m,o);case 3:t:{if(xe(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var g=i.memoizedState;m=g.element,ad(e,i),Tu(i,c,null,o);var w=i.memoizedState;if(c=w.cache,la(i,rn,c),c!==g.cache&&td(i,[rn],o,!0),Eu(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=O_(e,i,c,o);break t}else if(c!==m){m=u(Error(a(424)),i),So(m),i=O_(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ge=as(e.firstChild),pe=i,Jt=!0,Ys=null,hi=!0,o=Ig(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(vr(),c===m){i=wr(e,i,o);break t}Rn(e,i,c,o)}i=i.child}return i;case 26:return lh(e,i),e===null?(o=Qy(i.type,null,i.pendingProps,null))?i.memoizedState=o:Jt||(o=i.type,e=i.pendingProps,c=Sh(bt.current).createElement(o),c[Be]=i,c[Ze]=e,In(c,o,e),Ke(c),i.stateNode=c):i.memoizedState=Qy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ls(i),e===null&&Jt&&(c=i.stateNode=Zy(i.type,i.pendingProps,bt.current),pe=i,hi=!0,m=ge,Ea(i.type)?(vm=m,ge=as(c.firstChild)):ge=m),Rn(e,i,i.pendingProps.children,o),lh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Jt&&((m=c=ge)&&(c=LT(c,i.type,i.pendingProps,hi),c!==null?(i.stateNode=c,pe=i,ge=as(c.firstChild),hi=!1,m=!0):m=!1),m||Qs(i)),ls(i),m=i.type,g=i.pendingProps,w=e!==null?e.memoizedProps:null,c=g.children,mm(m,g)?c=null:w!==null&&mm(m,w)&&(i.flags|=32),i.memoizedState!==null&&(m=dd(e,i,XE,null,null,o),Hu._currentValue=m),lh(e,i),Rn(e,i,c,o),i.child;case 6:return e===null&&Jt&&((e=o=ge)&&(o=PT(o,i.pendingProps,hi),o!==null?(i.stateNode=o,pe=i,ge=null,e=!0):e=!1),e||Qs(i)),null;case 13:return L_(e,i,o);case 4:return xe(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Mo(i,null,c,o):Rn(e,i,c,o),i.child;case 11:return A_(e,i,i.type,i.pendingProps,o);case 7:return Rn(e,i,i.pendingProps,o),i.child;case 8:return Rn(e,i,i.pendingProps.children,o),i.child;case 12:return Rn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,la(i,i.type,c.value),Rn(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Co(i),m=Cn(m),c=c(m),i.flags|=1,Rn(e,i,c,o),i.child;case 14:return C_(e,i,i.type,i.pendingProps,o);case 15:return R_(e,i,i.type,i.pendingProps,o);case 19:return V_(e,i,o);case 31:return sT(e,i,o);case 22:return I_(e,i,o,i.pendingProps);case 24:return Co(i),c=Cn(rn),e===null?(m=id(),m===null&&(m=De,g=ed(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),i.memoizedState={parent:c,cache:m},rd(i),la(i,rn,m)):((e.lanes&o)!==0&&(ad(e,i),Tu(i,null,null,o),Eu()),m=e.memoizedState,g=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),la(i,rn,c)):(c=g.cache,la(i,rn,c),c!==m.cache&&td(i,[rn],o,!0))),Rn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function xr(e){e.flags|=4}function Bd(e,i,o,c,m){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(hy())e.flags|=8192;else throw No=Kc,sd}else e.flags&=-16777217}function j_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tv(i))if(hy())e.flags|=8192;else throw No=Kc,sd}function ch(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Qo():536870912,e.lanes|=i,xl|=i)}function Ru(e,i){if(!Jt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Pe(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function aT(e,i,o){var c=i.pendingProps;switch(Ye(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(i),null;case 1:return Pe(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),br(rn),Ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Es(i)?xr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pu())),Pe(i),null;case 26:var m=i.type,g=i.memoizedState;return e===null?(xr(i),g!==null?(Pe(i),j_(i,g)):(Pe(i),Bd(i,m,null,c,o))):g?g!==e.memoizedState?(xr(i),Pe(i),j_(i,g)):(Pe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&xr(i),Pe(i),Bd(i,m,e,c,o)),null;case 27:if(Ns(i),o=bt.current,m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&xr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Pe(i),null}e=ft.current,Es(i)?mu(i):(e=Zy(m,c,o),i.stateNode=e,xr(i))}return Pe(i),null;case 5:if(Ns(i),m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&xr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Pe(i),null}if(g=ft.current,Es(i))mu(i);else{var w=Sh(bt.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(m,{is:c.is}):w.createElement(m)}}g[Be]=i,g[Ze]=c;t:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break t;for(;w.sibling===null;){if(w.return===null||w.return===i)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=g;t:switch(In(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&xr(i)}}return Pe(i),Bd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&xr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=bt.current,Es(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=pe,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Be]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Ly(e.nodeValue,o)),e||Qs(i,!0)}else e=Sh(e).createTextNode(c),e[Be]=i,i.stateNode=e}return Pe(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=Es(i),o!==null){if(e===null){if(!c)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Be]=i}else vr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),e=!1}else o=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Di(i),i):(Di(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Pe(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Es(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Be]=i}else vr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),m=!1}else m=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Di(i),i):(Di(i),null)}return Di(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),ch(i,i.updateQueue),Pe(i),null);case 4:return Ie(),e===null&&um(i.stateNode.containerInfo),Pe(i),null;case 10:return br(i.type),Pe(i),null;case 19:if(tt($e),c=i.memoizedState,c===null)return Pe(i),null;if(m=(i.flags&128)!==0,g=c.rendering,g===null)if(m)Ru(c,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=Wc(e),g!==null){for(i.flags|=128,Ru(c,!1),e=g.updateQueue,i.updateQueue=e,ch(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)hu(o,e),o=o.sibling;return ct($e,$e.current&1|2),Jt&&Nt(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&An()>ph&&(i.flags|=128,m=!0,Ru(c,!1),i.lanes=4194304)}else{if(!m)if(e=Wc(g),e!==null){if(i.flags|=128,m=!0,e=e.updateQueue,i.updateQueue=e,ch(i,e),Ru(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Jt)return Pe(i),null}else 2*An()-c.renderingStartTime>ph&&o!==536870912&&(i.flags|=128,m=!0,Ru(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=An(),e.sibling=null,o=$e.current,ct($e,m?o&1|2:o&1),Jt&&Nt(i,c.treeForkCount),e):(Pe(i),null);case 22:case 23:return Di(i),cd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Pe(i),i.subtreeFlags&6&&(i.flags|=8192)):Pe(i),o=i.updateQueue,o!==null&&ch(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&tt(Ro),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),br(rn),Pe(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function oT(e,i){switch(Ye(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return br(rn),Ie(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ns(i),null;case 31:if(i.memoizedState!==null){if(Di(i),i.alternate===null)throw Error(a(340));vr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));vr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return tt($e),null;case 4:return Ie(),null;case 10:return br(i.type),null;case 22:case 23:return Di(i),cd(),e!==null&&tt(Ro),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return br(rn),null;case 25:return null;default:return null}}function U_(e,i){switch(Ye(i),i.tag){case 3:br(rn),Ie();break;case 26:case 27:case 5:Ns(i);break;case 4:Ie();break;case 31:i.memoizedState!==null&&Di(i);break;case 13:Di(i);break;case 19:tt($e);break;case 10:br(i.type);break;case 22:case 23:Di(i),cd(),e!==null&&tt(Ro);break;case 24:br(rn)}}function Iu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==m)}}catch(C){we(i,i.return,C)}}function ma(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&e)===e){var w=c.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,m=i;var U=o,Q=C;try{Q()}catch(nt){we(m,U,nt)}}}c=c.next}while(c!==g)}}catch(nt){we(i,i.return,nt)}}function B_(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Mg(i,o)}catch(c){we(e,e.return,c)}}}function H_(e,i,o){o.props=ko(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){we(e,i,c)}}function Nu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){we(e,i,m)}}function Ws(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){we(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){we(e,i,m)}else o.current=null}function q_(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){we(e,e.return,m)}}function Hd(e,i,o){try{var c=e.stateNode;IT(c,e.type,o,i),c[Ze]=i}catch(m){we(e,e.return,m)}}function F_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ea(e.type)||e.tag===4}function qd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||F_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ea(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fd(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ln));else if(c!==4&&(c===27&&Ea(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Fd(e,i,o),e=e.sibling;e!==null;)Fd(e,i,o),e=e.sibling}function hh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Ea(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(hh(e,i,o),e=e.sibling;e!==null;)hh(e,i,o),e=e.sibling}function G_(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);In(i,c,o),i[Be]=e,i[Ze]=o}catch(g){we(e,e.return,g)}}var Sr=!1,ln=!1,Gd=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,wn=null;function lT(e,i){if(e=e.containerInfo,fm=Dh,e=_o(e),qs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var w=0,C=-1,U=-1,Q=0,nt=0,lt=e,W=null;e:for(;;){for(var et;lt!==o||m!==0&&lt.nodeType!==3||(C=w+m),lt!==g||c!==0&&lt.nodeType!==3||(U=w+c),lt.nodeType===3&&(w+=lt.nodeValue.length),(et=lt.firstChild)!==null;)W=lt,lt=et;for(;;){if(lt===e)break e;if(W===o&&++Q===m&&(C=w),W===g&&++nt===c&&(U=w),(et=lt.nextSibling)!==null)break;lt=W,W=lt.parentNode}lt=et}o=C===-1||U===-1?null:{start:C,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(dm={focusedElem:e,selectionRange:o},Dh=!1,wn=i;wn!==null;)if(i=wn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,wn=e;else for(;wn!==null;){switch(i=wn,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)m=e[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ct=ko(o.type,m);e=c.getSnapshotBeforeUpdate(Ct,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Vt){we(o,o.return,Vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)gm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,wn=e;break}wn=i.return}}function K_(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Cr(e,o),c&4&&Iu(5,o);break;case 1:if(Cr(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(w){we(o,o.return,w)}else{var m=ko(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(w){we(o,o.return,w)}}c&64&&B_(o),c&512&&Nu(o,o.return);break;case 3:if(Cr(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Mg(e,i)}catch(w){we(o,o.return,w)}}break;case 27:i===null&&c&4&&G_(o);case 26:case 5:Cr(e,o),i===null&&c&4&&q_(o),c&512&&Nu(o,o.return);break;case 12:Cr(e,o);break;case 31:Cr(e,o),c&4&&X_(e,o);break;case 13:Cr(e,o),c&4&&W_(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=_T.bind(null,o),VT(e,o))));break;case 22:if(c=o.memoizedState!==null||Sr,!c){i=i!==null&&i.memoizedState!==null||ln,m=Sr;var g=ln;Sr=c,(ln=i)&&!g?Rr(e,o,(o.subtreeFlags&8772)!==0):Cr(e,o),Sr=m,ln=g}break;case 30:break;default:Cr(e,o)}}function Y_(e){var i=e.alternate;i!==null&&(e.alternate=null,Y_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Fr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,fi=!1;function Ar(e,i,o){for(o=o.child;o!==null;)Q_(e,i,o),o=o.sibling}function Q_(e,i,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount($n,o)}catch{}switch(o.tag){case 26:ln||Ws(o,i),Ar(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ln||Ws(o,i);var c=ze,m=fi;Ea(o.type)&&(ze=o.stateNode,fi=!1),Ar(e,i,o),ju(o.stateNode),ze=c,fi=m;break;case 5:ln||Ws(o,i);case 6:if(c=ze,m=fi,ze=null,Ar(e,i,o),ze=c,fi=m,ze!==null)if(fi)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(g){we(o,i,g)}else try{ze.removeChild(o.stateNode)}catch(g){we(o,i,g)}break;case 18:ze!==null&&(fi?(e=ze,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Dl(e)):By(ze,o.stateNode));break;case 4:c=ze,m=fi,ze=o.stateNode.containerInfo,fi=!0,Ar(e,i,o),ze=c,fi=m;break;case 0:case 11:case 14:case 15:ma(2,o,i),ln||ma(4,o,i),Ar(e,i,o);break;case 1:ln||(Ws(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&H_(o,i,c)),Ar(e,i,o);break;case 21:Ar(e,i,o);break;case 22:ln=(c=ln)||o.memoizedState!==null,Ar(e,i,o),ln=c;break;default:Ar(e,i,o)}}function X_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Dl(e)}catch(o){we(i,i.return,o)}}}function W_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dl(e)}catch(o){we(i,i.return,o)}}function uT(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Z_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Z_),i;default:throw Error(a(435,e.tag))}}function fh(e,i){var o=uT(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var m=yT.bind(null,e,c);c.then(m,m)}})}function di(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=e,w=i,C=w;t:for(;C!==null;){switch(C.tag){case 27:if(Ea(C.type)){ze=C.stateNode,fi=!1;break t}break;case 5:ze=C.stateNode,fi=!1;break t;case 3:case 4:ze=C.stateNode.containerInfo,fi=!0;break t}C=C.return}if(ze===null)throw Error(a(160));Q_(g,w,m),ze=null,fi=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)J_(i,e),i=i.sibling}var ws=null;function J_(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:di(i,e),mi(e),c&4&&(ma(3,e,e.return),Iu(3,e),ma(5,e,e.return));break;case 1:di(i,e),mi(e),c&512&&(ln||o===null||Ws(o,o.return)),c&64&&Sr&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=ws;if(di(i,e),mi(e),c&512&&(ln||o===null||Ws(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Zi]||g[Be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),In(g,c,o),g[Be]=e,Ke(g),c=g;break t;case"link":var w=Jy("link","href",m).get(c+(o.href||""));if(w){for(var C=0;C<w.length;C++)if(g=w[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(C,1);break e}}g=m.createElement(c),In(g,c,o),m.head.appendChild(g);break;case"meta":if(w=Jy("meta","content",m).get(c+(o.content||""))){for(C=0;C<w.length;C++)if(g=w[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(C,1);break e}}g=m.createElement(c),In(g,c,o),m.head.appendChild(g);break;default:throw Error(a(468,c))}g[Be]=e,Ke(g),c=g}e.stateNode=c}else $y(m,e.type,e.stateNode);else e.stateNode=Wy(m,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?$y(m,e.type,e.stateNode):Wy(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Hd(e,e.memoizedProps,o.memoizedProps)}break;case 27:di(i,e),mi(e),c&512&&(ln||o===null||Ws(o,o.return)),o!==null&&c&4&&Hd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(di(i,e),mi(e),c&512&&(ln||o===null||Ws(o,o.return)),e.flags&32){m=e.stateNode;try{nn(m,"")}catch(Ct){we(e,e.return,Ct)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Hd(e,m,o!==null?o.memoizedProps:m)),c&1024&&(Gd=!0);break;case 6:if(di(i,e),mi(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Ct){we(e,e.return,Ct)}}break;case 3:if(Rh=null,m=ws,ws=Ah(i.containerInfo),di(i,e),ws=m,mi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Dl(i.containerInfo)}catch(Ct){we(e,e.return,Ct)}Gd&&(Gd=!1,$_(e));break;case 4:c=ws,ws=Ah(e.stateNode.containerInfo),di(i,e),mi(e),ws=c;break;case 12:di(i,e),mi(e);break;case 31:di(i,e),mi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,fh(e,c)));break;case 13:di(i,e),mi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(mh=An()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,fh(e,c)));break;case 22:m=e.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Q=Sr,nt=ln;if(Sr=Q||m,ln=nt||U,di(i,e),ln=nt,Sr=Q,mi(e),c&8192)t:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||U||Sr||ln||Oo(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(g=U.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=U.stateNode;var lt=U.memoizedProps.style,W=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ct){we(U,U.return,Ct)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(Ct){we(U,U.return,Ct)}}}else if(i.tag===18){if(o===null){U=i;try{var et=U.stateNode;m?Hy(et,!0):Hy(U.stateNode,!1)}catch(Ct){we(U,U.return,Ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,fh(e,o))));break;case 19:di(i,e),mi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,fh(e,c)));break;case 30:break;case 21:break;default:di(i,e),mi(e)}}function mi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(F_(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,g=qd(e);hh(e,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(nn(w,""),o.flags&=-33);var C=qd(e);hh(e,C,w);break;case 3:case 4:var U=o.stateNode.containerInfo,Q=qd(e);Fd(e,Q,U);break;default:throw Error(a(161))}}catch(nt){we(e,e.return,nt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function $_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;$_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Cr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)K_(e,i.alternate,i),i=i.sibling}function Oo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ma(4,i,i.return),Oo(i);break;case 1:Ws(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&H_(i,i.return,o),Oo(i);break;case 27:ju(i.stateNode);case 26:case 5:Ws(i,i.return),Oo(i);break;case 22:i.memoizedState===null&&Oo(i);break;case 30:Oo(i);break;default:Oo(i)}e=e.sibling}}function Rr(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,g=i,w=g.flags;switch(g.tag){case 0:case 11:case 15:Rr(m,g,o),Iu(4,g);break;case 1:if(Rr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){we(c,c.return,Q)}if(c=g,m=c.updateQueue,m!==null){var C=c.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)Ng(U[m],C)}catch(Q){we(c,c.return,Q)}}o&&w&64&&B_(g),Nu(g,g.return);break;case 27:G_(g);case 26:case 5:Rr(m,g,o),o&&c===null&&w&4&&q_(g),Nu(g,g.return);break;case 12:Rr(m,g,o);break;case 31:Rr(m,g,o),o&&w&4&&X_(m,g);break;case 13:Rr(m,g,o),o&&w&4&&W_(m,g);break;case 22:g.memoizedState===null&&Rr(m,g,o),Nu(g,g.return);break;case 30:break;default:Rr(m,g,o)}i=i.sibling}}function Zd(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&gu(o))}function Kd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&gu(e))}function xs(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ty(e,i,o,c),i=i.sibling}function ty(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:xs(e,i,o,c),m&2048&&Iu(9,i);break;case 1:xs(e,i,o,c);break;case 3:xs(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&gu(e)));break;case 12:if(m&2048){xs(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,w=g.id,C=g.onPostCommit;typeof C=="function"&&C(w,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){we(i,i.return,U)}}else xs(e,i,o,c);break;case 31:xs(e,i,o,c);break;case 13:xs(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,w=i.alternate,i.memoizedState!==null?g._visibility&2?xs(e,i,o,c):Mu(e,i):g._visibility&2?xs(e,i,o,c):(g._visibility|=2,El(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&Zd(w,i);break;case 24:xs(e,i,o,c),m&2048&&Kd(i.alternate,i);break;default:xs(e,i,o,c)}}function El(e,i,o,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,w=i,C=o,U=c,Q=w.flags;switch(w.tag){case 0:case 11:case 15:El(g,w,C,U,m),Iu(8,w);break;case 23:break;case 22:var nt=w.stateNode;w.memoizedState!==null?nt._visibility&2?El(g,w,C,U,m):Mu(g,w):(nt._visibility|=2,El(g,w,C,U,m)),m&&Q&2048&&Zd(w.alternate,w);break;case 24:El(g,w,C,U,m),m&&Q&2048&&Kd(w.alternate,w);break;default:El(g,w,C,U,m)}i=i.sibling}}function Mu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:Mu(o,c),m&2048&&Zd(c.alternate,c);break;case 24:Mu(o,c),m&2048&&Kd(c.alternate,c);break;default:Mu(o,c)}i=i.sibling}}var Du=8192;function Tl(e,i,o){if(e.subtreeFlags&Du)for(e=e.child;e!==null;)ey(e,i,o),e=e.sibling}function ey(e,i,o){switch(e.tag){case 26:Tl(e,i,o),e.flags&Du&&e.memoizedState!==null&&QT(o,ws,e.memoizedState,e.memoizedProps);break;case 5:Tl(e,i,o);break;case 3:case 4:var c=ws;ws=Ah(e.stateNode.containerInfo),Tl(e,i,o),ws=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Du,Du=16777216,Tl(e,i,o),Du=c):Tl(e,i,o));break;default:Tl(e,i,o)}}function ny(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ku(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];wn=c,sy(c,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:ku(e),e.flags&2048&&ma(9,e,e.return);break;case 3:ku(e);break;case 12:ku(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,dh(e)):ku(e);break;default:ku(e)}}function dh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];wn=c,sy(c,e)}ny(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ma(8,i,i.return),dh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,dh(i));break;default:dh(i)}e=e.sibling}}function sy(e,i){for(;wn!==null;){var o=wn;switch(o.tag){case 0:case 11:case 15:ma(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,wn=c;else t:for(o=e;wn!==null;){c=wn;var m=c.sibling,g=c.return;if(Y_(c),c===o){wn=null;break t}if(m!==null){m.return=g,wn=m;break t}wn=g}}}var cT={getCacheForType:function(e){var i=Cn(rn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return Cn(rn).controller.signal}},hT=typeof WeakMap=="function"?WeakMap:Map,ve=0,De=null,$t=null,ie=0,Te=0,ki=null,pa=!1,wl=!1,Yd=!1,Ir=0,Xe=0,ga=0,Lo=0,Qd=0,Oi=0,xl=0,Ou=null,pi=null,Xd=!1,mh=0,ry=0,ph=1/0,gh=null,_a=null,dn=0,ya=null,Sl=null,Nr=0,Wd=0,Jd=null,ay=null,Lu=0,$d=null;function Li(){return(ve&2)!==0&&ie!==0?ie&-ie:$.T!==null?rm():no()}function oy(){if(Oi===0)if((ie&536870912)===0||Jt){var e=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),Oi=e}else Oi=536870912;return e=Mi.current,e!==null&&(e.flags|=32),Oi}function gi(e,i,o){(e===De&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(Al(e,0),va(e,ie,Oi,!1)),cs(e,o),((ve&2)===0||e!==De)&&(e===De&&((ve&2)===0&&(Lo|=o),Xe===4&&va(e,ie,Oi,!1)),Js(e))}function ly(e,i,o){if((ve&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||vi(e,i),m=c?mT(e,i):em(e,i,!0),g=c;do{if(m===0){wl&&!c&&va(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!fT(o)){m=em(e,i,!1),g=!1;continue}if(m===2){if(g=i,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;t:{var C=e;m=Ou;var U=C.current.memoizedState.isDehydrated;if(U&&(Al(C,w).flags|=256),w=em(C,w,!1),w!==2){if(Yd&&!U){C.errorRecoveryDisabledLanes|=g,Lo|=g,m=4;break t}g=pi,pi=m,g!==null&&(pi===null?pi=g:pi.push.apply(pi,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){Al(e,0),va(e,i,0,!0);break}t:{switch(c=e,g=m,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:va(c,i,Oi,!pa);break t;case 2:pi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=mh+300-An(),10<m)){if(va(c,i,Oi,!pa),Fi(c,0,!0)!==0)break t;Nr=i,c.timeoutHandle=jy(uy.bind(null,c,o,pi,gh,Xd,i,Oi,Lo,xl,pa,g,"Throttled",-0,0),m);break t}uy(c,o,pi,gh,Xd,i,Oi,Lo,xl,pa,g,null,-0,0)}}break}while(!0);Js(e)}function uy(e,i,o,c,m,g,w,C,U,Q,nt,lt,W,et){if(e.timeoutHandle=-1,lt=i.subtreeFlags,lt&8192||(lt&16785408)===16785408){lt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},ey(i,g,lt);var Ct=(g&62914560)===g?mh-An():(g&4194048)===g?ry-An():0;if(Ct=XT(lt,Ct),Ct!==null){Nr=g,e.cancelPendingCommit=Ct(_y.bind(null,e,i,g,o,c,m,w,C,U,nt,lt,null,W,et)),va(e,g,w,!Q);return}}_y(e,i,g,o,c,m,w,C,U)}function fT(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!En(g(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function va(e,i,o,c){i&=~Qd,i&=~Lo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var g=31-je(m),w=1<<g;c[g]=-1,m&=~w}o!==0&&lr(e,o,i)}function _h(){return(ve&6)===0?(Pu(0),!1):!0}function tm(){if($t!==null){if(Te===0)var e=$t.return;else e=$t,Ts=Xs=null,gd(e),gl=null,yu=0,e=$t;for(;e!==null;)U_(e.alternate,e),e=e.return;$t=null}}function Al(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,DT(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Nr=0,tm(),De=e,$t=o=ss(e.current,null),ie=i,Te=0,ki=null,pa=!1,wl=vi(e,i),Yd=!1,xl=Oi=Qd=Lo=ga=Xe=0,pi=Ou=null,Xd=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-je(c),g=1<<m;i|=e[m],c&=~g}return Ir=i,To(),o}function cy(e,i){Zt=null,$.H=Au,i===pl||i===Zc?(i=Ag(),Te=3):i===sd?(i=Ag(),Te=4):Te=i===Dd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ki=i,$t===null&&(Xe=1,ah(e,u(i,e.current)))}function hy(){var e=Mi.current;return e===null?!0:(ie&4194048)===ie?rs===null:(ie&62914560)===ie||(ie&536870912)!==0?e===rs:!1}function fy(){var e=$.H;return $.H=Au,e===null?Au:e}function dy(){var e=$.A;return $.A=cT,e}function yh(){Xe=4,pa||(ie&4194048)!==ie&&Mi.current!==null||(wl=!0),(ga&134217727)===0&&(Lo&134217727)===0||De===null||va(De,ie,Oi,!1)}function em(e,i,o){var c=ve;ve|=2;var m=fy(),g=dy();(De!==e||ie!==i)&&(gh=null,Al(e,i)),i=!1;var w=Xe;t:do try{if(Te!==0&&$t!==null){var C=$t,U=ki;switch(Te){case 8:tm(),w=6;break t;case 3:case 2:case 9:case 6:Mi.current===null&&(i=!0);var Q=Te;if(Te=0,ki=null,Cl(e,C,U,Q),o&&wl){w=0;break t}break;default:Q=Te,Te=0,ki=null,Cl(e,C,U,Q)}}dT(),w=Xe;break}catch(nt){cy(e,nt)}while(!0);return i&&e.shellSuspendCounter++,Ts=Xs=null,ve=c,$.H=m,$.A=g,$t===null&&(De=null,ie=0,To()),w}function dT(){for(;$t!==null;)my($t)}function mT(e,i){var o=ve;ve|=2;var c=fy(),m=dy();De!==e||ie!==i?(gh=null,ph=An()+500,Al(e,i)):wl=vi(e,i);t:do try{if(Te!==0&&$t!==null){i=$t;var g=ki;e:switch(Te){case 1:Te=0,ki=null,Cl(e,i,g,1);break;case 2:case 9:if(xg(g)){Te=0,ki=null,py(i);break}i=function(){Te!==2&&Te!==9||De!==e||(Te=7),Js(e)},g.then(i,i);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:xg(g)?(Te=0,ki=null,py(i)):(Te=0,ki=null,Cl(e,i,g,7));break;case 5:var w=null;switch($t.tag){case 26:w=$t.memoizedState;case 5:case 27:var C=$t;if(w?tv(w):C.stateNode.complete){Te=0,ki=null;var U=C.sibling;if(U!==null)$t=U;else{var Q=C.return;Q!==null?($t=Q,vh(Q)):$t=null}break e}}Te=0,ki=null,Cl(e,i,g,5);break;case 6:Te=0,ki=null,Cl(e,i,g,6);break;case 8:tm(),Xe=6;break t;default:throw Error(a(462))}}pT();break}catch(nt){cy(e,nt)}while(!0);return Ts=Xs=null,$.H=c,$.A=m,ve=o,$t!==null?0:(De=null,ie=0,To(),Xe)}function pT(){for(;$t!==null&&!Zo();)my($t)}function my(e){var i=z_(e.alternate,e,Ir);e.memoizedProps=e.pendingProps,i===null?vh(e):$t=i}function py(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=D_(o,i,i.pendingProps,i.type,void 0,ie);break;case 11:i=D_(o,i,i.pendingProps,i.type.render,i.ref,ie);break;case 5:gd(i);default:U_(o,i),i=$t=hu(i,Ir),i=z_(o,i,Ir)}e.memoizedProps=e.pendingProps,i===null?vh(e):$t=i}function Cl(e,i,o,c){Ts=Xs=null,gd(i),gl=null,yu=0;var m=i.return;try{if(iT(e,m,i,o,ie)){Xe=1,ah(e,u(o,e.current)),$t=null;return}}catch(g){if(m!==null)throw $t=m,g;Xe=1,ah(e,u(o,e.current)),$t=null;return}i.flags&32768?(Jt||c===1?e=!0:wl||(ie&536870912)!==0?e=!1:(pa=e=!0,(c===2||c===9||c===3||c===6)&&(c=Mi.current,c!==null&&c.tag===13&&(c.flags|=16384))),gy(i,e)):vh(i)}function vh(e){var i=e;do{if((i.flags&32768)!==0){gy(i,pa);return}e=i.return;var o=aT(i.alternate,i,Ir);if(o!==null){$t=o;return}if(i=i.sibling,i!==null){$t=i;return}$t=i=e}while(i!==null);Xe===0&&(Xe=5)}function gy(e,i){do{var o=oT(e.alternate,e);if(o!==null){o.flags&=32767,$t=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){$t=e;return}$t=e=o}while(e!==null);Xe=6,$t=null}function _y(e,i,o,c,m,g,w,C,U){e.cancelPendingCommit=null;do bh();while(dn!==0);if((ve&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=ll,uu(e,o,g,w,C,U),e===De&&($t=De=null,ie=0),Sl=i,ya=e,Nr=o,Wd=g,Jd=m,ay=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vT(us,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=pt.p,pt.p=2,w=ve,ve|=4;try{lT(e,i,o)}finally{ve=w,pt.p=m,$.T=c}}dn=1,yy(),vy(),by()}}function yy(){if(dn===1){dn=0;var e=ya,i=Sl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=pt.p;pt.p=2;var m=ve;ve|=4;try{J_(i,e);var g=dm,w=_o(e.containerInfo),C=g.focusedElem,U=g.selectionRange;if(w!==C&&C&&C.ownerDocument&&sl(C.ownerDocument.documentElement,C)){if(U!==null&&qs(C)){var Q=U.start,nt=U.end;if(nt===void 0&&(nt=Q),"selectionStart"in C)C.selectionStart=Q,C.selectionEnd=Math.min(nt,C.value.length);else{var lt=C.ownerDocument||document,W=lt&&lt.defaultView||window;if(W.getSelection){var et=W.getSelection(),Ct=C.textContent.length,Vt=Math.min(U.start,Ct),Ce=U.end===void 0?Vt:Math.min(U.end,Ct);!et.extend&&Vt>Ce&&(w=Ce,Ce=Vt,Vt=w);var F=go(C,Vt),q=go(C,Ce);if(F&&q&&(et.rangeCount!==1||et.anchorNode!==F.node||et.anchorOffset!==F.offset||et.focusNode!==q.node||et.focusOffset!==q.offset)){var Y=lt.createRange();Y.setStart(F.node,F.offset),et.removeAllRanges(),Vt>Ce?(et.addRange(Y),et.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),et.addRange(Y))}}}}for(lt=[],et=C;et=et.parentNode;)et.nodeType===1&&lt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<lt.length;C++){var rt=lt[C];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Dh=!!fm,dm=fm=null}finally{ve=m,pt.p=c,$.T=o}}e.current=i,dn=2}}function vy(){if(dn===2){dn=0;var e=ya,i=Sl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=pt.p;pt.p=2;var m=ve;ve|=4;try{K_(e,i.alternate,i)}finally{ve=m,pt.p=c,$.T=o}}dn=3}}function by(){if(dn===4||dn===3){dn=0,Wa();var e=ya,i=Sl,o=Nr,c=ay;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dn=5:(dn=0,Sl=ya=null,Ey(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(_a=null),At(o),i=i.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,m=pt.p,pt.p=2,$.T=null;try{for(var g=e.onRecoverableError,w=0;w<c.length;w++){var C=c[w];g(C.value,{componentStack:C.stack})}}finally{$.T=i,pt.p=m}}(Nr&3)!==0&&bh(),Js(e),m=e.pendingLanes,(o&261930)!==0&&(m&42)!==0?e===$d?Lu++:(Lu=0,$d=e):Lu=0,Pu(0)}}function Ey(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,gu(i)))}function bh(){return yy(),vy(),by(),Ty()}function Ty(){if(dn!==5)return!1;var e=ya,i=Wd;Wd=0;var o=At(Nr),c=$.T,m=pt.p;try{pt.p=32>o?32:o,$.T=null,o=Jd,Jd=null;var g=ya,w=Nr;if(dn=0,Sl=ya=null,Nr=0,(ve&6)!==0)throw Error(a(331));var C=ve;if(ve|=4,iy(g.current),ty(g,g.current,w,o),ve=C,Pu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot($n,g)}catch{}return!0}finally{pt.p=m,$.T=c,Ey(e,i)}}function wy(e,i,o){i=u(o,i),i=Md(e.stateNode,i,2),e=ha(e,i,2),e!==null&&(cs(e,2),Js(e))}function we(e,i,o){if(e.tag===3)wy(e,e,o);else for(;i!==null;){if(i.tag===3){wy(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_a===null||!_a.has(c))){e=u(o,e),o=x_(2),c=ha(i,o,2),c!==null&&(S_(o,c,i,e),cs(c,2),Js(c));break}}i=i.return}}function nm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new hT;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(Yd=!0,m.add(o),e=gT.bind(null,e,i,o),i.then(e,e))}function gT(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,De===e&&(ie&o)===o&&(Xe===4||Xe===3&&(ie&62914560)===ie&&300>An()-mh?(ve&2)===0&&Al(e,0):Qd|=o,xl===ie&&(xl=0)),Js(e)}function xy(e,i){i===0&&(i=Qo()),e=is(e,i),e!==null&&(cs(e,i),Js(e))}function _T(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),xy(e,o)}function yT(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),xy(e,o)}function vT(e,i){return Ge(e,i)}var Eh=null,Rl=null,im=!1,Th=!1,sm=!1,ba=0;function Js(e){e!==Rl&&e.next===null&&(Rl===null?Eh=Rl=e:Rl=Rl.next=e),Th=!0,im||(im=!0,ET())}function Pu(e,i){if(!sm&&Th){sm=!0;do for(var o=!1,c=Eh;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var w=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-je(42|e)+1)-1,g&=m&~(w&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Ry(c,g))}else g=ie,g=Fi(c,c===De?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||vi(c,g)||(o=!0,Ry(c,g));c=c.next}while(o);sm=!1}}function bT(){Sy()}function Sy(){Th=im=!1;var e=0;ba!==0&&MT()&&(e=ba);for(var i=An(),o=null,c=Eh;c!==null;){var m=c.next,g=Ay(c,i);g===0?(c.next=null,o===null?Eh=m:o.next=m,m===null&&(Rl=o)):(o=c,(e!==0||(g&3)!==0)&&(Th=!0)),c=m}dn!==0&&dn!==5||Pu(e),ba!==0&&(ba=0)}function Ay(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-je(g),C=1<<w,U=m[w];U===-1?((C&o)===0||(C&c)!==0)&&(m[w]=lu(C,i)):U<=i&&(e.expiredLanes|=C),g&=~C}if(i=De,o=ie,o=Fi(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Hi(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||vi(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Hi(c),At(o)){case 2:case 8:o=Hr;break;case 32:o=us;break;case 268435456:o=Ja;break;default:o=us}return c=Cy.bind(null,e),o=Ge(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Hi(c),e.callbackPriority=2,e.callbackNode=null,2}function Cy(e,i){if(dn!==0&&dn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(bh()&&e.callbackNode!==o)return null;var c=ie;return c=Fi(e,e===De?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(ly(e,c,i),Ay(e,An()),e.callbackNode!=null&&e.callbackNode===o?Cy.bind(null,e):null)}function Ry(e,i){if(bh())return null;ly(e,i,!0)}function ET(){kT(function(){(ve&6)!==0?Ge(or,bT):Sy()})}function rm(){if(ba===0){var e=dl;e===0&&(e=yi,yi<<=1,(yi&261888)===0&&(yi=256)),ba=e}return ba}function Iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function Ny(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function TT(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var g=Iy((m[Ze]||null).action),w=c.submitter;w&&(i=(i=w[Ze]||null)?Iy(i.formAction):w.getAttribute("formAction"),i!==null&&(g=i,w=null));var C=new $i("action","action",null,c,m);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ba!==0){var U=w?Ny(m,w):new FormData(m);Sd(o,{pending:!0,data:U,method:m.method,action:g},null,U)}}else typeof g=="function"&&(C.preventDefault(),U=w?Ny(m,w):new FormData(m),Sd(o,{pending:!0,data:U,method:m.method,action:g},g,U))},currentTarget:m}]})}}for(var am=0;am<Zs.length;am++){var om=Zs[am],wT=om.toLowerCase(),xT=om[0].toUpperCase()+om.slice(1);ui(wT,"on"+xT)}ui(vo,"onAnimationEnd"),ui(Uc,"onAnimationIteration"),ui(bo,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(Xf,"onTransitionRun"),ui(Bc,"onTransitionStart"),ui(Wf,"onTransitionCancel"),ui(aa,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function My(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var w=c.length-1;0<=w;w--){var C=c[w],U=C.instance,Q=C.currentTarget;if(C=C.listener,U!==g&&m.isPropagationStopped())break t;g=C,m.currentTarget=Q;try{g(m)}catch(nt){Eo(nt)}m.currentTarget=null,g=U}else for(w=0;w<c.length;w++){if(C=c[w],U=C.instance,Q=C.currentTarget,C=C.listener,U!==g&&m.isPropagationStopped())break t;g=C,m.currentTarget=Q;try{g(m)}catch(nt){Eo(nt)}m.currentTarget=null,g=U}}}}function te(e,i){var o=i[Ei];o===void 0&&(o=i[Ei]=new Set);var c=e+"__bubble";o.has(c)||(Dy(i,e,2,!1),o.add(c))}function lm(e,i,o){var c=0;i&&(c|=4),Dy(o,e,c,i)}var wh="_reactListening"+Math.random().toString(36).slice(2);function um(e){if(!e[wh]){e[wh]=!0,io.forEach(function(o){o!=="selectionchange"&&(ST.has(o)||lm(o,!1,e),lm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[wh]||(i[wh]=!0,lm("selectionchange",!1,i))}}function Dy(e,i,o,c){switch(ov(i)){case 2:var m=$T;break;case 8:m=tw;break;default:m=xm}o=m.bind(null,i,o,e),m=void 0,!ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function cm(e,i,o,c,m){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var C=c.stateNode.containerInfo;if(C===m)break;if(w===4)for(w=c.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;C!==null;){if(w=Ti(C),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){c=g=w;continue t}C=C.parentNode}}c=c.return}ds(function(){var Q=g,nt=Pn(o),lt=[];t:{var W=Hc.get(e);if(W!==void 0){var et=$i,Ct=e;switch(e){case"keypress":if(Us(o)===0)break t;case"keydown":case"keyup":et=co;break;case"focusin":Ct="focus",et=mr;break;case"focusout":Ct="blur",et=mr;break;case"beforeblur":case"afterblur":et=mr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=y;break;case vo:case Uc:case bo:et=Xr;break;case aa:et=I;break;case"scroll":case"scrollend":et=Qt;break;case"wheel":et=J;break;case"copy":case"cut":case"paste":et=Yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=ys;break;case"toggle":case"beforetoggle":et=jt}var Vt=(i&4)!==0,Ce=!Vt&&(e==="scroll"||e==="scrollend"),F=Vt?W!==null?W+"Capture":null:W;Vt=[];for(var q=Q,Y;q!==null;){var rt=q;if(Y=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Y===null||F===null||(rt=Kn(q,F),rt!=null&&Vt.push(zu(q,rt,Y))),Ce)break;q=q.return}0<Vt.length&&(W=new et(W,Ct,null,o,nt),lt.push({event:W,listeners:Vt}))}}if((i&7)===0){t:{if(W=e==="mouseover"||e==="pointerover",et=e==="mouseout"||e==="pointerout",W&&o!==Qr&&(Ct=o.relatedTarget||o.fromElement)&&(Ti(Ct)||Ct[bi]))break t;if((et||W)&&(W=nt.window===nt?nt:(W=nt.ownerDocument)?W.defaultView||W.parentWindow:window,et?(Ct=o.relatedTarget||o.toElement,et=Q,Ct=Ct?Ti(Ct):null,Ct!==null&&(Ce=h(Ct),Vt=Ct.tag,Ct!==Ce||Vt!==5&&Vt!==27&&Vt!==6)&&(Ct=null)):(et=null,Ct=Q),et!==Ct)){if(Vt=ro,rt="onMouseLeave",F="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Vt=ys,rt="onPointerLeave",F="onPointerEnter",q="pointer"),Ce=et==null?W:_n(et),Y=Ct==null?W:_n(Ct),W=new Vt(rt,q+"leave",et,o,nt),W.target=Ce,W.relatedTarget=Y,rt=null,Ti(nt)===Q&&(Vt=new Vt(F,q+"enter",Ct,o,nt),Vt.target=Y,Vt.relatedTarget=Ce,rt=Vt),Ce=rt,et&&Ct)e:{for(Vt=AT,F=et,q=Ct,Y=0,rt=F;rt;rt=Vt(rt))Y++;rt=0;for(var kt=q;kt;kt=Vt(kt))rt++;for(;0<Y-rt;)F=Vt(F),Y--;for(;0<rt-Y;)q=Vt(q),rt--;for(;Y--;){if(F===q||q!==null&&F===q.alternate){Vt=F;break e}F=Vt(F),q=Vt(q)}Vt=null}else Vt=null;et!==null&&ky(lt,W,et,Vt,!1),Ct!==null&&Ce!==null&&ky(lt,Ce,Ct,Vt,!0)}}t:{if(W=Q?_n(Q):window,et=W.nodeName&&W.nodeName.toLowerCase(),et==="select"||et==="input"&&W.type==="file")var _e=po;else if(ts(W))if(Lc)_e=Qf;else{_e=Yf;var It=vs}else et=W.nodeName,!et||et.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&Vs(Q.elementType)&&(_e=po):_e=na;if(_e&&(_e=_e(e,Q))){Oc(lt,_e,o,nt);break t}It&&It(e,W,Q),e==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&wi(W,"number",W.value)}switch(It=Q?_n(Q):window,e){case"focusin":(ts(It)||It.contentEditable==="true")&&(Fs=It,al=Q,yo=null);break;case"focusout":yo=al=Fs=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":sa=!1,zc(lt,o,nt);break;case"selectionchange":if(rl)break;case"keydown":case"keyup":zc(lt,o,nt)}var Yt;if(he)t:{switch(e){case"compositionstart":var se="onCompositionStart";break t;case"compositionend":se="onCompositionEnd";break t;case"compositionupdate":se="onCompositionUpdate";break t}se=void 0}else $r?pr(e,o)&&(se="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(li&&o.locale!=="ko"&&($r||se!=="onCompositionStart"?se==="onCompositionEnd"&&$r&&(Yt=xi()):(ai=nt,ps="value"in ai?ai.value:ai.textContent,$r=!0)),It=xh(Q,se),0<It.length&&(se=new Ci(se,e,null,o,nt),lt.push({event:se,listeners:It}),Yt?se.data=Yt:(Yt=gr(o),Yt!==null&&(se.data=Yt)))),(Yt=oi?Ni(e,o):ta(e,o))&&(se=xh(Q,"onBeforeInput"),0<se.length&&(It=new Ci("onBeforeInput","beforeinput",null,o,nt),lt.push({event:It,listeners:se}),It.data=Yt)),TT(lt,e,Q,o,nt)}My(lt,i)})}function zu(e,i,o){return{instance:e,listener:i,currentTarget:o}}function xh(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Kn(e,o),m!=null&&c.unshift(zu(e,m,g)),m=Kn(e,i),m!=null&&c.push(zu(e,m,g))),e.tag===3)return c;e=e.return}return[]}function AT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ky(e,i,o,c,m){for(var g=i._reactName,w=[];o!==null&&o!==c;){var C=o,U=C.alternate,Q=C.stateNode;if(C=C.tag,U!==null&&U===c)break;C!==5&&C!==26&&C!==27||Q===null||(U=Q,m?(Q=Kn(o,g),Q!=null&&w.unshift(zu(o,Q,U))):m||(Q=Kn(o,g),Q!=null&&w.push(zu(o,Q,U)))),o=o.return}w.length!==0&&e.push({event:i,listeners:w})}var CT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function Oy(e){return(typeof e=="string"?e:""+e).replace(CT,`
`).replace(RT,"")}function Ly(e,i){return i=Oy(i),Oy(e)===i}function Ae(e,i,o,c,m,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||nn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&nn(e,""+c);break;case"className":Wt(e,"class",c);break;case"tabIndex":Wt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(e,o,c);break;case"style":hr(e,c,g);break;case"data":if(i!=="object"){Wt(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=zs(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Ae(e,i,"name",m.name,m,null),Ae(e,i,"formEncType",m.formEncType,m,null),Ae(e,i,"formMethod",m.formMethod,m,null),Ae(e,i,"formTarget",m.formTarget,m,null)):(Ae(e,i,"encType",m.encType,m,null),Ae(e,i,"method",m.method,m,null),Ae(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=zs(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Ln);break;case"onScroll":c!=null&&te("scroll",e);break;case"onScrollEnd":c!=null&&te("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=zs(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":te("beforetoggle",e),te("toggle",e),Xt(e,"popover",c);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Xt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=fr.get(o)||o,Xt(e,o,c))}}function hm(e,i,o,c,m,g){switch(o){case"style":hr(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?nn(e,c):(typeof c=="number"||typeof c=="bigint")&&nn(e,""+c);break;case"onScroll":c!=null&&te("scroll",e);break;case"onScrollEnd":c!=null&&te("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),g=e[Ze]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Xt(e,o,c)}}}function In(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",e),te("load",e);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ae(e,i,g,w,o,null)}}m&&Ae(e,i,"srcSet",o.srcSet,o,null),c&&Ae(e,i,"src",o.src,o,null);return;case"input":te("invalid",e);var C=g=w=m=null,U=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var nt=o[c];if(nt!=null)switch(c){case"name":m=nt;break;case"type":w=nt;break;case"checked":U=nt;break;case"defaultChecked":Q=nt;break;case"value":g=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(a(137,i));break;default:Ae(e,i,c,nt,o,null)}}cr(e,g,C,U,Q,w,m,!1);return;case"select":te("invalid",e),c=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":g=C;break;case"defaultValue":w=C;break;case"multiple":c=C;default:Ae(e,i,m,C,o,null)}i=g,o=w,e.multiple=!!c,i!=null?Ee(e,!!c,i,!1):o!=null&&Ee(e,!!c,o,!0);return;case"textarea":te("invalid",e),g=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(C=o[w],C!=null))switch(w){case"value":c=C;break;case"defaultValue":m=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Ae(e,i,w,C,o,null)}ri(e,c,m,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Ae(e,i,U,c,o,null));return;case"dialog":te("beforetoggle",e),te("toggle",e),te("cancel",e),te("close",e);break;case"iframe":case"object":te("load",e);break;case"video":case"audio":for(c=0;c<Vu.length;c++)te(Vu[c],e);break;case"image":te("error",e),te("load",e);break;case"details":te("toggle",e);break;case"embed":case"source":case"link":te("error",e),te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ae(e,i,Q,c,o,null)}return;default:if(Vs(i)){for(nt in o)o.hasOwnProperty(nt)&&(c=o[nt],c!==void 0&&hm(e,i,nt,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&Ae(e,i,C,c,o,null))}function IT(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,C=null,U=null,Q=null,nt=null;for(et in o){var lt=o[et];if(o.hasOwnProperty(et)&&lt!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":U=lt;default:c.hasOwnProperty(et)||Ae(e,i,et,null,c,lt)}}for(var W in c){var et=c[W];if(lt=o[W],c.hasOwnProperty(W)&&(et!=null||lt!=null))switch(W){case"type":g=et;break;case"name":m=et;break;case"checked":Q=et;break;case"defaultChecked":nt=et;break;case"value":w=et;break;case"defaultValue":C=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,i));break;default:et!==lt&&Ae(e,i,W,et,c,lt)}}Kr(e,w,C,U,Q,nt,g,m);return;case"select":et=w=C=W=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":et=U;default:c.hasOwnProperty(g)||Ae(e,i,g,null,c,U)}for(m in c)if(g=c[m],U=o[m],c.hasOwnProperty(m)&&(g!=null||U!=null))switch(m){case"value":W=g;break;case"defaultValue":C=g;break;case"multiple":w=g;default:g!==U&&Ae(e,i,m,g,c,U)}i=C,o=w,c=et,W!=null?Ee(e,!!o,W,!1):!!c!=!!o&&(i!=null?Ee(e,!!o,i,!0):Ee(e,!!o,o?[]:"",!1));return;case"textarea":et=W=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ae(e,i,C,null,c,m)}for(w in c)if(m=c[w],g=o[w],c.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":W=m;break;case"defaultValue":et=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==g&&Ae(e,i,w,m,c,g)}Xi(e,W,et);return;case"option":for(var Ct in o)W=o[Ct],o.hasOwnProperty(Ct)&&W!=null&&!c.hasOwnProperty(Ct)&&(Ct==="selected"?e.selected=!1:Ae(e,i,Ct,null,c,W));for(U in c)W=c[U],et=o[U],c.hasOwnProperty(U)&&W!==et&&(W!=null||et!=null)&&(U==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":Ae(e,i,U,W,c,et));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in o)W=o[Vt],o.hasOwnProperty(Vt)&&W!=null&&!c.hasOwnProperty(Vt)&&Ae(e,i,Vt,null,c,W);for(Q in c)if(W=c[Q],et=o[Q],c.hasOwnProperty(Q)&&W!==et&&(W!=null||et!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:Ae(e,i,Q,W,c,et)}return;default:if(Vs(i)){for(var Ce in o)W=o[Ce],o.hasOwnProperty(Ce)&&W!==void 0&&!c.hasOwnProperty(Ce)&&hm(e,i,Ce,void 0,c,W);for(nt in c)W=c[nt],et=o[nt],!c.hasOwnProperty(nt)||W===et||W===void 0&&et===void 0||hm(e,i,nt,W,c,et);return}}for(var F in o)W=o[F],o.hasOwnProperty(F)&&W!=null&&!c.hasOwnProperty(F)&&Ae(e,i,F,null,c,W);for(lt in c)W=c[lt],et=o[lt],!c.hasOwnProperty(lt)||W===et||W==null&&et==null||Ae(e,i,lt,W,c,et)}function Py(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,w=m.initiatorType,C=m.duration;if(g&&C&&Py(w)){for(w=0,C=m.responseEnd,c+=1;c<o.length;c++){var U=o[c],Q=U.startTime;if(Q>C)break;var nt=U.transferSize,lt=U.initiatorType;nt&&Py(lt)&&(U=U.responseEnd,w+=nt*(U<C?1:(C-Q)/(U-Q)))}if(--c,i+=8*(g+w)/(m.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fm=null,dm=null;function Sh(e){return e.nodeType===9?e:e.ownerDocument}function Vy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function mm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pm=null;function MT(){var e=window.event;return e&&e.type==="popstate"?e===pm?!1:(pm=e,!0):(pm=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,DT=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,kT=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(e){return Uy.resolve(null).then(e).catch(OT)}:jy;function OT(e){setTimeout(function(){throw e})}function Ea(e){return e==="head"}function By(e,i){var o=i,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(m),Dl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")ju(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,ju(o);for(var g=o.firstChild;g;){var w=g.nextSibling,C=g.nodeName;g[Zi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&ju(e.ownerDocument.body);o=m}while(o);Dl(i)}function Hy(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function gm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gm(o),Fr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function LT(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Zi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=as(e.nextSibling),e===null)break}return null}function PT(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=as(e.nextSibling),e===null))return null;return e}function qy(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=as(e.nextSibling),e===null))return null;return e}function _m(e){return e.data==="$?"||e.data==="$~"}function ym(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function VT(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function as(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var vm=null;function Fy(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return as(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function Gy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function Zy(e,i,o){switch(i=Sh(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ju(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Fr(e)}var os=new Map,Ky=new Set;function Ah(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mr=pt.d;pt.d={f:zT,r:jT,D:UT,C:BT,L:HT,m:qT,X:GT,S:FT,M:ZT};function zT(){var e=Mr.f(),i=_h();return e||i}function jT(e){var i=ni(e);i!==null&&i.tag===5&&i.type==="form"?c_(i):Mr.r(e)}var Il=typeof document>"u"?null:document;function Yy(e,i,o){var c=Il;if(c&&typeof i=="string"&&i){var m=Ne(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Ky.has(m)||(Ky.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),In(i,"link",e),Ke(i),c.head.appendChild(i)))}}function UT(e){Mr.D(e),Yy("dns-prefetch",e,null)}function BT(e,i){Mr.C(e,i),Yy("preconnect",e,i)}function HT(e,i,o){Mr.L(e,i,o);var c=Il;if(c&&e&&i){var m='link[rel="preload"][as="'+Ne(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Ne(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Ne(o.imageSizes)+'"]')):m+='[href="'+Ne(e)+'"]';var g=m;switch(i){case"style":g=Nl(e);break;case"script":g=Ml(e)}os.has(g)||(e=N({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),os.set(g,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(Uu(g))||i==="script"&&c.querySelector(Bu(g))||(i=c.createElement("link"),In(i,"link",e),Ke(i),c.head.appendChild(i)))}}function qT(e,i){Mr.m(e,i);var o=Il;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Ne(c)+'"][href="'+Ne(e)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ml(e)}if(!os.has(g)&&(e=N({rel:"modulepreload",href:e},i),os.set(g,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bu(g)))return}c=o.createElement("link"),In(c,"link",e),Ke(c),o.head.appendChild(c)}}}function FT(e,i,o){Mr.S(e,i,o);var c=Il;if(c&&e){var m=Ki(c).hoistableStyles,g=Nl(e);i=i||"default";var w=m.get(g);if(!w){var C={loading:0,preload:null};if(w=c.querySelector(Uu(g)))C.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":i},o),(o=os.get(g))&&bm(e,o);var U=w=c.createElement("link");Ke(U),In(U,"link",e),U._p=new Promise(function(Q,nt){U.onload=Q,U.onerror=nt}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ch(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:C},m.set(g,w)}}}function GT(e,i){Mr.X(e,i);var o=Il;if(o&&e){var c=Ki(o).hoistableScripts,m=Ml(e),g=c.get(m);g||(g=o.querySelector(Bu(m)),g||(e=N({src:e,async:!0},i),(i=os.get(m))&&Em(e,i),g=o.createElement("script"),Ke(g),In(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function ZT(e,i){Mr.M(e,i);var o=Il;if(o&&e){var c=Ki(o).hoistableScripts,m=Ml(e),g=c.get(m);g||(g=o.querySelector(Bu(m)),g||(e=N({src:e,async:!0,type:"module"},i),(i=os.get(m))&&Em(e,i),g=o.createElement("script"),Ke(g),In(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Qy(e,i,o,c){var m=(m=bt.current)?Ah(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Nl(o.href),o=Ki(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Nl(o.href);var g=Ki(m).hoistableStyles,w=g.get(e);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=m.querySelector(Uu(e)))&&!g._p&&(w.instance=g,w.state.loading=5),os.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},os.set(e,o),g||KT(m,e,o,w.state))),i&&c===null)throw Error(a(528,""));return w}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ml(o),o=Ki(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Nl(e){return'href="'+Ne(e)+'"'}function Uu(e){return'link[rel="stylesheet"]['+e+"]"}function Xy(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function KT(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),In(i,"link",o),Ke(i),e.head.appendChild(i))}function Ml(e){return'[src="'+Ne(e)+'"]'}function Bu(e){return"script[async]"+e}function Wy(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ne(o.href)+'"]');if(c)return i.instance=c,Ke(c),c;var m=N({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ke(c),In(c,"style",m),Ch(c,o.precedence,e),i.instance=c;case"stylesheet":m=Nl(o.href);var g=e.querySelector(Uu(m));if(g)return i.state.loading|=4,i.instance=g,Ke(g),g;c=Xy(o),(m=os.get(m))&&bm(c,m),g=(e.ownerDocument||e).createElement("link"),Ke(g);var w=g;return w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),In(g,"link",c),i.state.loading|=4,Ch(g,o.precedence,e),i.instance=g;case"script":return g=Ml(o.src),(m=e.querySelector(Bu(g)))?(i.instance=m,Ke(m),m):(c=o,(m=os.get(g))&&(c=N({},o),Em(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ke(m),In(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Ch(c,o.precedence,e));return i.instance}function Ch(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,w=0;w<c.length;w++){var C=c[w];if(C.dataset.precedence===i)g=C;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function bm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Em(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rh=null;function Jy(e,i,o){if(Rh===null){var c=new Map,m=Rh=new Map;m.set(o,c)}else m=Rh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var g=o[m];if(!(g[Zi]||g[Be]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(i)||"";w=e+w;var C=c.get(w);C?C.push(g):c.set(w,[g])}}return c}function $y(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function YT(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function tv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function QT(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Nl(c.href),g=i.querySelector(Uu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ih.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,Ke(g);return}g=i.ownerDocument||i,c=Xy(c),(m=os.get(m))&&bm(c,m),g=g.createElement("link"),Ke(g);var w=g;w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),In(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ih.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Tm=0;function XT(e,i){return e.stylesheets&&e.count===0&&Mh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Mh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Tm===0&&(Tm=62500*NT());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Tm?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nh=null;function Mh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nh=new Map,i.forEach(WT,e),Nh=null,Ih.call(e))}function WT(e,i){if(!(i.state.loading&4)){var o=Nh.get(e);if(o)var c=o.get(null);else{o=new Map,Nh.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=i.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,m),o.set(w,m),this.count++,c=Ih.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var Hu={$$typeof:xt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function JT(e,i,o,c,m,g,w,C,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function ev(e,i,o,c,m,g,w,C,U,Q,nt,lt){return e=new JT(e,i,o,w,U,Q,nt,lt,C),i=1,g===!0&&(i|=24),g=Un(3,null,null,i),e.current=g,g.stateNode=e,i=ed(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},rd(g),e}function nv(e){return e?(e=_r,e):_r}function iv(e,i,o,c,m,g){m=nv(m),c.context===null?c.context=m:c.pendingContext=m,c=ca(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ha(e,c,i),o!==null&&(gi(o,e,i),bu(o,e,i))}function sv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function wm(e,i){sv(e,i),(e=e.alternate)&&sv(e,i)}function rv(e){if(e.tag===13||e.tag===31){var i=is(e,67108864);i!==null&&gi(i,e,67108864),wm(e,67108864)}}function av(e){if(e.tag===13||e.tag===31){var i=Li();i=gn(i);var o=is(e,i);o!==null&&gi(o,e,i),wm(e,i)}}var Dh=!0;function $T(e,i,o,c){var m=$.T;$.T=null;var g=pt.p;try{pt.p=2,xm(e,i,o,c)}finally{pt.p=g,$.T=m}}function tw(e,i,o,c){var m=$.T;$.T=null;var g=pt.p;try{pt.p=8,xm(e,i,o,c)}finally{pt.p=g,$.T=m}}function xm(e,i,o,c){if(Dh){var m=Sm(c);if(m===null)cm(e,i,c,kh,o),lv(e,c);else if(nw(m,e,i,o,c))c.stopPropagation();else if(lv(e,c),i&4&&-1<ew.indexOf(e)){for(;m!==null;){var g=ni(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=qi(g.pendingLanes);if(w!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var U=1<<31-je(w);C.entanglements[1]|=U,w&=~U}Js(g),(ve&6)===0&&(ph=An()+500,Pu(0))}}break;case 31:case 13:C=is(g,2),C!==null&&gi(C,g,2),_h(),wm(g,2)}if(g=Sm(c),g===null&&cm(e,i,c,kh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else cm(e,i,c,null,o)}}function Sm(e){return e=Pn(e),Am(e)}var kh=null;function Am(e){if(kh=null,e=Ti(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=p(i),e!==null)return e;e=null}else if(o===31){if(e=b(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return kh=e,null}function ov(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case or:return 2;case Hr:return 8;case us:case ou:return 32;case Ja:return 268435456;default:return 32}default:return 32}}var Cm=!1,Ta=null,wa=null,xa=null,qu=new Map,Fu=new Map,Sa=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lv(e,i){switch(e){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":qu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(i.pointerId)}}function Gu(e,i,o,c,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},i!==null&&(i=ni(i),i!==null&&rv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function nw(e,i,o,c,m){switch(i){case"focusin":return Ta=Gu(Ta,e,i,o,c,m),!0;case"dragenter":return wa=Gu(wa,e,i,o,c,m),!0;case"mouseover":return xa=Gu(xa,e,i,o,c,m),!0;case"pointerover":var g=m.pointerId;return qu.set(g,Gu(qu.get(g)||null,e,i,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Fu.set(g,Gu(Fu.get(g)||null,e,i,o,c,m)),!0}return!1}function uv(e){var i=Ti(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=p(o),i!==null){e.blockedOn=i,ti(e.priority,function(){av(o)});return}}else if(i===31){if(i=b(o),i!==null){e.blockedOn=i,ti(e.priority,function(){av(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Sm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);Qr=c,o.target.dispatchEvent(c),Qr=null}else return i=ni(o),i!==null&&rv(i),e.blockedOn=o,!1;i.shift()}return!0}function cv(e,i,o){Oh(e)&&o.delete(i)}function iw(){Cm=!1,Ta!==null&&Oh(Ta)&&(Ta=null),wa!==null&&Oh(wa)&&(wa=null),xa!==null&&Oh(xa)&&(xa=null),qu.forEach(cv),Fu.forEach(cv)}function Lh(e,i){e.blockedOn===i&&(e.blockedOn=null,Cm||(Cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iw)))}var Ph=null;function hv(e){Ph!==e&&(Ph=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ph===e&&(Ph=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Am(c||o)===null)continue;break}var g=ni(o);g!==null&&(e.splice(i,3),i-=3,Sd(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Dl(e){function i(U){return Lh(U,e)}Ta!==null&&Lh(Ta,e),wa!==null&&Lh(wa,e),xa!==null&&Lh(xa,e),qu.forEach(i),Fu.forEach(i);for(var o=0;o<Sa.length;o++){var c=Sa[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Sa.length&&(o=Sa[0],o.blockedOn===null);)uv(o),o.blockedOn===null&&Sa.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],w=m[Ze]||null;if(typeof g=="function")w||hv(o);else if(w){var C=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[Ze]||null)C=w.formAction;else if(Am(m)!==null)continue}else C=w.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),hv(o)}}}function fv(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Rm(e){this._internalRoot=e}Vh.prototype.render=Rm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Li();iv(o,c,e,i,null,null)},Vh.prototype.unmount=Rm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;iv(e.current,2,null,e,null,null),_h(),i[bi]=null}};function Vh(e){this._internalRoot=e}Vh.prototype.unstable_scheduleHydration=function(e){if(e){var i=no();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Sa.length&&i!==0&&i<Sa[o].priority;o++);Sa.splice(o,0,e),o===0&&uv(e)}};var dv=t.version;if(dv!=="19.2.4")throw Error(a(527,dv,"19.2.4"));pt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=T(i),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var sw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{$n=zh.inject(sw),Je=zh}catch{}}return Ku.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",m=b_,g=E_,w=T_;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=ev(e,1,!1,null,null,o,c,null,m,g,w,fv),e[bi]=i.current,um(e),new Rm(i)},Ku.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,m="",g=b_,w=E_,C=T_,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=ev(e,1,!0,i,o??null,c,m,U,g,w,C,fv),i.context=nv(null),o=i.current,c=Li(),c=gn(c),m=ca(c),m.callback=null,ha(o,m,c),o=c,i.current.lanes=o,cs(i,o),Js(i),e[bi]=i.current,um(e),new Vh(i)},Ku.version="19.2.4",Ku}var wv;function dw(){if(wv)return Mm.exports;wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Mm.exports=fw(),Mm.exports}var mw=dw();const pw=()=>{};var xv={};const l1=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},gw=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],p=r[n++],b=r[n++],v=((l&7)<<18|(h&63)<<12|(p&63)<<6|b&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[n++],p=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|p&63)}}return t.join("")},u1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],p=l+1<r.length,b=p?r[l+1]:0,v=l+2<r.length,T=v?r[l+2]:0,R=h>>2,N=(h&3)<<4|b>>4;let P=(b&15)<<2|T>>6,K=T&63;v||(K=64,p||(P=64)),a.push(n[R],n[N],n[P],n[K])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(l1(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):gw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],b=l<r.length?n[r.charAt(l)]:0;++l;const T=l<r.length?n[r.charAt(l)]:64;++l;const N=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||b==null||T==null||N==null)throw new _w;const P=h<<2|b>>4;if(a.push(P),T!==64){const K=b<<4&240|T>>2;if(a.push(K),N!==64){const it=T<<6&192|N;a.push(it)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _w extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yw=function(r){const t=l1(r);return u1.encodeByteArray(t,!0)},ef=function(r){return yw(r).replace(/\./g,"")},c1=function(r){try{return u1.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function vw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bw=()=>vw().__FIREBASE_DEFAULTS__,Ew=()=>{if(typeof process>"u"||typeof xv>"u")return;const r=xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Tw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&c1(r[1]);return t&&JSON.parse(t)},wf=()=>{try{return pw()||bw()||Ew()||Tw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},h1=r=>wf()?.emulatorHosts?.[r],ww=r=>{const t=h1(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},f1=()=>wf()?.config,d1=r=>wf()?.[`_${r}`];class xw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}function $l(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function m1(r){return(await fetch(r,{credentials:"include"})).ok}function Sw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ef(JSON.stringify(n)),ef(JSON.stringify(p)),""].join(".")}const tc={};function Aw(){const r={prod:[],emulator:[]};for(const t of Object.keys(tc))tc[t]?r.emulator.push(t):r.prod.push(t);return r}function Cw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Sv=!1;function p1(r,t){if(typeof window>"u"||typeof document>"u"||!$l(window.location.host)||tc[r]===t||tc[r]||Sv)return;tc[r]=t;function n(P){return`__firebase__banner__${P}`}const a="__firebase__banner",h=Aw().prod.length>0;function p(){const P=document.getElementById(a);P&&P.remove()}function b(P){P.style.display="flex",P.style.background="#7faaf0",P.style.position="fixed",P.style.bottom="5px",P.style.left="5px",P.style.padding=".5em",P.style.borderRadius="5px",P.style.alignItems="center"}function v(P,K){P.setAttribute("width","24"),P.setAttribute("id",K),P.setAttribute("height","24"),P.setAttribute("viewBox","0 0 24 24"),P.setAttribute("fill","none"),P.style.marginLeft="-6px"}function T(){const P=document.createElement("span");return P.style.cursor="pointer",P.style.marginLeft="16px",P.style.fontSize="24px",P.innerHTML=" &times;",P.onclick=()=>{Sv=!0,p()},P}function R(P,K){P.setAttribute("id",K),P.innerText="Learn more",P.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",P.setAttribute("target","__blank"),P.style.paddingLeft="5px",P.style.textDecoration="underline"}function N(){const P=Cw(a),K=n("text"),it=document.getElementById(K)||document.createElement("span"),st=n("learnmore"),dt=document.getElementById(st)||document.createElement("a"),Tt=n("preprendIcon"),Rt=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(P.created){const xt=P.element;b(xt),R(dt,st);const Ut=T();v(Rt,Tt),xt.append(Rt,it,dt,Ut),document.body.appendChild(xt)}h?(it.innerText="Preview backend disconnected.",Rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,it.innerText="Preview backend running in this workspace."),it.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function Iw(){const r=wf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Dw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kw(){const r=Fn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ow(){return!Iw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lw(){try{return typeof indexedDB=="object"}catch{return!1}}function Pw(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const Vw="FirebaseError";class Ur extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=Vw,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],p=h?zw(h,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Ur(l,b,a)}}function zw(r,t){return r.replace(jw,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const jw=/\{\$([^}]+)}/g;function Uw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zo(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=r[l],p=t[l];if(Av(h)&&Av(p)){if(!zo(h,p))return!1}else if(h!==p)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Av(r){return r!==null&&typeof r=="object"}function bc(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Bw(r,t){const n=new Hw(r,t);return n.subscribe.bind(n)}class Hw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");qw(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=Lm),l.error===void 0&&(l.error=Lm),l.complete===void 0&&(l.complete=Lm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Lm(){}function pn(r){return r&&r._delegate?r._delegate:r}class jo{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Po="[DEFAULT]";class Fw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new xw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Zw(t))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Po){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Po){return this.instances.has(t)}getOptions(t=Po){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(h);a===b&&p.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Gw(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Po){return this.component?this.component.multipleInstances?t:Po:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gw(r){return r===Po?void 0:r}function Zw(r){return r.instantiationMode==="EAGER"}class Kw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Fw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var re;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(re||(re={}));const Yw={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},Qw=re.INFO,Xw={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Ww=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=Xw[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vp{constructor(t){this.name=t,this._logLevel=Qw,this._logHandler=Ww,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const Jw=(r,t)=>t.some(n=>r instanceof n);let Cv,Rv;function $w(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tx(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g1=new WeakMap,Km=new WeakMap,_1=new WeakMap,Pm=new WeakMap,bp=new WeakMap;function ex(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",p)},h=()=>{n(ka(r.result)),l()},p=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",p)});return t.then(n=>{n instanceof IDBCursor&&g1.set(n,r)}).catch(()=>{}),bp.set(t,r),t}function nx(r){if(Km.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",p),r.removeEventListener("abort",p)},h=()=>{n(),l()},p=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",p),r.addEventListener("abort",p)});Km.set(r,t)}let Ym={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Km.get(r);if(t==="objectStoreNames")return r.objectStoreNames||_1.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ka(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ix(r){Ym=r(Ym)}function sx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Vm(this),t,...n);return _1.set(a,t.sort?t.sort():[t]),ka(a)}:tx().includes(r)?function(...t){return r.apply(Vm(this),t),ka(g1.get(this))}:function(...t){return ka(r.apply(Vm(this),t))}}function rx(r){return typeof r=="function"?sx(r):(r instanceof IDBTransaction&&nx(r),Jw(r,$w())?new Proxy(r,Ym):r)}function ka(r){if(r instanceof IDBRequest)return ex(r);if(Pm.has(r))return Pm.get(r);const t=rx(r);return t!==r&&(Pm.set(r,t),bp.set(t,r)),t}const Vm=r=>bp.get(r);function ax(r,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const p=indexedDB.open(r,t),b=ka(p);return a&&p.addEventListener("upgradeneeded",v=>{a(ka(p.result),v.oldVersion,v.newVersion,ka(p.transaction),v)}),n&&p.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),b.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),b}const ox=["get","getKey","getAll","getAllKeys","count"],lx=["put","add","delete","clear"],zm=new Map;function Iv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zm.get(t))return zm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=lx.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ox.includes(n)))return;const h=async function(p,...b){const v=this.transaction(p,l?"readwrite":"readonly");let T=v.store;return a&&(T=T.index(b.shift())),(await Promise.all([T[n](...b),l&&v.done]))[0]};return zm.set(t,h),h}ix(r=>({...r,get:(t,n,a)=>Iv(t,n)||r.get(t,n,a),has:(t,n)=>!!Iv(t,n)||r.has(t,n)}));class ux{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cx(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function cx(r){return r.getComponent()?.type==="VERSION"}const Qm="@firebase/app",Nv="0.14.8";const Or=new vp("@firebase/app"),hx="@firebase/app-compat",fx="@firebase/analytics-compat",dx="@firebase/analytics",mx="@firebase/app-check-compat",px="@firebase/app-check",gx="@firebase/auth",_x="@firebase/auth-compat",yx="@firebase/database",vx="@firebase/data-connect",bx="@firebase/database-compat",Ex="@firebase/functions",Tx="@firebase/functions-compat",wx="@firebase/installations",xx="@firebase/installations-compat",Sx="@firebase/messaging",Ax="@firebase/messaging-compat",Cx="@firebase/performance",Rx="@firebase/performance-compat",Ix="@firebase/remote-config",Nx="@firebase/remote-config-compat",Mx="@firebase/storage",Dx="@firebase/storage-compat",kx="@firebase/firestore",Ox="@firebase/ai",Lx="@firebase/firestore-compat",Px="firebase",Vx="12.9.0";const Xm="[DEFAULT]",zx={[Qm]:"fire-core",[hx]:"fire-core-compat",[dx]:"fire-analytics",[fx]:"fire-analytics-compat",[px]:"fire-app-check",[mx]:"fire-app-check-compat",[gx]:"fire-auth",[_x]:"fire-auth-compat",[yx]:"fire-rtdb",[vx]:"fire-data-connect",[bx]:"fire-rtdb-compat",[Ex]:"fire-fn",[Tx]:"fire-fn-compat",[wx]:"fire-iid",[xx]:"fire-iid-compat",[Sx]:"fire-fcm",[Ax]:"fire-fcm-compat",[Cx]:"fire-perf",[Rx]:"fire-perf-compat",[Ix]:"fire-rc",[Nx]:"fire-rc-compat",[Mx]:"fire-gcs",[Dx]:"fire-gcs-compat",[kx]:"fire-fst",[Lx]:"fire-fst-compat",[Ox]:"fire-vertex","fire-js":"fire-js",[Px]:"fire-js-all"};const nf=new Map,jx=new Map,Wm=new Map;function Mv(r,t){try{r.container.addComponent(t)}catch(n){Or.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Kl(r){const t=r.name;if(Wm.has(t))return Or.debug(`There were multiple attempts to register component ${t}.`),!1;Wm.set(t,r);for(const n of nf.values())Mv(n,r);for(const n of jx.values())Mv(n,r);return!0}function Ep(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ss(r){return r==null?!1:r.settings!==void 0}const Ux={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new vc("app","Firebase",Ux);class Bx{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}const tu=Vx;function y1(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a={name:Xm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Oa.create("bad-app-name",{appName:String(l)});if(n||(n=f1()),!n)throw Oa.create("no-options");const h=nf.get(l);if(h){if(zo(n,h.options)&&zo(a,h.config))return h;throw Oa.create("duplicate-app",{appName:l})}const p=new Kw(l);for(const v of Wm.values())p.addComponent(v);const b=new Bx(n,a,p);return nf.set(l,b),b}function v1(r=Xm){const t=nf.get(r);if(!t&&r===Xm&&f1())return y1();if(!t)throw Oa.create("no-app",{appName:r});return t}function La(r,t,n){let a=zx[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const p=[`Unable to register library "${a}" with version "${t}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Or.warn(p.join(" "));return}Kl(new jo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const Hx="firebase-heartbeat-database",qx=1,oc="firebase-heartbeat-store";let jm=null;function b1(){return jm||(jm=ax(Hx,qx,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(oc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Oa.create("idb-open",{originalErrorMessage:r.message})})),jm}async function Fx(r){try{const n=(await b1()).transaction(oc),a=await n.objectStore(oc).get(E1(r));return await n.done,a}catch(t){if(t instanceof Ur)Or.warn(t.message);else{const n=Oa.create("idb-get",{originalErrorMessage:t?.message});Or.warn(n.message)}}}async function Dv(r,t){try{const a=(await b1()).transaction(oc,"readwrite");await a.objectStore(oc).put(t,E1(r)),await a.done}catch(n){if(n instanceof Ur)Or.warn(n.message);else{const a=Oa.create("idb-set",{originalErrorMessage:n?.message});Or.warn(a.message)}}}function E1(r){return`${r.name}!${r.options.appId}`}const Gx=1024,Zx=30;class Kx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qx(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>Zx){const l=Xx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Or.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kv(),{heartbeatsToSend:n,unsentEntries:a}=Yx(this._heartbeatsCache.heartbeats),l=ef(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Or.warn(t),""}}}function kv(){return new Date().toISOString().substring(0,10)}function Yx(r,t=Gx){const n=[];let a=r.slice();for(const l of r){const h=n.find(p=>p.agent===l.agent);if(h){if(h.dates.push(l.date),Ov(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Ov(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class Qx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lw()?Pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Ov(r){return ef(JSON.stringify({version:2,heartbeats:r})).length}function Xx(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}function Wx(r){Kl(new jo("platform-logger",t=>new ux(t),"PRIVATE")),Kl(new jo("heartbeat",t=>new Kx(t),"PRIVATE")),La(Qm,Nv,r),La(Qm,Nv,"esm2020"),La("fire-js","")}Wx("");var Jx="firebase",$x="12.9.0";La(Jx,$x,"app");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Pa,T1;(function(){var r;function t(j,O){function z(){}z.prototype=O.prototype,j.F=O.prototype,j.prototype=new z,j.prototype.constructor=j,j.D=function(M,D,H){for(var k=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)k[Dt-2]=arguments[Dt];return O.prototype[D].apply(M,k)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(j,O,z){z||(z=0);const M=Array(16);if(typeof O=="string")for(var D=0;D<16;++D)M[D]=O.charCodeAt(z++)|O.charCodeAt(z++)<<8|O.charCodeAt(z++)<<16|O.charCodeAt(z++)<<24;else for(D=0;D<16;++D)M[D]=O[z++]|O[z++]<<8|O[z++]<<16|O[z++]<<24;O=j.g[0],z=j.g[1],D=j.g[2];let H=j.g[3],k;k=O+(H^z&(D^H))+M[0]+3614090360&4294967295,O=z+(k<<7&4294967295|k>>>25),k=H+(D^O&(z^D))+M[1]+3905402710&4294967295,H=O+(k<<12&4294967295|k>>>20),k=D+(z^H&(O^z))+M[2]+606105819&4294967295,D=H+(k<<17&4294967295|k>>>15),k=z+(O^D&(H^O))+M[3]+3250441966&4294967295,z=D+(k<<22&4294967295|k>>>10),k=O+(H^z&(D^H))+M[4]+4118548399&4294967295,O=z+(k<<7&4294967295|k>>>25),k=H+(D^O&(z^D))+M[5]+1200080426&4294967295,H=O+(k<<12&4294967295|k>>>20),k=D+(z^H&(O^z))+M[6]+2821735955&4294967295,D=H+(k<<17&4294967295|k>>>15),k=z+(O^D&(H^O))+M[7]+4249261313&4294967295,z=D+(k<<22&4294967295|k>>>10),k=O+(H^z&(D^H))+M[8]+1770035416&4294967295,O=z+(k<<7&4294967295|k>>>25),k=H+(D^O&(z^D))+M[9]+2336552879&4294967295,H=O+(k<<12&4294967295|k>>>20),k=D+(z^H&(O^z))+M[10]+4294925233&4294967295,D=H+(k<<17&4294967295|k>>>15),k=z+(O^D&(H^O))+M[11]+2304563134&4294967295,z=D+(k<<22&4294967295|k>>>10),k=O+(H^z&(D^H))+M[12]+1804603682&4294967295,O=z+(k<<7&4294967295|k>>>25),k=H+(D^O&(z^D))+M[13]+4254626195&4294967295,H=O+(k<<12&4294967295|k>>>20),k=D+(z^H&(O^z))+M[14]+2792965006&4294967295,D=H+(k<<17&4294967295|k>>>15),k=z+(O^D&(H^O))+M[15]+1236535329&4294967295,z=D+(k<<22&4294967295|k>>>10),k=O+(D^H&(z^D))+M[1]+4129170786&4294967295,O=z+(k<<5&4294967295|k>>>27),k=H+(z^D&(O^z))+M[6]+3225465664&4294967295,H=O+(k<<9&4294967295|k>>>23),k=D+(O^z&(H^O))+M[11]+643717713&4294967295,D=H+(k<<14&4294967295|k>>>18),k=z+(H^O&(D^H))+M[0]+3921069994&4294967295,z=D+(k<<20&4294967295|k>>>12),k=O+(D^H&(z^D))+M[5]+3593408605&4294967295,O=z+(k<<5&4294967295|k>>>27),k=H+(z^D&(O^z))+M[10]+38016083&4294967295,H=O+(k<<9&4294967295|k>>>23),k=D+(O^z&(H^O))+M[15]+3634488961&4294967295,D=H+(k<<14&4294967295|k>>>18),k=z+(H^O&(D^H))+M[4]+3889429448&4294967295,z=D+(k<<20&4294967295|k>>>12),k=O+(D^H&(z^D))+M[9]+568446438&4294967295,O=z+(k<<5&4294967295|k>>>27),k=H+(z^D&(O^z))+M[14]+3275163606&4294967295,H=O+(k<<9&4294967295|k>>>23),k=D+(O^z&(H^O))+M[3]+4107603335&4294967295,D=H+(k<<14&4294967295|k>>>18),k=z+(H^O&(D^H))+M[8]+1163531501&4294967295,z=D+(k<<20&4294967295|k>>>12),k=O+(D^H&(z^D))+M[13]+2850285829&4294967295,O=z+(k<<5&4294967295|k>>>27),k=H+(z^D&(O^z))+M[2]+4243563512&4294967295,H=O+(k<<9&4294967295|k>>>23),k=D+(O^z&(H^O))+M[7]+1735328473&4294967295,D=H+(k<<14&4294967295|k>>>18),k=z+(H^O&(D^H))+M[12]+2368359562&4294967295,z=D+(k<<20&4294967295|k>>>12),k=O+(z^D^H)+M[5]+4294588738&4294967295,O=z+(k<<4&4294967295|k>>>28),k=H+(O^z^D)+M[8]+2272392833&4294967295,H=O+(k<<11&4294967295|k>>>21),k=D+(H^O^z)+M[11]+1839030562&4294967295,D=H+(k<<16&4294967295|k>>>16),k=z+(D^H^O)+M[14]+4259657740&4294967295,z=D+(k<<23&4294967295|k>>>9),k=O+(z^D^H)+M[1]+2763975236&4294967295,O=z+(k<<4&4294967295|k>>>28),k=H+(O^z^D)+M[4]+1272893353&4294967295,H=O+(k<<11&4294967295|k>>>21),k=D+(H^O^z)+M[7]+4139469664&4294967295,D=H+(k<<16&4294967295|k>>>16),k=z+(D^H^O)+M[10]+3200236656&4294967295,z=D+(k<<23&4294967295|k>>>9),k=O+(z^D^H)+M[13]+681279174&4294967295,O=z+(k<<4&4294967295|k>>>28),k=H+(O^z^D)+M[0]+3936430074&4294967295,H=O+(k<<11&4294967295|k>>>21),k=D+(H^O^z)+M[3]+3572445317&4294967295,D=H+(k<<16&4294967295|k>>>16),k=z+(D^H^O)+M[6]+76029189&4294967295,z=D+(k<<23&4294967295|k>>>9),k=O+(z^D^H)+M[9]+3654602809&4294967295,O=z+(k<<4&4294967295|k>>>28),k=H+(O^z^D)+M[12]+3873151461&4294967295,H=O+(k<<11&4294967295|k>>>21),k=D+(H^O^z)+M[15]+530742520&4294967295,D=H+(k<<16&4294967295|k>>>16),k=z+(D^H^O)+M[2]+3299628645&4294967295,z=D+(k<<23&4294967295|k>>>9),k=O+(D^(z|~H))+M[0]+4096336452&4294967295,O=z+(k<<6&4294967295|k>>>26),k=H+(z^(O|~D))+M[7]+1126891415&4294967295,H=O+(k<<10&4294967295|k>>>22),k=D+(O^(H|~z))+M[14]+2878612391&4294967295,D=H+(k<<15&4294967295|k>>>17),k=z+(H^(D|~O))+M[5]+4237533241&4294967295,z=D+(k<<21&4294967295|k>>>11),k=O+(D^(z|~H))+M[12]+1700485571&4294967295,O=z+(k<<6&4294967295|k>>>26),k=H+(z^(O|~D))+M[3]+2399980690&4294967295,H=O+(k<<10&4294967295|k>>>22),k=D+(O^(H|~z))+M[10]+4293915773&4294967295,D=H+(k<<15&4294967295|k>>>17),k=z+(H^(D|~O))+M[1]+2240044497&4294967295,z=D+(k<<21&4294967295|k>>>11),k=O+(D^(z|~H))+M[8]+1873313359&4294967295,O=z+(k<<6&4294967295|k>>>26),k=H+(z^(O|~D))+M[15]+4264355552&4294967295,H=O+(k<<10&4294967295|k>>>22),k=D+(O^(H|~z))+M[6]+2734768916&4294967295,D=H+(k<<15&4294967295|k>>>17),k=z+(H^(D|~O))+M[13]+1309151649&4294967295,z=D+(k<<21&4294967295|k>>>11),k=O+(D^(z|~H))+M[4]+4149444226&4294967295,O=z+(k<<6&4294967295|k>>>26),k=H+(z^(O|~D))+M[11]+3174756917&4294967295,H=O+(k<<10&4294967295|k>>>22),k=D+(O^(H|~z))+M[2]+718787259&4294967295,D=H+(k<<15&4294967295|k>>>17),k=z+(H^(D|~O))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+O&4294967295,j.g[1]=j.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,j.g[2]=j.g[2]+D&4294967295,j.g[3]=j.g[3]+H&4294967295}a.prototype.v=function(j,O){O===void 0&&(O=j.length);const z=O-this.blockSize,M=this.C;let D=this.h,H=0;for(;H<O;){if(D==0)for(;H<=z;)l(this,j,H),H+=this.blockSize;if(typeof j=="string"){for(;H<O;)if(M[D++]=j.charCodeAt(H++),D==this.blockSize){l(this,M),D=0;break}}else for(;H<O;)if(M[D++]=j[H++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=O},a.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var O=1;O<j.length-8;++O)j[O]=0;O=this.o*8;for(var z=j.length-8;z<j.length;++z)j[z]=O&255,O/=256;for(this.v(j),j=Array(16),O=0,z=0;z<4;++z)for(let M=0;M<32;M+=8)j[O++]=this.g[z]>>>M&255;return j};function h(j,O){var z=b;return Object.prototype.hasOwnProperty.call(z,j)?z[j]:z[j]=O(j)}function p(j,O){this.h=O;const z=[];let M=!0;for(let D=j.length-1;D>=0;D--){const H=j[D]|0;M&&H==O||(z[D]=H,M=!1)}this.g=z}var b={};function v(j){return-128<=j&&j<128?h(j,function(O){return new p([O|0],O<0?-1:0)}):new p([j|0],j<0?-1:0)}function T(j){if(isNaN(j)||!isFinite(j))return N;if(j<0)return dt(T(-j));const O=[];let z=1;for(let M=0;j>=z;M++)O[M]=j/z|0,z*=4294967296;return new p(O,0)}function R(j,O){if(j.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(j.charAt(0)=="-")return dt(R(j.substring(1),O));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const z=T(Math.pow(O,8));let M=N;for(let H=0;H<j.length;H+=8){var D=Math.min(8,j.length-H);const k=parseInt(j.substring(H,H+D),O);D<8?(D=T(Math.pow(O,D)),M=M.j(D).add(T(k))):(M=M.j(z),M=M.add(T(k)))}return M}var N=v(0),P=v(1),K=v(16777216);r=p.prototype,r.m=function(){if(st(this))return-dt(this).m();let j=0,O=1;for(let z=0;z<this.g.length;z++){const M=this.i(z);j+=(M>=0?M:4294967296+M)*O,O*=4294967296}return j},r.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(it(this))return"0";if(st(this))return"-"+dt(this).toString(j);const O=T(Math.pow(j,6));var z=this;let M="";for(;;){const D=Ut(z,O).g;z=Tt(z,D.j(O));let H=((z.g.length>0?z.g[0]:z.h)>>>0).toString(j);if(z=D,it(z))return H+M;for(;H.length<6;)H="0"+H;M=H+M}},r.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function it(j){if(j.h!=0)return!1;for(let O=0;O<j.g.length;O++)if(j.g[O]!=0)return!1;return!0}function st(j){return j.h==-1}r.l=function(j){return j=Tt(this,j),st(j)?-1:it(j)?0:1};function dt(j){const O=j.g.length,z=[];for(let M=0;M<O;M++)z[M]=~j.g[M];return new p(z,~j.h).add(P)}r.abs=function(){return st(this)?dt(this):this},r.add=function(j){const O=Math.max(this.g.length,j.g.length),z=[];let M=0;for(let D=0;D<=O;D++){let H=M+(this.i(D)&65535)+(j.i(D)&65535),k=(H>>>16)+(this.i(D)>>>16)+(j.i(D)>>>16);M=k>>>16,H&=65535,k&=65535,z[D]=k<<16|H}return new p(z,z[z.length-1]&-2147483648?-1:0)};function Tt(j,O){return j.add(dt(O))}r.j=function(j){if(it(this)||it(j))return N;if(st(this))return st(j)?dt(this).j(dt(j)):dt(dt(this).j(j));if(st(j))return dt(this.j(dt(j)));if(this.l(K)<0&&j.l(K)<0)return T(this.m()*j.m());const O=this.g.length+j.g.length,z=[];for(var M=0;M<2*O;M++)z[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<j.g.length;D++){const H=this.i(M)>>>16,k=this.i(M)&65535,Dt=j.i(D)>>>16,ee=j.i(D)&65535;z[2*M+2*D]+=k*ee,Rt(z,2*M+2*D),z[2*M+2*D+1]+=H*ee,Rt(z,2*M+2*D+1),z[2*M+2*D+1]+=k*Dt,Rt(z,2*M+2*D+1),z[2*M+2*D+2]+=H*Dt,Rt(z,2*M+2*D+2)}for(j=0;j<O;j++)z[j]=z[2*j+1]<<16|z[2*j];for(j=O;j<2*O;j++)z[j]=0;return new p(z,0)};function Rt(j,O){for(;(j[O]&65535)!=j[O];)j[O+1]+=j[O]>>>16,j[O]&=65535,O++}function xt(j,O){this.g=j,this.h=O}function Ut(j,O){if(it(O))throw Error("division by zero");if(it(j))return new xt(N,N);if(st(j))return O=Ut(dt(j),O),new xt(dt(O.g),dt(O.h));if(st(O))return O=Ut(j,dt(O)),new xt(dt(O.g),O.h);if(j.g.length>30){if(st(j)||st(O))throw Error("slowDivide_ only works with positive integers.");for(var z=P,M=O;M.l(j)<=0;)z=le(z),M=le(M);var D=Ot(z,1),H=Ot(M,1);for(M=Ot(M,2),z=Ot(z,2);!it(M);){var k=H.add(M);k.l(j)<=0&&(D=D.add(z),H=k),M=Ot(M,1),z=Ot(z,1)}return O=Tt(j,D.j(O)),new xt(D,O)}for(D=N;j.l(O)>=0;){for(z=Math.max(1,Math.floor(j.m()/O.m())),M=Math.ceil(Math.log(z)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),H=T(z),k=H.j(O);st(k)||k.l(j)>0;)z-=M,H=T(z),k=H.j(O);it(H)&&(H=P),D=D.add(H),j=Tt(j,k)}return new xt(D,j)}r.B=function(j){return Ut(this,j).h},r.and=function(j){const O=Math.max(this.g.length,j.g.length),z=[];for(let M=0;M<O;M++)z[M]=this.i(M)&j.i(M);return new p(z,this.h&j.h)},r.or=function(j){const O=Math.max(this.g.length,j.g.length),z=[];for(let M=0;M<O;M++)z[M]=this.i(M)|j.i(M);return new p(z,this.h|j.h)},r.xor=function(j){const O=Math.max(this.g.length,j.g.length),z=[];for(let M=0;M<O;M++)z[M]=this.i(M)^j.i(M);return new p(z,this.h^j.h)};function le(j){const O=j.g.length+1,z=[];for(let M=0;M<O;M++)z[M]=j.i(M)<<1|j.i(M-1)>>>31;return new p(z,j.h)}function Ot(j,O){const z=O>>5;O%=32;const M=j.g.length-z,D=[];for(let H=0;H<M;H++)D[H]=O>0?j.i(H+z)>>>O|j.i(H+z+1)<<32-O:j.i(H+z);return new p(D,j.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,T1=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=T,p.fromString=R,Pa=p}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var w1,Qu,x1,Gh,Jm,S1,A1,C1;(function(){var r,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var y=0;y<f.length;++y){var S=f[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var a=n(this);function l(f,y){if(y)t:{var S=a;f=f.split(".");for(var I=0;I<f.length-1;I++){var Z=f[I];if(!(Z in S))break t;S=S[Z]}f=f[f.length-1],I=S[f],y=y(I),y!=I&&y!=null&&t(S,f,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(y){var S=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&S.push([I,y[I]]);return S}});var h=h||{},p=this||self;function b(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,S){return f.call.apply(f.bind,arguments)}function T(f,y,S){return T=v,T.apply(null,arguments)}function R(f,y){var S=Array.prototype.slice.call(arguments,1);return function(){var I=S.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function N(f,y){function S(){}S.prototype=y.prototype,f.Z=y.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(I,Z,J){for(var gt=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)gt[jt-2]=arguments[jt];return y.prototype[Z].apply(I,gt)}}var P=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function K(f){const y=f.length;if(y>0){const S=Array(y);for(let I=0;I<y;I++)S[I]=f[I];return S}return[]}function it(f,y){for(let I=1;I<arguments.length;I++){const Z=arguments[I];var S=typeof Z;if(S=S!="object"?S:Z?Array.isArray(Z)?"array":S:"null",S=="array"||S=="object"&&typeof Z.length=="number"){S=f.length||0;const J=Z.length||0;f.length=S+J;for(let gt=0;gt<J;gt++)f[S+gt]=Z[gt]}else f.push(Z)}}class st{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function dt(f){p.setTimeout(()=>{throw f},0)}function Tt(){var f=j;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Rt{constructor(){this.h=this.g=null}add(y,S){const I=xt.get();I.set(y,S),this.h?this.h.next=I:this.g=I,this.h=I}}var xt=new st(()=>new Ut,f=>f.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Ot=!1,j=new Rt,O=()=>{const f=Promise.resolve(void 0);le=()=>{f.then(z)}};function z(){for(var f;f=Tt();){try{f.h.call(f.g)}catch(S){dt(S)}var y=xt;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}Ot=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};p.addEventListener("test",S,y),p.removeEventListener("test",S,y)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function Dt(f,y){D.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}N(Dt,D),Dt.prototype.init=function(f,y){const S=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(S=="mouseover"?y=f.fromElement:S=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),$=0;function pt(f,y,S,I,Z){this.listener=f,this.proxy=null,this.src=y,this.type=S,this.capture=!!I,this.ha=Z,this.key=++$,this.da=this.fa=!1}function ht(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Gt(f,y,S){for(const I in f)y.call(S,f[I],I,f)}function vt(f,y){for(const S in f)y.call(void 0,f[S],S,f)}function B(f){const y={};for(const S in f)y[S]=f[S];return y}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(f,y){let S,I;for(let Z=1;Z<arguments.length;Z++){I=arguments[Z];for(S in I)f[S]=I[S];for(let J=0;J<tt.length;J++)S=tt[J],Object.prototype.hasOwnProperty.call(I,S)&&(f[S]=I[S])}}function ft(f){this.src=f,this.g={},this.h=0}ft.prototype.add=function(f,y,S,I,Z){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const gt=bt(f,y,I,Z);return gt>-1?(y=f[gt],S||(y.fa=!1)):(y=new pt(y,this.src,J,!!I,Z),y.fa=S,f.push(y)),y};function yt(f,y){const S=y.type;if(S in f.g){var I=f.g[S],Z=Array.prototype.indexOf.call(I,y,void 0),J;(J=Z>=0)&&Array.prototype.splice.call(I,Z,1),J&&(ht(y),f.g[S].length==0&&(delete f.g[S],f.h--))}}function bt(f,y,S,I){for(let Z=0;Z<f.length;++Z){const J=f[Z];if(!J.da&&J.listener==y&&J.capture==!!S&&J.ha==I)return Z}return-1}var qt="closure_lm_"+(Math.random()*1e6|0),xe={};function Ie(f,y,S,I,Z){if(Array.isArray(y)){for(let J=0;J<y.length;J++)Ie(f,y[J],S,I,Z);return null}return S=ks(S),f&&f[ee]?f.J(y,S,b(I)?!!I.capture:!1,Z):ls(f,y,S,!1,I,Z)}function ls(f,y,S,I,Z,J){if(!y)throw Error("Invalid event type");const gt=b(Z)?!!Z.capture:!!Z;let jt=Ds(f);if(jt||(f[qt]=jt=new ft(f)),S=jt.add(y,S,I,gt,J),S.proxy)return S;if(I=Ns(),S.proxy=I,I.src=f,I.listener=S,f.addEventListener)H||(Z=gt),Z===void 0&&(Z=!1),f.addEventListener(y.toString(),I,Z);else if(f.attachEvent)f.attachEvent(Bi(y.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ns(){function f(S){return y.call(f.src,f.listener,S)}const y=Br;return f}function Ui(f,y,S,I,Z){if(Array.isArray(y))for(var J=0;J<y.length;J++)Ui(f,y[J],S,I,Z);else I=b(I)?!!I.capture:!!I,S=ks(S),f&&f[ee]?(f=f.i,J=String(y).toString(),J in f.g&&(y=f.g[J],S=bt(y,S,I,Z),S>-1&&(ht(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete f.g[J],f.h--)))):f&&(f=Ds(f))&&(y=f.g[y.toString()],f=-1,y&&(f=bt(y,S,I,Z)),(S=f>-1?y[f]:null)&&Ms(S))}function Ms(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[ee])yt(y.i,f);else{var S=f.type,I=f.proxy;y.removeEventListener?y.removeEventListener(S,I,f.capture):y.detachEvent?y.detachEvent(Bi(S),I):y.addListener&&y.removeListener&&y.removeListener(I),(S=Ds(y))?(yt(S,f),S.h==0&&(S.src=null,y[qt]=null)):ht(f)}}}function Bi(f){return f in xe?xe[f]:xe[f]="on"+f}function Br(f,y){if(f.da)f=!0;else{y=new Dt(y,this);const S=f.listener,I=f.ha||f.src;f.fa&&Ms(f),f=S.call(I,y)}return f}function Ds(f){return f=f[qt],f instanceof ft?f:null}var rr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ks(f){return typeof f=="function"?f:(f[rr]||(f[rr]=function(y){return f.handleEvent(y)}),f[rr])}function Fe(){M.call(this),this.i=new ft(this),this.M=this,this.G=null}N(Fe,M),Fe.prototype[ee]=!0,Fe.prototype.removeEventListener=function(f,y,S,I){Ui(this,f,y,S,I)};function Ge(f,y){var S,I=f.G;if(I)for(S=[];I;I=I.G)S.push(I);if(f=f.M,I=y.type||y,typeof y=="string")y=new D(y,f);else if(y instanceof D)y.target=y.target||f;else{var Z=y;y=new D(I,f),ct(y,Z)}Z=!0;let J,gt;if(S)for(gt=S.length-1;gt>=0;gt--)J=y.g=S[gt],Z=Hi(J,I,!0,y)&&Z;if(J=y.g=f,Z=Hi(J,I,!0,y)&&Z,Z=Hi(J,I,!1,y)&&Z,S)for(gt=0;gt<S.length;gt++)J=y.g=S[gt],Z=Hi(J,I,!1,y)&&Z}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const S=f.g[y];for(let I=0;I<S.length;I++)ht(S[I]);delete f.g[y],f.h--}}this.G=null},Fe.prototype.J=function(f,y,S,I){return this.i.add(String(f),y,!1,S,I)},Fe.prototype.K=function(f,y,S,I){return this.i.add(String(f),y,!0,S,I)};function Hi(f,y,S,I){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let Z=!0;for(let J=0;J<y.length;++J){const gt=y[J];if(gt&&!gt.da&&gt.capture==S){const jt=gt.listener,ce=gt.ha||gt.src;gt.fa&&yt(f.i,gt),Z=jt.call(ce,I)!==!1&&Z}}return Z&&!I.defaultPrevented}function Zo(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(f,y||0)}function Wa(f){f.g=Zo(()=>{f.g=null,f.i&&(f.i=!1,Wa(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class An extends M{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wa(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(f){M.call(this),this.h=f,this.g={}}N(ar,M);var or=[];function Hr(f){Gt(f.g,function(y,S){this.g.hasOwnProperty(S)&&Ms(y)},f),f.g={}}ar.prototype.N=function(){ar.Z.N.call(this),Hr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=p.JSON.stringify,ou=p.JSON.parse,Ja=class{stringify(f){return p.JSON.stringify(f,void 0)}parse(f){return p.JSON.parse(f,void 0)}};function $a(){}function Ko(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){D.call(this,"d")}N(Je,D);function Gn(){D.call(this,"c")}N(Gn,D);var je={},Os=null;function qr(){return Os=Os||new Fe}je.Ia="serverreachability";function Yo(f){D.call(this,je.Ia,f)}N(Yo,D);function yi(f){const y=qr();Ge(y,new Yo(y))}je.STAT_EVENT="statevent";function Ls(f,y){D.call(this,je.STAT_EVENT,f),this.stat=y}N(Ls,D);function Ue(f){const y=qr();Ge(y,new Ls(y,f))}je.Ja="timingevent";function qi(f,y){D.call(this,je.Ja,f),this.size=y}N(qi,D);function Fi(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){f()},y)}function vi(){this.g=!0}vi.prototype.ua=function(){this.g=!1};function lu(f,y,S,I,Z,J){f.info(function(){if(f.g)if(J){var gt="",jt=J.split("&");for(let he=0;he<jt.length;he++){var ce=jt[he].split("=");if(ce.length>1){const Me=ce[0];ce=ce[1];const oi=Me.split("_");gt=oi.length>=2&&oi[1]=="type"?gt+(Me+"="+ce+"&"):gt+(Me+"=redacted&")}}}else gt=null;else gt=J;return"XMLHTTP REQ ("+I+") [attempt "+Z+"]: "+y+`
`+S+`
`+gt})}function Qo(f,y,S,I,Z,J,gt){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Z+"]: "+y+`
`+S+`
`+J+" "+gt})}function Gi(f,y,S,I){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+uu(f,S)+(I?" "+I:"")})}function cs(f,y){f.info(function(){return"TIMEOUT: "+y})}vi.prototype.info=function(){};function uu(f,y){if(!f.g)return y;if(!y)return null;try{const J=JSON.parse(y);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var S=J[f];if(!(S.length<2)){var I=S[1];if(Array.isArray(I)&&!(I.length<1)){var Z=I[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let gt=1;gt<I.length;gt++)I[gt]=""}}}}return us(J)}catch{return y}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},to={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},eo;function gn(){}N(gn,$a),gn.prototype.g=function(){return new XMLHttpRequest},eo=new gn;function At(f){return encodeURIComponent(String(f))}function no(f){var y=1;f=f.split(":");const S=[];for(;y>0&&f.length;)S.push(f.shift()),y--;return f.length&&S.push(f.join(":")),S}function ti(f,y,S,I){this.j=f,this.i=y,this.l=S,this.S=I||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Be={},Ze={};function bi(f,y,S){f.M=1,f.A=be(ke(y)),f.u=S,f.R=!0,Ei(f,null)}function Ei(f,y){f.F=Date.now(),Zi(f),f.B=ke(f.A);var S=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),Vs(S.i,"t",I),f.C=0,S=f.j.L,f.h=new ei,f.g=uo(f.j,S?y:null,!f.u),f.P>0&&(f.O=new An(T(f.Y,f,f.g),f.P)),y=f.V,S=f.g,I=f.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(or[0]=Z.toString()),Z=or);for(let J=0;J<Z.length;J++){const gt=Ie(S,Z[J],I||y.handleEvent,!1,y.h||y);if(!gt)break;y.g[gt.key]=gt}y=f.J?B(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),yi(),lu(f.i,f.v,f.B,f.l,f.S,f.u)}ti.prototype.ba=function(f){f=f.target;const y=this.O;y&&Si(f)==3?y.j():this.Y(f)},ti.prototype.Y=function(f){try{if(f==this.g)t:{const jt=Si(this.g),ce=this.g.ya(),he=this.g.ca();if(!(jt<3)&&(jt!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||jt!=4||ce==7||(ce==8||he<=0?yi(3):yi(2)),Ti(this);var y=this.g.ca();this.X=y;var S=Xo(this);if(this.o=y==200,Qo(this.i,this.v,this.B,this.l,this.S,jt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var I,Z=this.g;if((I=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var J=I;break e}}J=null}if(f=J)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ki(this,f);else{this.o=!1,this.m=3,Ue(12),_n(this),ni(this);break t}}if(this.R){f=!0;let Me;for(;!this.K&&this.C<S.length;)if(Me=Jo(this,S),Me==Ze){jt==4&&(this.m=4,Ue(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Be){this.m=4,Ue(15),Gi(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,Me,null),Ki(this,Me);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||S.length!=0||this.h.h||(this.m=1,Ue(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,S,"[Invalid Chunked Response]"),_n(this),ni(this);else if(S.length>0&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.aa&&!gt.P&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),oo(gt),gt.P=!0,Ue(11))}}else Gi(this.i,this.l,S,null),Ki(this,S);jt==4&&_n(this),this.o&&!this.K&&(jt==4?Yn(this.j,this):(this.o=!1,Zi(this)))}else Ai(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),_n(this),ni(this)}}}catch{}};function Xo(f){if(!Wo(f))return f.g.la();const y=sn(f.g);if(y==="")return"";let S="";const I=y.length,Z=Si(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return _n(f),ni(f),"";f.h.i=new p.TextDecoder}for(let J=0;J<I;J++)f.h.h=!0,S+=f.h.i.decode(y[J],{stream:!(Z&&J==I-1)});return y.length=0,f.h.g+=S,f.C=0,f.h.g}function Wo(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Jo(f,y){var S=f.C,I=y.indexOf(`
`,S);return I==-1?Ze:(S=Number(y.substring(S,I)),isNaN(S)?Be:(I+=1,I+S>y.length?Ze:(y=y.slice(I,I+S),f.C=I+S,y)))}ti.prototype.cancel=function(){this.K=!0,_n(this)};function Zi(f){f.T=Date.now()+f.H,Fr(f,f.H)}function Fr(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Fi(T(f.aa,f),y)}function Ti(f){f.D&&(p.clearTimeout(f.D),f.D=null)}ti.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(cs(this.i,this.B),this.M!=2&&(yi(),Ue(17)),_n(this),this.m=2,ni(this)):Fr(this,this.T-f)};function ni(f){f.j.I==0||f.K||Yn(f.j,f)}function _n(f){Ti(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Hr(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Ki(f,y){try{var S=f.j;if(S.I!=0&&(S.g==f||ii(S.h,f))){if(!f.L&&ii(S.h,f)&&S.I==3){try{var I=S.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Z=I;if(Z[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)Wr(S),Bs(S);else break t;mr(S),Ue(18)}}else S.xa=Z[1],0<S.xa-S.K&&Z[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Fi(T(S.Va,S),6e3));Yi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ci(S,11)}else if((f.L||S.g==f)&&Wr(S),!k(y))for(Z=S.Ba.g.parse(y),y=0;y<Z.length;y++){let he=Z[y];const Me=he[0];if(!(Me<=S.K))if(S.K=Me,he=he[1],S.I==2)if(he[0]=="c"){S.M=he[1],S.ba=he[2];const oi=he[3];oi!=null&&(S.ka=oi,S.j.info("VER="+S.ka));const li=he[4];li!=null&&(S.za=li,S.j.info("SVER="+S.za));const Qn=he[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(I=1.5*Qn,S.O=I,S.j.info("backChannelRequestTimeoutMs_="+I)),I=S;const Ii=f.g;if(Ii){const pr=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var J=I.h;J.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(hs(J,J.h),J.h=null))}if(I.G){const gr=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;gr&&(I.wa=gr,wt(I.J,I.G,gr))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),I=S;var gt=f;if(I.na=lo(I,I.L?I.ba:null,I.W),gt.L){Gr(I.h,gt);var jt=gt,ce=I.O;ce&&(jt.H=ce),jt.D&&(Ti(jt),Zi(jt)),I.g=gt}else ao(I);S.i.length>0&&zn(S)}else he[0]!="stop"&&he[0]!="close"||Ci(S,7);else S.I==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Ci(S,7):Qt(S):he[0]!="noop"&&S.l&&S.l.qa(he),S.A=0)}}yi(4)}catch{}}var Ke=class{constructor(f,y){this.g=f,this.map=y}};function io(f){this.l=f||10,p.PerformanceNavigationTiming?(f=p.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function so(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Yi(f){return f.h?1:f.g?f.g.size:0}function ii(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function hs(f,y){f.g?f.g.add(y):f.h=y}function Gr(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}io.prototype.cancel=function(){if(this.i=Zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Zr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const S of f.g.values())y=y.concat(S.G);return y}return K(f.i)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xt(f,y){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const I=f[S].indexOf("=");let Z,J=null;I>=0?(Z=f[S].substring(0,I),J=f[S].substring(I+1)):Z=f[S],y(Z,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Wt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof Wt?(this.l=f.l,Oe(this,f.j),this.o=f.o,this.g=f.g,Zn(this,f.u),this.h=f.h,ur(this,fr(f.i)),this.m=f.m):f&&(y=String(f).match(Ps))?(this.l=!1,Oe(this,y[1]||"",!0),this.o=si(y[2]||""),this.g=si(y[3]||"",!0),Zn(this,y[4]),this.h=si(y[5]||"",!0),ur(this,y[6]||"",!0),this.m=si(y[7]||"")):(this.l=!1,this.i=new ri(null,this.l))}Wt.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(Qi(y,Kr,!0),":");var S=this.g;return(S||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Qi(y,Kr,!0),"@"),f.push(At(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Qi(S,S.charAt(0)=="/"?wi:cr,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Qi(S,Xi)),f.join("")},Wt.prototype.resolve=function(f){const y=ke(this);let S=!!f.j;S?Oe(y,f.j):S=!!f.o,S?y.o=f.o:S=!!f.g,S?y.g=f.g:S=f.u!=null;var I=f.h;if(S)Zn(y,f.u);else if(S=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var Z=y.h.lastIndexOf("/");Z!=-1&&(I=y.h.slice(0,Z+1)+I)}if(Z=I,Z==".."||Z==".")I="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){I=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const J=[];for(let gt=0;gt<Z.length;){const jt=Z[gt++];jt=="."?I&&gt==Z.length&&J.push(""):jt==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),I&&gt==Z.length&&J.push("")):(J.push(jt),I=!0)}I=J.join("/")}else I=Z}return S?y.h=I:S=f.i.toString()!=="",S?ur(y,fr(f.i)):S=!!f.m,S&&(y.m=f.m),y};function ke(f){return new Wt(f)}function Oe(f,y,S){f.j=S?si(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Zn(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function ur(f,y,S){y instanceof ri?(f.i=y,zs(f.i,f.l)):(S||(y=Qi(y,Ee)),f.i=new ri(y,f.l))}function wt(f,y,S){f.i.set(y,S)}function be(f){return wt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function si(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qi(f,y,S){return typeof f=="string"?(f=encodeURI(f).replace(y,Ne),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ne(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Kr=/[#\/\?@]/g,cr=/[#\?:]/g,wi=/[#\?]/g,Ee=/[#\?@]/g,Xi=/#/g;function ri(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function nn(f){f.g||(f.g=new Map,f.h=0,f.i&&Xt(f.i,function(y,S){f.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}r=ri.prototype,r.add=function(f,y){nn(this),this.i=null,f=Wi(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(y),this.h+=1,this};function Yr(f,y){nn(f),y=Wi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function fs(f,y){return nn(f),y=Wi(f,y),f.g.has(y)}r.forEach=function(f,y){nn(this),this.g.forEach(function(S,I){S.forEach(function(Z){f.call(y,Z,I,this)},this)},this)};function hr(f,y){nn(f);let S=[];if(typeof y=="string")fs(f,y)&&(S=S.concat(f.g.get(Wi(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)S=S.concat(f[y]);return S}r.set=function(f,y){return nn(this),this.i=null,f=Wi(this,f),fs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},r.get=function(f,y){return f?(f=hr(this,f),f.length>0?String(f[0]):y):y};function Vs(f,y,S){Yr(f,y),S.length>0&&(f.i=null,f.g.set(Wi(f,y),K(S)),f.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var S=y[I];const Z=At(S);S=hr(this,S);for(let J=0;J<S.length;J++){let gt=Z;S[J]!==""&&(gt+="="+At(S[J])),f.push(gt)}}return this.i=f.join("&")};function fr(f){const y=new ri;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Wi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function zs(f,y){y&&!f.j&&(nn(f),f.i=null,f.g.forEach(function(S,I){const Z=I.toLowerCase();I!=Z&&(Yr(this,I),Vs(this,Z,S))},f)),f.j=y}function Ln(f,y){const S=new vi;if(p.Image){const I=new Image;I.onload=R(Pn,S,"TestLoadImage: loaded",!0,y,I),I.onerror=R(Pn,S,"TestLoadImage: error",!1,y,I),I.onabort=R(Pn,S,"TestLoadImage: abort",!1,y,I),I.ontimeout=R(Pn,S,"TestLoadImage: timeout",!1,y,I),p.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else y(!1)}function Qr(f,y){const S=new vi,I=new AbortController,Z=setTimeout(()=>{I.abort(),Pn(S,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:I.signal}).then(J=>{clearTimeout(Z),J.ok?Pn(S,"TestPingServer: ok",!0,y):Pn(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Z),Pn(S,"TestPingServer: error",!1,y)})}function Pn(f,y,S,I,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),I(S)}catch{}}function js(){this.g=new Ja}function Lt(f){this.i=f.Sb||null,this.h=f.ab||!1}N(Lt,$a),Lt.prototype.g=function(){return new yn(this.i,this.h)};function yn(f,y){Fe.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(yn,Fe),r=yn.prototype,r.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,Kn(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},r.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;me(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function me(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}r.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ds(this):Kn(this),this.readyState==3&&me(this)}},r.Oa=function(f){this.g&&(this.response=this.responseText=f,ds(this))},r.Na=function(f){this.g&&(this.response=f,ds(this))},r.ga=function(){this.g&&ds(this)};function ds(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Kn(f)}r.setRequestHeader=function(f,y){this.A.append(f,y)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=y.next();return f.join(`\r
`)};function Kn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Vn(f){let y="";return Gt(f,function(S,I){y+=I,y+=":",y+=S,y+=`\r
`}),y}function ms(f,y,S){t:{for(I in S){var I=!1;break t}I=!0}I||(S=Vn(S),typeof f=="string"?S!=null&&At(S):wt(f,y,S))}function ne(f){Fe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(ne,Fe);var ai=/^https?$/i,ps=["POST","PUT"];r=ne.prototype,r.Fa=function(f){this.H=f},r.ea=function(f,y,S,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():eo.g(),this.g.onreadystatechange=P(T(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(J){Le(this,J);return}if(f=S||"",S=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Z in I)S.set(Z,I[Z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())S.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),Z=p.FormData&&f instanceof p.FormData,!(Array.prototype.indexOf.call(ps,y,void 0)>=0)||I||Z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,gt]of S)this.g.setRequestHeader(J,gt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){Le(this,J)}};function Le(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,xi(f),Ji(f)}function xi(f){f.A||(f.A=!0,Ge(f,"complete"),Ge(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ge(this,"complete"),Ge(this,"abort"),Ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),ne.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},r.Xa=function(){Us(this)};function Us(f){if(f.h&&typeof h<"u"){if(f.v&&Si(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ge(f,"readystatechange"),Si(f)==4){f.h=!1;try{const J=f.ca();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var S;if(!(S=y)){var I;if(I=J===0){let gt=String(f.D).match(Ps)[1]||null;!gt&&p.self&&p.self.location&&(gt=p.self.location.protocol.slice(0,-1)),I=!ai.test(gt?gt.toLowerCase():"")}S=I}if(S)Ge(f,"complete"),Ge(f,"success");else{f.o=6;try{var Z=Si(f)>2?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.ca()+"]",xi(f)}}finally{Ji(f)}}}}function Ji(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,y||Ge(f,"ready");try{S.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Si(f){return f.g?f.g.readyState:0}r.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),ou(y)}};function sn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(f){const y={};f=(f.g&&Si(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(k(f[I]))continue;var S=no(f[I]);const Z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=y[Z]||[];y[Z]=J,J.push(S)}vt(y,function(I){return I.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $i(f,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||y}function gs(f){this.za=0,this.i=[],this.j=new vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$i("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$i("baseRetryDelayMs",5e3,f),this.Za=$i("retryDelaySeedMs",1e4,f),this.Ta=$i("forwardChannelMaxRetries",2,f),this.va=$i("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new io(f&&f.concurrentRequestLimit),this.Ba=new js,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gs.prototype,r.ka=8,r.I=1,r.connect=function(f,y,S,I){Ue(0),this.W=f,this.H=y||{},S&&I!==void 0&&(this.H.OSID=S,this.H.OAID=I),this.F=this.X,this.J=lo(this,null,this.W),zn(this)};function Qt(f){if(vn(f),f.I==3){var y=f.V++,S=ke(f.J);if(wt(S,"SID",f.M),wt(S,"RID",y),wt(S,"TYPE","terminate"),_s(f,S),y=new ti(f,f.j,y),y.M=2,y.A=be(ke(S)),S=!1,p.navigator&&p.navigator.sendBeacon)try{S=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&p.Image&&(new Image().src=y.A,S=!0),S||(y.g=uo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Zi(y)}Ri(f)}function Bs(f){f.g&&(oo(f),f.g.cancel(),f.g=null)}function vn(f){Bs(f),f.v&&(p.clearTimeout(f.v),f.v=null),Wr(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&p.clearTimeout(f.m),f.m=null)}function zn(f){if(!so(f.h)&&!f.m){f.m=!0;var y=f.Ea;le||O(),Ot||(le(),Ot=!0),j.add(y,f),f.D=0}}function dr(f,y){return Yi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Fi(T(f.Ea,f,y),tl(f,f.D)),f.D++,!0)}r.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Z=new ti(this,this.j,f);let J=this.o;if(this.U&&(J?(J=B(J),ct(J,this.U)):J=this.U),this.u!==null||this.R||(Z.J=J,J=null),this.S)t:{for(var y=0,S=0;S<this.i.length;S++){e:{var I=this.i[S];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=S;break t}if(y===4096||S===this.i.length-1){y=S+1;break t}}y=1e3}else y=1e3;y=$o(this,Z,y),S=ke(this.J),wt(S,"RID",f),wt(S,"CVER",22),this.G&&wt(S,"X-HTTP-Session-Id",this.G),_s(this,S),J&&(this.R?y="headers="+At(Vn(J))+"&"+y:this.u&&ms(S,this.u,J)),hs(this.h,Z),this.Ra&&wt(S,"TYPE","init"),this.S?(wt(S,"$req",y),wt(S,"SID","null"),Z.U=!0,bi(Z,S,null)):bi(Z,S,y),this.I=2}}else this.I==3&&(f?ro(this,f):this.i.length==0||so(this.h)||ro(this))};function ro(f,y){var S;y?S=y.l:S=f.V++;const I=ke(f.J);wt(I,"SID",f.M),wt(I,"RID",S),wt(I,"AID",f.K),_s(f,I),f.u&&f.o&&ms(I,f.u,f.o),S=new ti(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),y&&(f.i=y.G.concat(f.i)),y=$o(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),hs(f.h,S),bi(S,I,y)}function _s(f,y){f.H&&Gt(f.H,function(S,I){wt(y,I,S)}),f.l&&Gt({},function(S,I){wt(y,I,S)})}function $o(f,y,S){S=Math.min(f.i.length,S);const I=f.l?T(f.l.Ka,f.l,f):null;t:{var Z=f.i;let jt=-1;for(;;){const ce=["count="+S];jt==-1?S>0?(jt=Z[0].g,ce.push("ofs="+jt)):jt=0:ce.push("ofs="+jt);let he=!0;for(let Me=0;Me<S;Me++){var J=Z[Me].g;const oi=Z[Me].map;if(J-=jt,J<0)jt=Math.max(0,Z[Me].g-100),he=!1;else try{J="req"+J+"_"||"";try{var gt=oi instanceof Map?oi:Object.entries(oi);for(const[li,Qn]of gt){let Ii=Qn;b(Qn)&&(Ii=us(Qn)),ce.push(J+li+"="+encodeURIComponent(Ii))}}catch(li){throw ce.push(J+"type="+encodeURIComponent("_badmap")),li}}catch{I&&I(oi)}}if(he){gt=ce.join("&");break t}}gt=void 0}return f=f.i.splice(0,S),y.G=f,gt}function ao(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;le||O(),Ot||(le(),Ot=!0),j.add(y,f),f.A=0}}function mr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Fi(T(f.Da,f),tl(f,f.A)),f.A++,!0)}r.Da=function(){if(this.v=null,Xr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Fi(T(this.Wa,this),f)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),Bs(this),Xr(this))};function oo(f){f.B!=null&&(p.clearTimeout(f.B),f.B=null)}function Xr(f){f.g=new ti(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=ke(f.na);wt(y,"RID","rpc"),wt(y,"SID",f.M),wt(y,"AID",f.K),wt(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&wt(y,"TO",f.ia),wt(y,"TYPE","xmlhttp"),_s(f,y),f.u&&f.o&&ms(y,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=be(ke(y)),S.u=null,S.R=!0,Ei(S,f)}r.Va=function(){this.C!=null&&(this.C=null,Bs(this),mr(this),Ue(19))};function Wr(f){f.C!=null&&(p.clearTimeout(f.C),f.C=null)}function Yn(f,y){var S=null;if(f.g==y){Wr(f),oo(f),f.g=null;var I=2}else if(ii(f.h,y))S=y.G,Gr(f.h,y),I=1;else return;if(f.I!=0){if(y.o)if(I==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var Z=f.D;I=qr(),Ge(I,new qi(I,S)),zn(f)}else ao(f);else if(Z=y.m,Z==3||Z==0&&y.X>0||!(I==1&&dr(f,y)||I==2&&mr(f)))switch(S&&S.length>0&&(y=f.h,y.i=y.i.concat(S)),Z){case 1:Ci(f,5);break;case 4:Ci(f,10);break;case 3:Ci(f,6);break;default:Ci(f,2)}}}function tl(f,y){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*y}function Ci(f,y){if(f.j.info("Error code "+y),y==2){var S=T(f.bb,f),I=f.Ua;const Z=!I;I=new Wt(I||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Oe(I,"https"),be(I),Z?Ln(I.toString(),S):Qr(I.toString(),S)}else Ue(2);f.I=0,f.l&&f.l.pa(y),Ri(f),vn(f)}r.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Ri(f){if(f.I=0,f.ja=[],f.l){const y=Zr(f.h);(y.length!=0||f.i.length!=0)&&(it(f.ja,y),it(f.ja,f.i),f.h.i.length=0,K(f.i),f.i.length=0),f.l.oa()}}function lo(f,y,S){var I=S instanceof Wt?ke(S):new Wt(S);if(I.g!="")y&&(I.g=y+"."+I.g),Zn(I,I.u);else{var Z=p.location;I=Z.protocol,y=y?y+"."+Z.hostname:Z.hostname,Z=+Z.port;const J=new Wt(null);I&&Oe(J,I),y&&(J.g=y),Z&&Zn(J,Z),S&&(J.h=S),I=J}return S=f.G,y=f.wa,S&&y&&wt(I,S,y),wt(I,"VER",f.ka),_s(f,I),I}function uo(f,y,S){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new ne(new Lt({ab:S})):new ne(f.ma),y.Fa(f.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jr(){}r=Jr.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Hs(){}Hs.prototype.g=function(f,y){return new bn(f,y)};function bn(f,y){Fe.call(this),this.g=new gs(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!k(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new ys(this)}N(bn,Fe),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Qt(this.g)},bn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=us(f),f=S);y.i.push(new Ke(y.Ya++,f)),y.I==3&&zn(y)},bn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,bn.Z.N.call(this)};function co(f){Je.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const S in y){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}N(co,Je);function el(){Gn.call(this),this.status=1}N(el,Gn);function ys(f){this.g=f}N(ys,Jr),ys.prototype.ra=function(){Ge(this.g,"a")},ys.prototype.qa=function(f){Ge(this.g,new co(f))},ys.prototype.pa=function(f){Ge(this.g,new el)},ys.prototype.oa=function(){Ge(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,C1=function(){return new Hs},A1=function(){return qr()},S1=je,Jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Gh=lr,to.COMPLETE="complete",x1=to,Ko.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,Qu=Ko,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,w1=ne}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});class qn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");let eu="12.9.0";function tS(r){eu=r}const Uo=new vp("@firebase/firestore");function kl(){return Uo.logLevel}function St(r,...t){if(Uo.logLevel<=re.DEBUG){const n=t.map(Tp);Uo.debug(`Firestore (${eu}): ${r}`,...n)}}function Lr(r,...t){if(Uo.logLevel<=re.ERROR){const n=t.map(Tp);Uo.error(`Firestore (${eu}): ${r}`,...n)}}function Bo(r,...t){if(Uo.logLevel<=re.WARN){const n=t.map(Tp);Uo.warn(`Firestore (${eu}): ${r}`,...n)}}function Tp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Pt(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,R1(r,a,n)}function R1(r,t,n){let a=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Lr(a),new Error(a)}function de(r,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||R1(t,l,a)}function Ht(r,t){return r}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends Ur{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Va{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class I1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(qn.UNAUTHENTICATED)))}shutdown(){}}class nS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iS{constructor(t){this.t=t,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){de(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,n(v)):Promise.resolve();let h=new Va;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Va,t.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},b=v=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((v=>b(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?b(v):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Va)}}),0),p()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(de(typeof a.accessToken=="string",31837,{l:a}),new I1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string",2055,{h:t}),new qn(t)}}class sS{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rS{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new sS(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aS{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ss(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){de(this.o===void 0,3512);const a=h=>{h.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.m;return this.m=h.token,St("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class wp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=oS(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function ae(r,t){return r<t?-1:r>t?1:0}function $m(r,t){const n=Math.min(r.length,t.length);for(let a=0;a<n;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return Um(l)===Um(h)?ae(l,h):Um(l)?1:-1}return ae(r.length,t.length)}const lS=55296,uS=57343;function Um(r){const t=r.charCodeAt(0);return t>=lS&&t<=uS}function Yl(r,t,n){return r.length===t.length&&r.every(((a,l)=>n(a,t[l])))}const Vv="__name__";class $s{constructor(t,n,a){n===void 0?n=0:n>t.length&&Pt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Pt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return $s.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $s?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=$s.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return ae(t.length,n.length)}static compareSegments(t,n){const a=$s.isNumericId(t),l=$s.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?$s.extractNumericId(t).compare($s.extractNumericId(n)):$m(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pa.fromString(t.substring(4,t.length-2))}}class Re extends $s{construct(t,n,a){return new Re(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new Et(at.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new Re(n)}static emptyPath(){return new Re([])}}const cS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends $s{construct(t,n,a){return new Mn(t,n,a)}static isValidIdentifier(t){return cS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new Mn([Vv])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new Et(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let p=!1;for(;l<t.length;){const b=t[l];if(b==="\\"){if(l+1===t.length)throw new Et(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Et(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(h(),l++)}if(h(),p)throw new Et(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Mn(n)}static emptyPath(){return new Mn([])}}class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(Re.fromString(t))}static fromName(t){return new Mt(Re.fromString(t).popFirst(5))}static empty(){return new Mt(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new Re(t.slice()))}}function N1(r,t,n){if(!n)throw new Et(at.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function hS(r,t,n,a){if(t===!0&&a===!0)throw new Et(at.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function zv(r){if(!Mt.isDocumentKey(r))throw new Et(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jv(r){if(Mt.isDocumentKey(r))throw new Et(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function M1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Pt(12329,{type:typeof r})}function Cs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Et(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(r);throw new Et(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function hn(r,t){const n={typeString:r};return t&&(n.value=t),n}function Ec(r,t){if(!M1(r))throw new Et(at.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const p=r[a];if(l&&typeof p!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&p!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new Et(at.INVALID_ARGUMENT,n);return!0}const Uv=-62135596800,Bv=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*Bv);return new Ve(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Et(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Et(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Uv)throw new Et(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bv}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ec(t,Ve._jsonSchema))return new Ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Uv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:hn("string",Ve._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};class zt{static fromTimestamp(t){return new zt(t)}static min(){return new zt(new Ve(0,0))}static max(){return new zt(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lc=-1;function fS(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=zt.fromTimestamp(a===1e9?new Ve(n+1,0):new Ve(n,a));return new Ba(l,Mt.empty(),t)}function dS(r){return new Ba(r.readTime,r.key,lc)}class Ba{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Ba(zt.min(),Mt.empty(),lc)}static max(){return new Ba(zt.max(),Mt.empty(),lc)}}function mS(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Mt.comparator(r.documentKey,t.documentKey),n!==0?n:ae(r.largestBatchId,t.largestBatchId))}const pS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function nu(r){if(r.code!==at.FAILED_PRECONDITION||r.message!==pS)throw r;St("LocalStore","Unexpectedly lost primary lease")}class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ut(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof ut?n:ut.resolve(n)}catch(n){return ut.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):ut.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):ut.reject(n)}static resolve(t){return new ut(((n,a)=>{n(t)}))}static reject(t){return new ut(((n,a)=>{a(t)}))}static waitFor(t){return new ut(((n,a)=>{let l=0,h=0,p=!1;t.forEach((b=>{++l,b.next((()=>{++h,p&&h===l&&n()}),(v=>a(v)))})),p=!0,h===l&&n()}))}static or(t){let n=ut.resolve(!1);for(const a of t)n=n.next((l=>l?ut.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,h)=>{a.push(n.call(this,l,h))})),this.waitFor(a)}static mapArray(t,n){return new ut(((a,l)=>{const h=t.length,p=new Array(h);let b=0;for(let v=0;v<h;v++){const T=v;n(t[T]).next((R=>{p[T]=R,++b,b===h&&a(p)}),(R=>l(R)))}}))}static doWhile(t,n){return new ut(((a,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):a()};h()}))}}function _S(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function iu(r){return r.name==="IndexedDbTransactionError"}class Sf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sf.ce=-1;const xp=-1;function Tc(r){return r==null}function sf(r){return r===0&&1/r==-1/0}function yS(r){return typeof r=="number"&&Number.isInteger(r)&&!sf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const D1="";function vS(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Hv(t)),t=bS(r.get(n),t);return Hv(t)}function bS(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case D1:n+="";break;default:n+=h}}return n}function Hv(r){return r+D1+""}function qv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Qa(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function k1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class qe{constructor(t,n){this.comparator=t,this.root=n||Nn.EMPTY}insert(t,n){return new qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uh(this.root,t,this.comparator,!0)}}class Uh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Nn{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??Nn.RED,this.left=l??Nn.EMPTY,this.right=h??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new Nn(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Nn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Pt(27949);return t+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt(57766)}get value(){throw Pt(16141)}get color(){throw Pt(16727)}get left(){throw Pt(29726)}get right(){throw Pt(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new Nn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mn{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fv(this.data.getIterator())}getIteratorFrom(t){return new Fv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof mn)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new mn(this.comparator);return n.data=t,n}}class Fv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zi{constructor(t){this.fields=t,t.sort(Mn.comparator)}static empty(){return new zi([])}unionWith(t){let n=new mn(Mn.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new zi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Yl(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}class O1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class On{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new O1("Invalid base64 string: "+h):h}})(t);return new On(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let p=0;p<l.length;++p)h+=String.fromCharCode(l[p]);return h})(t);return new On(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}On.EMPTY_BYTE_STRING=new On("");const ES=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(r){if(de(!!r,39018),typeof r=="string"){let t=0;const n=ES.exec(r);if(de(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:en(r.seconds),nanos:en(r.nanos)}}function en(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qa(r){return typeof r=="string"?On.fromBase64String(r):On.fromUint8Array(r)}const L1="server_timestamp",P1="__type__",V1="__previous_value__",z1="__local_write_time__";function Sp(r){return(r?.mapValue?.fields||{})[P1]?.stringValue===L1}function Af(r){const t=r.mapValue.fields[V1];return Sp(t)?Af(t):t}function uc(r){const t=Ha(r.mapValue.fields[z1].timestampValue);return new Ve(t.seconds,t.nanos)}class TS{constructor(t,n,a,l,h,p,b,v,T,R,N){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=v,this.useFetchStreams=T,this.isUsingEmulator=R,this.apiKey=N}}const rf="(default)";class cc{constructor(t,n){this.projectId=t,this.database=n||rf}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===rf}isEqual(t){return t instanceof cc&&t.projectId===this.projectId&&t.database===this.database}}function wS(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Et(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(r.options.projectId,t)}const j1="__type__",xS="__max__",Bh={mapValue:{}},U1="__vector__",af="value";function Fa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sp(r)?4:AS(r)?9007199254740991:SS(r)?10:11:Pt(28295,{value:r})}function sr(r,t){if(r===t)return!0;const n=Fa(r);if(n!==Fa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return uc(r).isEqual(uc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const p=Ha(l.timestampValue),b=Ha(h.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return qa(l.bytesValue).isEqual(qa(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return en(l.geoPointValue.latitude)===en(h.geoPointValue.latitude)&&en(l.geoPointValue.longitude)===en(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return en(l.integerValue)===en(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const p=en(l.doubleValue),b=en(h.doubleValue);return p===b?sf(p)===sf(b):isNaN(p)&&isNaN(b)}return!1})(r,t);case 9:return Yl(r.arrayValue.values||[],t.arrayValue.values||[],sr);case 10:case 11:return(function(l,h){const p=l.mapValue.fields||{},b=h.mapValue.fields||{};if(qv(p)!==qv(b))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(b[v]===void 0||!sr(p[v],b[v])))return!1;return!0})(r,t);default:return Pt(52216,{left:r})}}function hc(r,t){return(r.values||[]).find((n=>sr(n,t)))!==void 0}function Ql(r,t){if(r===t)return 0;const n=Fa(r),a=Fa(t);if(n!==a)return ae(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(r.booleanValue,t.booleanValue);case 2:return(function(h,p){const b=en(h.integerValue||h.doubleValue),v=en(p.integerValue||p.doubleValue);return b<v?-1:b>v?1:b===v?0:isNaN(b)?isNaN(v)?0:-1:1})(r,t);case 3:return Gv(r.timestampValue,t.timestampValue);case 4:return Gv(uc(r),uc(t));case 5:return $m(r.stringValue,t.stringValue);case 6:return(function(h,p){const b=qa(h),v=qa(p);return b.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(h,p){const b=h.split("/"),v=p.split("/");for(let T=0;T<b.length&&T<v.length;T++){const R=ae(b[T],v[T]);if(R!==0)return R}return ae(b.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,p){const b=ae(en(h.latitude),en(p.latitude));return b!==0?b:ae(en(h.longitude),en(p.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Zv(r.arrayValue,t.arrayValue);case 10:return(function(h,p){const b=h.fields||{},v=p.fields||{},T=b[af]?.arrayValue,R=v[af]?.arrayValue,N=ae(T?.values?.length||0,R?.values?.length||0);return N!==0?N:Zv(T,R)})(r.mapValue,t.mapValue);case 11:return(function(h,p){if(h===Bh.mapValue&&p===Bh.mapValue)return 0;if(h===Bh.mapValue)return 1;if(p===Bh.mapValue)return-1;const b=h.fields||{},v=Object.keys(b),T=p.fields||{},R=Object.keys(T);v.sort(),R.sort();for(let N=0;N<v.length&&N<R.length;++N){const P=$m(v[N],R[N]);if(P!==0)return P;const K=Ql(b[v[N]],T[R[N]]);if(K!==0)return K}return ae(v.length,R.length)})(r.mapValue,t.mapValue);default:throw Pt(23264,{he:n})}}function Gv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return ae(r,t);const n=Ha(r),a=Ha(t),l=ae(n.seconds,a.seconds);return l!==0?l:ae(n.nanos,a.nanos)}function Zv(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=Ql(n[l],a[l]);if(h)return h}return ae(n.length,a.length)}function Xl(r){return tp(r)}function tp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Ha(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return qa(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=tp(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const p of a)h?h=!1:l+=",",l+=`${p}:${tp(n.fields[p])}`;return l+"}"})(r.mapValue):Pt(61005,{value:r})}function Zh(r){switch(Fa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Af(r);return t?16+Zh(t):16;case 5:return 2*r.stringValue.length;case 6:return qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+Zh(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Qa(a.fields,((h,p)=>{l+=h.length+Zh(p)})),l})(r.mapValue);default:throw Pt(13486,{value:r})}}function Kv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function ep(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function Yv(r){return!!r&&"nullValue"in r}function Qv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kh(r){return!!r&&"mapValue"in r}function SS(r){return(r?.mapValue?.fields||{})[j1]?.stringValue===U1}function ec(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Qa(r.mapValue.fields,((n,a)=>t.mapValue.fields[n]=ec(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ec(r.arrayValue.values[n]);return t}return{...r}}function AS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===xS}class Jn{constructor(t){this.value=t}static empty(){return new Jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!Kh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ec(n)}setAll(t){let n=Mn.emptyPath(),a={},l=[];t.forEach(((p,b)=>{if(!n.isImmediateParentOf(b)){const v=this.getFieldsMap(n);this.applyChanges(v,a,l),a={},l=[],n=b.popLast()}p?a[b.lastSegment()]=ec(p):l.push(b.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return sr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];Kh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){Qa(n,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new Jn(ec(this.value))}}function B1(r){const t=[];return Qa(r.fields,((n,a)=>{const l=new Mn([n]);if(Kh(a)){const h=B1(a.mapValue).fields;if(h.length===0)t.push(l);else for(const p of h)t.push(l.child(p))}else t.push(l)})),new zi(t)}class Sn{constructor(t,n,a,l,h,p,b){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=p,this.documentState=b}static newInvalidDocument(t){return new Sn(t,0,zt.min(),zt.min(),zt.min(),Jn.empty(),0)}static newFoundDocument(t,n,a,l){return new Sn(t,1,n,zt.min(),a,l,0)}static newNoDocument(t,n){return new Sn(t,2,n,zt.min(),zt.min(),Jn.empty(),0)}static newUnknownDocument(t,n){return new Sn(t,3,n,zt.min(),zt.min(),Jn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(t,n){this.position=t,this.inclusive=n}}function Xv(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],p=r.position[l];if(h.field.isKeyField()?a=Mt.comparator(Mt.fromName(p.referenceValue),n.key):a=Ql(p,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Wv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!sr(r.position[n],t.position[n]))return!1;return!0}class lf{constructor(t,n="asc"){this.field=t,this.dir=n}}function CS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class H1{}class cn extends H1{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new IS(t,n,a):n==="array-contains"?new DS(t,a):n==="in"?new kS(t,a):n==="not-in"?new OS(t,a):n==="array-contains-any"?new LS(t,a):new cn(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new NS(t,a):new MS(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ql(n,this.value)):n!==null&&Fa(this.value)===Fa(n)&&this.matchesComparison(Ql(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends H1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Is(t,n)}matches(t){return q1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q1(r){return r.op==="and"}function F1(r){return RS(r)&&q1(r)}function RS(r){for(const t of r.filters)if(t instanceof Is)return!1;return!0}function np(r){if(r instanceof cn)return r.field.canonicalString()+r.op.toString()+Xl(r.value);if(F1(r))return r.filters.map((t=>np(t))).join(",");{const t=r.filters.map((n=>np(n))).join(",");return`${r.op}(${t})`}}function G1(r,t){return r instanceof cn?(function(a,l){return l instanceof cn&&a.op===l.op&&a.field.isEqual(l.field)&&sr(a.value,l.value)})(r,t):r instanceof Is?(function(a,l){return l instanceof Is&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,p,b)=>h&&G1(p,l.filters[b])),!0):!1})(r,t):void Pt(19439)}function Z1(r){return r instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xl(n.value)}`})(r):r instanceof Is?(function(n){return n.op.toString()+" {"+n.getFilters().map(Z1).join(" ,")+"}"})(r):"Filter"}class IS extends cn{constructor(t,n,a){super(t,n,a),this.key=Mt.fromName(a.referenceValue)}matches(t){const n=Mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class NS extends cn{constructor(t,n){super(t,"in",n),this.keys=K1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class MS extends cn{constructor(t,n){super(t,"not-in",n),this.keys=K1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function K1(r,t){return(t.arrayValue?.values||[]).map((n=>Mt.fromName(n.referenceValue)))}class DS extends cn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ap(n)&&hc(n.arrayValue,this.value)}}class kS extends cn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}}class OS extends cn{constructor(t,n){super(t,"not-in",n)}matches(t){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hc(this.value.arrayValue,n)}}class LS extends cn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>hc(this.value.arrayValue,a)))}}class PS{constructor(t,n=null,a=[],l=[],h=null,p=null,b=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=p,this.endAt=b,this.Te=null}}function Jv(r,t=null,n=[],a=[],l=null,h=null,p=null){return new PS(r,t,n,a,l,h,p)}function Cp(r){const t=Ht(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>np(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Tc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>Xl(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>Xl(a))).join(",")),t.Te=n}return t.Te}function Rp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!CS(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!G1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Wv(r.startAt,t.startAt)&&Wv(r.endAt,t.endAt)}function ip(r){return Mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wc{constructor(t,n=null,a=[],l=[],h=null,p="F",b=null,v=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=p,this.startAt=b,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VS(r,t,n,a,l,h,p,b){return new wc(r,t,n,a,l,h,p,b)}function Ip(r){return new wc(r)}function $v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function zS(r){return Mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Y1(r){return r.collectionGroup!==null}function nc(r){const t=Ht(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new mn(Mn.comparator);return p.filters.forEach((v=>{v.getFlattenedFilters().forEach((T=>{T.isInequality()&&(b=b.add(T.field))}))})),b})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new lf(h,a))})),n.has(Mn.keyField().canonicalString())||t.Ie.push(new lf(Mn.keyField(),a))}return t.Ie}function tr(r){const t=Ht(r);return t.Ee||(t.Ee=jS(t,nc(r))),t.Ee}function jS(r,t){if(r.limitType==="F")return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new lf(l.field,h)}));const n=r.endAt?new of(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new of(r.startAt.position,r.startAt.inclusive):null;return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function sp(r,t){const n=r.filters.concat([t]);return new wc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function rp(r,t,n){return new wc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Cf(r,t){return Rp(tr(r),tr(t))&&r.limitType===t.limitType}function Q1(r){return`${Cp(tr(r))}|lt:${r.limitType}`}function Ol(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>Z1(l))).join(", ")}]`),Tc(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Xl(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Xl(l))).join(",")),`Target(${a})`})(tr(r))}; limitType=${r.limitType})`}function Rf(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of nc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(p,b,v){const T=Xv(p,b,v);return p.inclusive?T<=0:T<0})(a.startAt,nc(a),l)||a.endAt&&!(function(p,b,v){const T=Xv(p,b,v);return p.inclusive?T>=0:T>0})(a.endAt,nc(a),l))})(r,t)}function US(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function X1(r){return(t,n)=>{let a=!1;for(const l of nc(r)){const h=BS(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function BS(r,t,n){const a=r.field.isKeyField()?Mt.comparator(t.key,n.key):(function(h,p,b){const v=p.data.field(h),T=b.data.field(h);return v!==null&&T!==null?Ql(v,T):Pt(42886)})(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Pt(19790,{direction:r.dir})}}class Fo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Qa(this.inner,((n,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return k1(this.inner)}size(){return this.innerSize}}const HS=new qe(Mt.comparator);function Pr(){return HS}const W1=new qe(Mt.comparator);function Xu(...r){let t=W1;for(const n of r)t=t.insert(n.key,n);return t}function J1(r){let t=W1;return r.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function Vo(){return ic()}function $1(){return ic()}function ic(){return new Fo((r=>r.toString()),((r,t)=>r.isEqual(t)))}const qS=new qe(Mt.comparator),FS=new mn(Mt.comparator);function oe(...r){let t=FS;for(const n of r)t=t.add(n);return t}const GS=new mn(ae);function ZS(){return GS}function Np(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(t)?"-0":t}}function tb(r){return{integerValue:""+r}}function KS(r,t){return yS(t)?tb(t):Np(r,t)}class If{constructor(){this._=void 0}}function YS(r,t,n){return r instanceof fc?(function(l,h){const p={fields:{[P1]:{stringValue:L1},[z1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Sp(h)&&(h=Af(h)),h&&(p.fields[V1]=h),{mapValue:p}})(n,t):r instanceof dc?nb(r,t):r instanceof mc?ib(r,t):(function(l,h){const p=eb(l,h),b=t0(p)+t0(l.Ae);return ep(p)&&ep(l.Ae)?tb(b):Np(l.serializer,b)})(r,t)}function QS(r,t,n){return r instanceof dc?nb(r,t):r instanceof mc?ib(r,t):n}function eb(r,t){return r instanceof uf?(function(a){return ep(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class fc extends If{}class dc extends If{constructor(t){super(),this.elements=t}}function nb(r,t){const n=sb(t);for(const a of r.elements)n.some((l=>sr(l,a)))||n.push(a);return{arrayValue:{values:n}}}class mc extends If{constructor(t){super(),this.elements=t}}function ib(r,t){let n=sb(t);for(const a of r.elements)n=n.filter((l=>!sr(l,a)));return{arrayValue:{values:n}}}class uf extends If{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function t0(r){return en(r.integerValue||r.doubleValue)}function sb(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class XS{constructor(t,n){this.field=t,this.transform=n}}function WS(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof dc&&l instanceof dc||a instanceof mc&&l instanceof mc?Yl(a.elements,l.elements,sr):a instanceof uf&&l instanceof uf?sr(a.Ae,l.Ae):a instanceof fc&&l instanceof fc})(r.transform,t.transform)}class JS{constructor(t,n){this.version=t,this.transformResults=n}}class Dn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Dn}static exists(t){return new Dn(void 0,t)}static updateTime(t){return new Dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Nf{}function rb(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Mf(r.key,Dn.none()):new xc(r.key,r.data,Dn.none());{const n=r.data,a=Jn.empty();let l=new mn(Mn.comparator);for(let h of t.fields)if(!l.has(h)){let p=n.field(h);p===null&&h.length>1&&(h=h.popLast(),p=n.field(h)),p===null?a.delete(h):a.set(h,p),l=l.add(h)}return new Xa(r.key,a,new zi(l.toArray()),Dn.none())}}function $S(r,t,n){r instanceof xc?(function(l,h,p){const b=l.value.clone(),v=n0(l.fieldTransforms,h,p.transformResults);b.setAll(v),h.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,t,n):r instanceof Xa?(function(l,h,p){if(!Yh(l.precondition,h))return void h.convertToUnknownDocument(p.version);const b=n0(l.fieldTransforms,h,p.transformResults),v=h.data;v.setAll(ab(l)),v.setAll(b),h.convertToFoundDocument(p.version,v).setHasCommittedMutations()})(r,t,n):(function(l,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,n)}function sc(r,t,n,a){return r instanceof xc?(function(h,p,b,v){if(!Yh(h.precondition,p))return b;const T=h.value.clone(),R=i0(h.fieldTransforms,v,p);return T.setAll(R),p.convertToFoundDocument(p.version,T).setHasLocalMutations(),null})(r,t,n,a):r instanceof Xa?(function(h,p,b,v){if(!Yh(h.precondition,p))return b;const T=i0(h.fieldTransforms,v,p),R=p.data;return R.setAll(ab(h)),R.setAll(T),p.convertToFoundDocument(p.version,R).setHasLocalMutations(),b===null?null:b.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((N=>N.field)))})(r,t,n,a):(function(h,p,b){return Yh(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,t,n)}function tA(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=eb(a.transform,l||null);h!=null&&(n===null&&(n=Jn.empty()),n.set(a.field,h))}return n||null}function e0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Yl(a,l,((h,p)=>WS(h,p)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xc extends Nf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xa extends Nf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ab(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}})),t}function n0(r,t,n){const a=new Map;de(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const h=r[l],p=h.transform,b=t.data.field(h.field);a.set(h.field,QS(p,b,n[l]))}return a}function i0(r,t,n){const a=new Map;for(const l of r){const h=l.transform,p=n.data.field(l.field);a.set(l.field,YS(h,p,t))}return a}class Mf extends Nf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ob extends Nf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eA{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&$S(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=sc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=sc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=$1();return this.mutations.forEach((l=>{const h=t.get(l.key),p=h.overlayedDocument;let b=this.applyToLocalView(p,h.mutatedFields);b=n.has(l.key)?null:b;const v=rb(p,b);v!==null&&a.set(l.key,v),p.isValidDocument()||p.convertToNoDocument(zt.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),oe())}isEqual(t){return this.batchId===t.batchId&&Yl(this.mutations,t.mutations,((n,a)=>e0(n,a)))&&Yl(this.baseMutations,t.baseMutations,((n,a)=>e0(n,a)))}}class Mp{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){de(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return qS})();const h=t.mutations;for(let p=0;p<h.length;p++)l=l.insert(h[p].key,a[p].version);return new Mp(t,n,a,l)}}class nA{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iA{constructor(t,n){this.count=t,this.unchangedNames=n}}var un,fe;function lb(r){switch(r){case at.OK:return Pt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Pt(15467,{code:r})}}function ub(r){if(r===void 0)return Lr("GRPC error has no .code"),at.UNKNOWN;switch(r){case un.OK:return at.OK;case un.CANCELLED:return at.CANCELLED;case un.UNKNOWN:return at.UNKNOWN;case un.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case un.INTERNAL:return at.INTERNAL;case un.UNAVAILABLE:return at.UNAVAILABLE;case un.UNAUTHENTICATED:return at.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case un.NOT_FOUND:return at.NOT_FOUND;case un.ALREADY_EXISTS:return at.ALREADY_EXISTS;case un.PERMISSION_DENIED:return at.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case un.ABORTED:return at.ABORTED;case un.OUT_OF_RANGE:return at.OUT_OF_RANGE;case un.UNIMPLEMENTED:return at.UNIMPLEMENTED;case un.DATA_LOSS:return at.DATA_LOSS;default:return Pt(39323,{code:r})}}(fe=un||(un={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";function sA(){return new TextEncoder}const rA=new Pa([4294967295,4294967295],0);function s0(r){const t=sA().encode(r),n=new T1;return n.update(t),new Uint8Array(n.digest())}function r0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Pa([n,a],0),new Pa([l,h],0)]}class Dp{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Wu(`Invalid padding: ${n}`);if(a<0)throw new Wu(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Wu(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new Wu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Pa.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(Pa.fromNumber(a)));return l.compare(rA)===1&&(l=new Pa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=s0(t),[a,l]=r0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);if(!this.we(p))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new Dp(h,l,n);return a.forEach((b=>p.insert(b))),p}insert(t){if(this.ge===0)return;const n=s0(t),[a,l]=r0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);this.be(p)}}be(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class Wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Df{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Sc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Df(zt.min(),l,new qe(ae),Pr(),oe())}}class Sc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Sc(a,n,oe(),oe(),oe())}}class Qh{constructor(t,n,a,l){this.Se=t,this.removedTargetIds=n,this.key=a,this.De=l}}class cb{constructor(t,n){this.targetId=t,this.Ce=n}}class hb{constructor(t,n,a=On.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class a0{constructor(){this.ve=0,this.Fe=o0(),this.Me=On.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=oe(),n=oe(),a=oe();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Pt(38017,{changeType:h})}})),new Sc(this.Me,this.xe,t,n,a)}Ke(){this.Oe=!1,this.Fe=o0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class aA{constructor(t){this.Ge=t,this.ze=new Map,this.je=Pr(),this.He=Hh(),this.Je=Hh(),this.Ze=new qe(ae)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:Pt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(ip(h))if(a===0){const p=new Mt(h.path);this.et(n,p,Sn.newNoDocument(p,zt.min()))}else de(a===1,20013,{expectedCount:a});else{const p=this._t(n);if(p!==a){const b=this.ut(t),v=b?this.ct(b,t,p):1;if(v!==0){this.it(n);const T=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,T)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let p,b;try{p=qa(a).toUint8Array()}catch(v){if(v instanceof O1)return Bo("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{b=new Dp(p,l,h)}catch(v){return Bo(v instanceof Wu?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return b.ge===0?null:b}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((h=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${h.path.canonicalString()}`;t.mightContain(b)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,p)=>{const b=this.ot(p);if(b){if(h.current&&ip(b.target)){const v=new Mt(b.target.path);this.It(v).has(p)||this.Et(p,v)||this.et(p,v,Sn.newNoDocument(v,t))}h.Be&&(n.set(p,h.ke()),h.Ke())}}));let a=oe();this.Je.forEach(((h,p)=>{let b=!0;p.forEachWhile((v=>{const T=this.ot(v);return!T||T.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(h))})),this.je.forEach(((h,p)=>p.setReadTime(t)));const l=new Df(t,n,this.Ze,this.je,a);return this.je=Pr(),this.He=Hh(),this.Je=Hh(),this.Ze=new qe(ae),l}Ye(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new a0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new mn(ae),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new mn(ae),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||St("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new a0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Hh(){return new qe(Mt.comparator)}function o0(){return new qe(Mt.comparator)}const oA={asc:"ASCENDING",desc:"DESCENDING"},lA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uA={and:"AND",or:"OR"};class cA{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ap(r,t){return r.useProto3Json||Tc(t)?t:{value:t}}function cf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function hA(r,t){return cf(r,t.toTimestamp())}function ji(r){return de(!!r,49232),zt.fromTimestamp((function(n){const a=Ha(n);return new Ve(a.seconds,a.nanos)})(r))}function kp(r,t){return op(r,t).canonicalString()}function op(r,t){const n=(function(l){return new Re(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function db(r){const t=Re.fromString(r);return de(vb(t),10190,{key:t.toString()}),t}function hf(r,t){return kp(r.databaseId,t.path)}function rc(r,t){const n=db(t);if(n.get(1)!==r.databaseId.projectId)throw new Et(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Et(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Mt(pb(n))}function mb(r,t){return kp(r.databaseId,t)}function fA(r){const t=db(r);return t.length===4?Re.emptyPath():pb(t)}function lp(r){return new Re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pb(r){return de(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function l0(r,t,n){return{name:hf(r,t),fields:n.value.mapValue.fields}}function dA(r,t){return"found"in t?(function(a,l){de(!!l.found,43571),l.found.name,l.found.updateTime;const h=rc(a,l.found.name),p=ji(l.found.updateTime),b=l.found.createTime?ji(l.found.createTime):zt.min(),v=new Jn({mapValue:{fields:l.found.fields}});return Sn.newFoundDocument(h,p,b,v)})(r,t):"missing"in t?(function(a,l){de(!!l.missing,3894),de(!!l.readTime,22933);const h=rc(a,l.missing),p=ji(l.readTime);return Sn.newNoDocument(h,p)})(r,t):Pt(7234,{result:t})}function mA(r,t){let n;if("targetChange"in t){t.targetChange;const a=(function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Pt(39313,{state:T})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(T,R){return T.useProto3Json?(de(R===void 0||typeof R=="string",58123),On.fromBase64String(R||"")):(de(R===void 0||R instanceof Buffer||R instanceof Uint8Array,16193),On.fromUint8Array(R||new Uint8Array))})(r,t.targetChange.resumeToken),p=t.targetChange.cause,b=p&&(function(T){const R=T.code===void 0?at.UNKNOWN:ub(T.code);return new Et(R,T.message||"")})(p);n=new hb(a,l,h,b||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=rc(r,a.document.name),h=ji(a.document.updateTime),p=a.document.createTime?ji(a.document.createTime):zt.min(),b=new Jn({mapValue:{fields:a.document.fields}}),v=Sn.newFoundDocument(l,h,p,b),T=a.targetIds||[],R=a.removedTargetIds||[];n=new Qh(T,R,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=rc(r,a.document),h=a.readTime?ji(a.readTime):zt.min(),p=Sn.newNoDocument(l,h),b=a.removedTargetIds||[];n=new Qh([],b,p.key,p)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=rc(r,a.document),h=a.removedTargetIds||[];n=new Qh([],h,l,null)}else{if(!("filter"in t))return Pt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,p=new iA(l,h),b=a.targetId;n=new cb(b,p)}}return n}function gb(r,t){let n;if(t instanceof xc)n={update:l0(r,t.key,t.value)};else if(t instanceof Mf)n={delete:hf(r,t.key)};else if(t instanceof Xa)n={update:l0(r,t.key,t.data),updateMask:wA(t.fieldMask)};else{if(!(t instanceof ob))return Pt(16599,{dt:t.type});n={verify:hf(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(h,p){const b=p.transform;if(b instanceof fc)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof dc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof mc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof uf)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Pt(20930,{transform:p.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:hA(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Pt(27497)})(r,t.precondition)),n}function pA(r,t){return r&&r.length>0?(de(t!==void 0,14353),r.map((n=>(function(l,h){let p=l.updateTime?ji(l.updateTime):ji(h);return p.isEqual(zt.min())&&(p=ji(h)),new JS(p,l.transformResults||[])})(n,t)))):[]}function gA(r,t){return{documents:[mb(r,t.path)]}}function _A(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=mb(r,l);const h=(function(T){if(T.length!==0)return yb(Is.create(T,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const p=(function(T){if(T.length!==0)return T.map((R=>(function(P){return{field:Ll(P.field),direction:bA(P.dir)}})(R)))})(t.orderBy);p&&(n.structuredQuery.orderBy=p);const b=ap(r,t.limit);return b!==null&&(n.structuredQuery.limit=b),t.startAt&&(n.structuredQuery.startAt=(function(T){return{before:T.inclusive,values:T.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(T){return{before:!T.inclusive,values:T.position}})(t.endAt)),{ft:n,parent:l}}function yA(r){let t=fA(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){de(a===1,65062);const R=n.from[0];R.allDescendants?l=R.collectionId:t=t.child(R.collectionId)}let h=[];n.where&&(h=(function(N){const P=_b(N);return P instanceof Is&&F1(P)?P.getFilters():[P]})(n.where));let p=[];n.orderBy&&(p=(function(N){return N.map((P=>(function(it){return new lf(Pl(it.field),(function(dt){switch(dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(it.direction))})(P)))})(n.orderBy));let b=null;n.limit&&(b=(function(N){let P;return P=typeof N=="object"?N.value:N,Tc(P)?null:P})(n.limit));let v=null;n.startAt&&(v=(function(N){const P=!!N.before,K=N.values||[];return new of(K,P)})(n.startAt));let T=null;return n.endAt&&(T=(function(N){const P=!N.before,K=N.values||[];return new of(K,P)})(n.endAt)),VS(t,l,p,h,b,"F",v,T)}function vA(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _b(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Pl(n.unaryFilter.field);return cn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Pl(n.unaryFilter.field);return cn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Pl(n.unaryFilter.field);return cn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Pl(n.unaryFilter.field);return cn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pt(61313);default:return Pt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return cn.create(Pl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pt(58110);default:return Pt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Is.create(n.compositeFilter.filters.map((a=>_b(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Pt(1026)}})(n.compositeFilter.op))})(r):Pt(30097,{filter:r})}function bA(r){return oA[r]}function EA(r){return lA[r]}function TA(r){return uA[r]}function Ll(r){return{fieldPath:r.canonicalString()}}function Pl(r){return Mn.fromServerFormat(r.fieldPath)}function yb(r){return r instanceof cn?(function(n){if(n.op==="=="){if(Qv(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(Yv(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qv(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(Yv(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:EA(n.op),value:n.value}}})(r):r instanceof Is?(function(n){const a=n.getFilters().map((l=>yb(l)));return a.length===1?a[0]:{compositeFilter:{op:TA(n.op),filters:a}}})(r):Pt(54877,{filter:r})}function wA(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function vb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function bb(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Da{constructor(t,n,a,l,h=zt.min(),p=zt.min(),b=On.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=v}withSequenceNumber(t){return new Da(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class xA{constructor(t){this.yt=t}}function SA(r){const t=yA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rp(t,t.limit,"L"):t}class AA{constructor(){this.Sn=new CA}addToCollectionParentIndex(t,n){return this.Sn.add(n),ut.resolve()}getCollectionParents(t,n){return ut.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return ut.resolve()}deleteFieldIndex(t,n){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,n){return ut.resolve()}getDocumentsMatchingTarget(t,n){return ut.resolve(null)}getIndexType(t,n){return ut.resolve(0)}getFieldIndexes(t,n){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,n){return ut.resolve(Ba.min())}getMinOffsetFromCollectionGroup(t,n){return ut.resolve(Ba.min())}updateCollectionGroup(t,n,a){return ut.resolve()}updateIndexEntries(t,n){return ut.resolve()}}class CA{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new mn(Re.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new mn(Re.comparator)).toArray()}}const u0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eb=41943040;class _i{static withCacheSize(t){return new _i(t,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(Eb,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class Wl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Wl(0)}static ar(){return new Wl(-1)}}const c0="LruGarbageCollector",RA=1048576;function h0([r,t],[n,a]){const l=ae(r,n);return l===0?ae(t,a):l}class IA{constructor(t){this.Pr=t,this.buffer=new mn(h0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();h0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NA{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){St(c0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){iu(n)?St(c0,"Ignoring IndexedDB error during garbage collection: ",n):await nu(n)}await this.Ar(3e5)}))}}class MA{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return ut.resolve(Sf.ce);const a=new IA(n);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.Vr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(u0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u0):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let a,l,h,p,b,v,T;const R=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),l=this.params.maximumSequenceNumbersToCollect):l=N,p=Date.now(),this.nthSequenceNumber(t,l)))).next((N=>(a=N,b=Date.now(),this.removeTargets(t,a,n)))).next((N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((N=>(T=Date.now(),kl()<=re.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-R}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${h} targets in `+(v-b)+`ms
	Removed ${N} documents in `+(T-v)+`ms
Total Duration: ${T-R}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:N}))))}}function DA(r,t){return new MA(r,t)}class kA{constructor(){this.changes=new Fo((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ut.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class OA{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class LA{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&sc(a.mutation,l,zi.empty(),Ve.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,oe()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=oe()){const l=Vo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((h=>{let p=Xu();return h.forEach(((b,v)=>{p=p.insert(b,v.overlayedDocument)})),p}))))}getOverlayedDocuments(t,n){const a=Vo();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,oe())))}populateOverlays(t,n,a){const l=[];return a.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((p,b)=>{n.set(p,b)}))}))}computeViews(t,n,a,l){let h=Pr();const p=ic(),b=(function(){return ic()})();return n.forEach(((v,T)=>{const R=a.get(T.key);l.has(T.key)&&(R===void 0||R.mutation instanceof Xa)?h=h.insert(T.key,T):R!==void 0?(p.set(T.key,R.mutation.getFieldMask()),sc(R.mutation,T,R.mutation.getFieldMask(),Ve.now())):p.set(T.key,zi.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((T,R)=>p.set(T,R))),n.forEach(((T,R)=>b.set(T,new OA(R,p.get(T)??null)))),b)))}recalculateAndSaveOverlays(t,n){const a=ic();let l=new qe(((p,b)=>p-b)),h=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((p=>{for(const b of p)b.keys().forEach((v=>{const T=n.get(v);if(T===null)return;let R=a.get(v)||zi.empty();R=b.applyToLocalView(T,R),a.set(v,R);const N=(l.get(b.batchId)||oe()).add(v);l=l.insert(b.batchId,N)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const v=b.getNext(),T=v.key,R=v.value,N=$1();R.forEach((P=>{if(!h.has(P)){const K=rb(n.get(P),a.get(P));K!==null&&N.set(P,K),h=h.add(P)}})),p.push(this.documentOverlayCache.saveOverlays(t,T,N))}return ut.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return zS(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Y1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((h=>{const p=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):ut.resolve(Vo());let b=lc,v=h;return p.next((T=>ut.forEach(T,((R,N)=>(b<N.largestBatchId&&(b=N.largestBatchId),h.get(R)?ut.resolve():this.remoteDocumentCache.getEntry(t,R).next((P=>{v=v.insert(R,P)}))))).next((()=>this.populateOverlays(t,T,h))).next((()=>this.computeViews(t,v,T,oe()))).next((R=>({batchId:b,changes:J1(R)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Mt(n)).next((a=>{let l=Xu();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let p=Xu();return this.indexManager.getCollectionParents(t,h).next((b=>ut.forEach(b,(v=>{const T=(function(N,P){return new wc(P,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(n,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,a,l).next((R=>{R.forEach(((N,P)=>{p=p.insert(N,P)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((p=>(h=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l)))).next((p=>{h.forEach(((v,T)=>{const R=T.getKey();p.get(R)===null&&(p=p.insert(R,Sn.newInvalidDocument(R)))}));let b=Xu();return p.forEach(((v,T)=>{const R=h.get(v);R!==void 0&&sc(R.mutation,T,zi.empty(),Ve.now()),Rf(n,T)&&(b=b.insert(v,T))})),b}))}}class PA{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return ut.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(n)),ut.resolve()}getNamedQuery(t,n){return ut.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:SA(l.bundledQuery),readTime:ji(l.readTime)}})(n)),ut.resolve()}}class VA{constructor(){this.overlays=new qe(Mt.comparator),this.Lr=new Map}getOverlay(t,n){return ut.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Vo();return ut.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,h)=>{this.bt(t,n,h)})),ut.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),ut.resolve()}getOverlaysForCollection(t,n,a){const l=Vo(),h=n.length+1,p=new Mt(n.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const v=b.getNext().value,T=v.getKey();if(!n.isPrefixOf(T.path))break;T.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return ut.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new qe(((T,R)=>T-R));const p=this.overlays.getIterator();for(;p.hasNext();){const T=p.getNext().value;if(T.getKey().getCollectionGroup()===n&&T.largestBatchId>a){let R=h.get(T.largestBatchId);R===null&&(R=Vo(),h=h.insert(T.largestBatchId,R)),R.set(T.getKey(),T)}}const b=Vo(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((T,R)=>b.set(T,R))),!(b.size()>=l)););return ut.resolve(b)}bt(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new nA(n,a));let h=this.Lr.get(n);h===void 0&&(h=oe(),this.Lr.set(n,h)),this.Lr.set(n,h.add(a.key))}}class zA{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ut.resolve()}}class Op{constructor(){this.kr=new mn(xn.Kr),this.qr=new mn(xn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const a=new xn(t,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Wr(new xn(t,n))}Qr(t,n){t.forEach((a=>this.removeReference(a,n)))}Gr(t){const n=new Mt(new Re([])),a=new xn(n,t),l=new xn(n,t+1),h=[];return this.qr.forEachInRange([a,l],(p=>{this.Wr(p),h.push(p.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new Mt(new Re([])),a=new xn(n,t),l=new xn(n,t+1);let h=oe();return this.qr.forEachInRange([a,l],(p=>{h=h.add(p.key)})),h}containsKey(t){const n=new xn(t,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class xn{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return Mt.comparator(t.key,n.key)||ae(t.Hr,n.Hr)}static Ur(t,n){return ae(t.Hr,n.Hr)||Mt.comparator(t.key,n.key)}}class jA{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new mn(xn.Kr)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new eA(h,n,a,l);this.mutationQueue.push(p);for(const b of l)this.Jr=this.Jr.add(new xn(b.key,h)),this.indexManager.addToCollectionParentIndex(t,b.key.path.popLast());return ut.resolve(p)}lookupMutationBatch(t,n){return ut.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.Xr(a),h=l<0?0:l;return ut.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?xp:this.Yn-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new xn(n,0),l=new xn(n,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,l],(p=>{const b=this.Zr(p.Hr);h.push(b)})),ut.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new mn(ae);return n.forEach((l=>{const h=new xn(l,0),p=new xn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,p],(b=>{a=a.add(b.Hr)}))})),ut.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Mt.isDocumentKey(h)||(h=h.child(""));const p=new xn(new Mt(h),0);let b=new mn(ae);return this.Jr.forEachWhile((v=>{const T=v.key.path;return!!a.isPrefixOf(T)&&(T.length===l&&(b=b.add(v.Hr)),!0)}),p),ut.resolve(this.Yr(b))}Yr(t){const n=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){de(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ut.forEach(n.mutations,(l=>{const h=new xn(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,n){const a=new xn(n,0),l=this.Jr.firstAfterOrEqual(a);return ut.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class UA{constructor(t){this.ti=t,this.docs=(function(){return new qe(Mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,p=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return ut.resolve(a?a.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(t,n){let a=Pr();return n.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Sn.newInvalidDocument(l))})),ut.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=Pr();const p=n.path,b=new Mt(p.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(b);for(;v.hasNext();){const{key:T,value:{document:R}}=v.getNext();if(!p.isPrefixOf(T.path))break;T.path.length>p.length+1||mS(dS(R),a)<=0||(l.has(R.key)||Rf(n,R))&&(h=h.insert(R.key,R.mutableCopy()))}return ut.resolve(h)}getAllFromCollectionGroup(t,n,a,l){Pt(9500)}ni(t,n){return ut.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new BA(this)}getSize(t){return ut.resolve(this.size)}}class BA extends kA{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),ut.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class HA{constructor(t){this.persistence=t,this.ri=new Fo((n=>Cp(n)),Rp),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.ii=0,this.si=new Op,this.targetCount=0,this.oi=Wl._r()}forEachTarget(t,n){return this.ri.forEach(((a,l)=>n(l))),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),ut.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Wl(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,ut.resolve()}updateTargetData(t,n){return this.lr(n),ut.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.ri.forEach(((p,b)=>{b.sequenceNumber<=n&&a.get(b.targetId)===null&&(this.ri.delete(p),h.push(this.removeMatchingKeysForTargetId(t,b.targetId)),l++)})),ut.waitFor(h).next((()=>l))}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,n){const a=this.ri.get(n)||null;return ut.resolve(a)}addMatchingKeys(t,n,a){return this.si.$r(n,a),ut.resolve()}removeMatchingKeys(t,n,a){this.si.Qr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((p=>{h.push(l.markPotentiallyOrphaned(t,p))})),ut.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),ut.resolve()}getMatchingKeysForTargetId(t,n){const a=this.si.jr(n);return ut.resolve(a)}containsKey(t,n){return ut.resolve(this.si.containsKey(n))}}class Tb{constructor(t,n){this._i={},this.overlays={},this.ai=new Sf(0),this.ui=!1,this.ui=!0,this.ci=new zA,this.referenceDelegate=t(this),this.li=new HA(this),this.indexManager=new AA,this.remoteDocumentCache=(function(l){return new UA(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new xA(n),this.Pi=new PA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new VA,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this._i[t.toKey()];return a||(a=new jA(n,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,a){St("MemoryPersistence","Starting transaction:",t);const l=new qA(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(t,n){return ut.or(Object.values(this._i).map((a=>()=>a.containsKey(t,n))))}}class qA extends gS{constructor(t){super(),this.currentSequenceNumber=t}}class Lp{constructor(t){this.persistence=t,this.Ri=new Op,this.Ai=null}static Vi(t){return new Lp(t)}get di(){if(this.Ai)return this.Ai;throw Pt(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),ut.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),ut.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),ut.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.di,(a=>{const l=Mt.fromPath(a);return this.mi(t,l).next((h=>{h||n.removeEntry(l,zt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return ut.or([()=>ut.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class ff{constructor(t,n){this.persistence=t,this.fi=new Fo((a=>vS(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=DA(this,n)}static Vi(t,n){return new ff(t,n)}Ti(){}Ii(t){return ut.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}pr(t){let n=0;return this.mr(t,(a=>{n++})).next((()=>n))}mr(t,n){return ut.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((h=>h?ut.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(t,(p=>this.wr(t,p,n).next((b=>{b||(a++,h.removeEntry(p,zt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),ut.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.fi.set(a,t.currentSequenceNumber),ut.resolve()}removeReference(t,n,a){return this.fi.set(a,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),ut.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Zh(t.data.value)),n}wr(t,n,a){return ut.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return ut.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Pp{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Ts=a,this.Is=l}static Es(t,n){let a=oe(),l=oe();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Pp(t,n.fromCache,a,l)}}class FA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class GA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Ow()?8:_S(Fn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.gs(t,n).next((p=>{h.result=p})).next((()=>{if(!h.result)return this.ps(t,n,l,a).next((p=>{h.result=p}))})).next((()=>{if(h.result)return;const p=new FA;return this.ys(t,n,p).next((b=>{if(h.result=b,this.As)return this.ws(t,n,p,b.size)}))})).next((()=>h.result))}ws(t,n,a,l){return a.documentReadCount<this.Vs?(kl()<=re.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",Ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ut.resolve()):(kl()<=re.DEBUG&&St("QueryEngine","Query:",Ol(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(kl()<=re.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",Ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,tr(n))):ut.resolve())}gs(t,n){if($v(n))return ut.resolve(null);let a=tr(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=rp(n,null,"F"),a=tr(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const p=oe(...h);return this.fs.getDocuments(t,p).next((b=>this.indexManager.getMinOffset(t,a).next((v=>{const T=this.bs(n,b);return this.Ss(n,T,p,v.readTime)?this.gs(t,rp(n,null,"F")):this.Ds(t,T,n,v)}))))})))))}ps(t,n,a,l){return $v(n)||l.isEqual(zt.min())?ut.resolve(null):this.fs.getDocuments(t,a).next((h=>{const p=this.bs(n,h);return this.Ss(n,p,a,l)?ut.resolve(null):(kl()<=re.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ol(n)),this.Ds(t,p,n,fS(l,lc)).next((b=>b)))}))}bs(t,n){let a=new mn(X1(t));return n.forEach(((l,h)=>{Rf(t,h)&&(a=a.add(h))})),a}Ss(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(t,n,a){return kl()<=re.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Ol(n)),this.fs.getDocumentsMatchingQuery(t,n,Ba.min(),a)}Ds(t,n,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((h=>(n.forEach((p=>{h=h.insert(p.key,p)})),h)))}}const Vp="LocalStore",ZA=3e8;class KA{constructor(t,n,a,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new qe(ae),this.Fs=new Fo((h=>Cp(h)),Rp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function YA(r,t,n,a){return new KA(r,t,n,a)}async function wb(r,t){const n=Ht(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,n.Os(t),n.mutationQueue.getAllMutationBatches(a)))).next((h=>{const p=[],b=[];let v=oe();for(const T of l){p.push(T.batchId);for(const R of T.mutations)v=v.add(R.key)}for(const T of h){b.push(T.batchId);for(const R of T.mutations)v=v.add(R.key)}return n.localDocuments.getDocuments(a,v).next((T=>({Ns:T,removedBatchIds:p,addedBatchIds:b})))}))}))}function QA(r,t){const n=Ht(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=n.xs.newChangeBuffer({trackRemovals:!0});return(function(b,v,T,R){const N=T.batch,P=N.keys();let K=ut.resolve();return P.forEach((it=>{K=K.next((()=>R.getEntry(v,it))).next((st=>{const dt=T.docVersions.get(it);de(dt!==null,48541),st.version.compareTo(dt)<0&&(N.applyToRemoteDocument(st,T),st.isValidDocument()&&(st.setReadTime(T.commitVersion),R.addEntry(st)))}))})),K.next((()=>b.mutationQueue.removeMutationBatch(v,N)))})(n,a,t,h).next((()=>h.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let v=oe();for(let T=0;T<b.mutationResults.length;++T)b.mutationResults[T].transformResults.length>0&&(v=v.add(b.batch.mutations[T].key));return v})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function xb(r){const t=Ht(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function XA(r,t){const n=Ht(r),a=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const p=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const b=[];t.targetChanges.forEach(((R,N)=>{const P=l.get(N);if(!P)return;b.push(n.li.removeMatchingKeys(h,R.removedDocuments,N).next((()=>n.li.addMatchingKeys(h,R.addedDocuments,N))));let K=P.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(N)!==null?K=K.withResumeToken(On.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):R.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(R.resumeToken,a)),l=l.insert(N,K),(function(st,dt,Tt){return st.resumeToken.approximateByteSize()===0||dt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=ZA?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0})(P,K,R)&&b.push(n.li.updateTargetData(h,K))}));let v=Pr(),T=oe();if(t.documentUpdates.forEach((R=>{t.resolvedLimboDocuments.has(R)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(h,R))})),b.push(WA(h,p,t.documentUpdates).next((R=>{v=R.Bs,T=R.Ls}))),!a.isEqual(zt.min())){const R=n.li.getLastRemoteSnapshotVersion(h).next((N=>n.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));b.push(R)}return ut.waitFor(b).next((()=>p.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,v,T))).next((()=>v))})).then((h=>(n.vs=l,h)))}function WA(r,t,n){let a=oe(),l=oe();return n.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let p=Pr();return n.forEach(((b,v)=>{const T=h.get(b);v.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(b)),v.isNoDocument()&&v.version.isEqual(zt.min())?(t.removeEntry(b,v.readTime),p=p.insert(b,v)):!T.isValidDocument()||v.version.compareTo(T.version)>0||v.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(v),p=p.insert(b,v)):St(Vp,"Ignoring outdated watch update for ",b,". Current version:",T.version," Watch version:",v.version)})),{Bs:p,Ls:l}}))}function JA(r,t){const n=Ht(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=xp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function $A(r,t){const n=Ht(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.li.getTargetData(a,t).next((h=>h?(l=h,ut.resolve(l)):n.li.allocateTargetId(a).next((p=>(l=new Da(t,p,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(t,a.targetId)),a}))}async function up(r,t,n){const a=Ht(r),l=a.vs.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!iu(p))throw p;St(Vp,`Failed to update sequence numbers for target ${t}: ${p}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function f0(r,t,n){const a=Ht(r);let l=zt.min(),h=oe();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(v,T,R){const N=Ht(v),P=N.Fs.get(R);return P!==void 0?ut.resolve(N.vs.get(P)):N.li.getTargetData(T,R)})(a,p,tr(t)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(p,b.targetId).next((v=>{h=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(p,t,n?l:zt.min(),n?h:oe()))).next((b=>(t2(a,US(t),b),{documents:b,ks:h})))))}function t2(r,t,n){let a=r.Ms.get(t)||zt.min();n.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Ms.set(t,a)}class d0{constructor(){this.activeTargetIds=ZS()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class e2{constructor(){this.vo=new d0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,a){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new d0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class n2{Mo(t){}shutdown(){}}const m0="ConnectivityMonitor";class p0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){St(m0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){St(m0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qh=null;function cp(){return qh===null?qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():qh++,"0x"+qh.toString(16)}const Bm="RestConnection",i2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class s2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===rf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,n,a,l,h){const p=cp(),b=this.Qo(t,n.toUriEncodedString());St(Bm,`Sending RPC '${t}' ${p}:`,b,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,h);const{host:T}=new URL(b),R=$l(T);return this.zo(t,b,v,a,R).then((N=>(St(Bm,`Received RPC '${t}' ${p}: `,N),N)),(N=>{throw Bo(Bm,`RPC '${t}' ${p} failed with error: `,N,"url: ",b,"request:",a),N}))}jo(t,n,a,l,h,p){return this.Wo(t,n,a,l,h)}Go(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}Qo(t,n){const a=i2[t];let l=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class r2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Hn="WebChannelConnection",Yu=(r,t,n)=>{r.listen(t,(a=>{try{n(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Bl extends s2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Bl.c_){const t=A1();Yu(t,S1.STAT_EVENT,(n=>{n.stat===Jm.PROXY?St(Hn,"STAT_EVENT: detected buffering proxy"):n.stat===Jm.NOPROXY&&St(Hn,"STAT_EVENT: detected no buffering proxy")})),Bl.c_=!0}}zo(t,n,a,l,h){const p=cp();return new Promise(((b,v)=>{const T=new w1;T.setWithCredentials(!0),T.listenOnce(x1.COMPLETE,(()=>{try{switch(T.getLastErrorCode()){case Gh.NO_ERROR:const N=T.getResponseJson();St(Hn,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(N)),b(N);break;case Gh.TIMEOUT:St(Hn,`RPC '${t}' ${p} timed out`),v(new Et(at.DEADLINE_EXCEEDED,"Request time out"));break;case Gh.HTTP_ERROR:const P=T.getStatus();if(St(Hn,`RPC '${t}' ${p} failed with status:`,P,"response text:",T.getResponseText()),P>0){let K=T.getResponseJson();Array.isArray(K)&&(K=K[0]);const it=K?.error;if(it&&it.status&&it.message){const st=(function(Tt){const Rt=Tt.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(Rt)>=0?Rt:at.UNKNOWN})(it.status);v(new Et(st,it.message))}else v(new Et(at.UNKNOWN,"Server responded with status "+T.getStatus()))}else v(new Et(at.UNAVAILABLE,"Connection failed."));break;default:Pt(9055,{l_:t,streamId:p,h_:T.getLastErrorCode(),P_:T.getLastError()})}}finally{St(Hn,`RPC '${t}' ${p} completed.`)}}));const R=JSON.stringify(l);St(Hn,`RPC '${t}' ${p} sending request:`,l),T.send(n,"POST",R,a,15)}))}T_(t,n,a){const l=cp(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=this.createWebChannelTransport(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(b.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(b.useFetchStreams=!0),this.Go(b.initMessageHeaders,n,a),b.encodeInitMessageHeaders=!0;const T=h.join("");St(Hn,`Creating RPC '${t}' stream ${l}: ${T}`,b);const R=p.createWebChannel(T,b);this.I_(R);let N=!1,P=!1;const K=new r2({Ho:it=>{P?St(Hn,`Not sending because RPC '${t}' stream ${l} is closed:`,it):(N||(St(Hn,`Opening RPC '${t}' stream ${l} transport.`),R.open(),N=!0),St(Hn,`RPC '${t}' stream ${l} sending:`,it),R.send(it))},Jo:()=>R.close()});return Yu(R,Qu.EventType.OPEN,(()=>{P||(St(Hn,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),Yu(R,Qu.EventType.CLOSE,(()=>{P||(P=!0,St(Hn,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(R))})),Yu(R,Qu.EventType.ERROR,(it=>{P||(P=!0,Bo(Hn,`RPC '${t}' stream ${l} transport errored. Name:`,it.name,"Message:",it.message),K.o_(new Et(at.UNAVAILABLE,"The operation could not be completed")))})),Yu(R,Qu.EventType.MESSAGE,(it=>{if(!P){const st=it.data[0];de(!!st,16349);const dt=st,Tt=dt?.error||dt[0]?.error;if(Tt){St(Hn,`RPC '${t}' stream ${l} received error:`,Tt);const Rt=Tt.status;let xt=(function(Ot){const j=un[Ot];if(j!==void 0)return ub(j)})(Rt),Ut=Tt.message;Rt==="NOT_FOUND"&&Ut.includes("database")&&Ut.includes("does not exist")&&Ut.includes(this.databaseId.database)&&Bo(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),xt===void 0&&(xt=at.INTERNAL,Ut="Unknown error status: "+Rt+" with message "+Tt.message),P=!0,K.o_(new Et(xt,Ut)),R.close()}else St(Hn,`RPC '${t}' stream ${l} received:`,st),K.__(st)}})),Bl.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,a){super.Go(t,n,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return C1()}}function a2(r){return new Bl(r)}function Hm(){return typeof document<"u"?document:null}function kf(r){return new cA(r,!0)}Bl.c_=!1;class zp{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Ci=t,this.timerId=n,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const g0="PersistentStream";class Sb{constructor(t,n,a,l,h,p,b,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zp(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===at.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new Et(at.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return St(g0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(St(g0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o2 extends Sb{constructor(t,n,a,l,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=mA(this.serializer,t),a=(function(h){if(!("targetChange"in h))return zt.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?zt.min():p.readTime?ji(p.readTime):zt.min()})(t);return this.listener.J_(n,a)}Z_(t){const n={};n.database=lp(this.serializer),n.addTarget=(function(h,p){let b;const v=p.target;if(b=ip(v)?{documents:gA(h,v)}:{query:_A(h,v).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=fb(h,p.resumeToken);const T=ap(h,p.expectedCount);T!==null&&(b.expectedCount=T)}else if(p.snapshotVersion.compareTo(zt.min())>0){b.readTime=cf(h,p.snapshotVersion.toTimestamp());const T=ap(h,p.expectedCount);T!==null&&(b.expectedCount=T)}return b})(this.serializer,t);const a=vA(this.serializer,t);a&&(n.labels=a),this.K_(n)}X_(t){const n={};n.database=lp(this.serializer),n.removeTarget=t,this.K_(n)}}class l2 extends Sb{constructor(t,n,a,l,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return de(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,de(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){de(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=pA(t.writeResults,t.commitTime),a=ji(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=lp(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>gb(this.serializer,a)))};this.K_(n)}}class u2{}class c2 extends u2{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Et(at.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Wo(t,op(n,a),l,h,p))).catch((h=>{throw h.name==="FirebaseError"?(h.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Et(at.UNKNOWN,h.toString())}))}jo(t,n,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.jo(t,op(n,a),l,p,b,h))).catch((p=>{throw p.name==="FirebaseError"?(p.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Et(at.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function h2(r,t,n,a){return new c2(r,t,n,a)}class f2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lr(n),this.aa=!1):St("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ho="RemoteStore";class d2{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((p=>{a.enqueueAndForget((async()=>{Go(this)&&(St(Ho,"Restarting streams for network reachability change."),await(async function(v){const T=Ht(v);T.Ea.add(4),await Ac(T),T.Va.set("Unknown"),T.Ea.delete(4),await Of(T)})(this))}))})),this.Va=new f2(a,l)}}async function Of(r){if(Go(r))for(const t of r.Ra)await t(!0)}async function Ac(r){for(const t of r.Ra)await t(!1)}function Ab(r,t){const n=Ht(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Hp(n)?Bp(n):su(n).O_()&&Up(n,t))}function jp(r,t){const n=Ht(r),a=su(n);n.Ia.delete(t),a.O_()&&Cb(n,t),n.Ia.size===0&&(a.O_()?a.L_():Go(n)&&n.Va.set("Unknown"))}function Up(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}su(r).Z_(t)}function Cb(r,t){r.da.$e(t),su(r).X_(t)}function Bp(r){r.da=new aA({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),su(r).start(),r.Va.ua()}function Hp(r){return Go(r)&&!su(r).x_()&&r.Ia.size>0}function Go(r){return Ht(r).Ea.size===0}function Rb(r){r.da=void 0}async function m2(r){r.Va.set("Online")}async function p2(r){r.Ia.forEach(((t,n)=>{Up(r,t)}))}async function g2(r,t){Rb(r),Hp(r)?(r.Va.ha(t),Bp(r)):r.Va.set("Unknown")}async function _2(r,t,n){if(r.Va.set("Online"),t instanceof hb&&t.state===2&&t.cause)try{await(async function(l,h){const p=h.cause;for(const b of h.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.da.removeTarget(b))})(r,t)}catch(a){St(Ho,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await df(r,a)}else if(t instanceof Qh?r.da.Xe(t):t instanceof cb?r.da.st(t):r.da.tt(t),!n.isEqual(zt.min()))try{const a=await xb(r.localStore);n.compareTo(a)>=0&&await(function(h,p){const b=h.da.Tt(p);return b.targetChanges.forEach(((v,T)=>{if(v.resumeToken.approximateByteSize()>0){const R=h.Ia.get(T);R&&h.Ia.set(T,R.withResumeToken(v.resumeToken,p))}})),b.targetMismatches.forEach(((v,T)=>{const R=h.Ia.get(v);if(!R)return;h.Ia.set(v,R.withResumeToken(On.EMPTY_BYTE_STRING,R.snapshotVersion)),Cb(h,v);const N=new Da(R.target,v,T,R.sequenceNumber);Up(h,N)})),h.remoteSyncer.applyRemoteEvent(b)})(r,n)}catch(a){St(Ho,"Failed to raise snapshot:",a),await df(r,a)}}async function df(r,t,n){if(!iu(t))throw t;r.Ea.add(1),await Ac(r),r.Va.set("Offline"),n||(n=()=>xb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{St(Ho,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Of(r)}))}function Ib(r,t){return t().catch((n=>df(r,n,t)))}async function Lf(r){const t=Ht(r),n=Ga(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xp;for(;y2(t);)try{const l=await JA(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,v2(t,l)}catch(l){await df(t,l)}Nb(t)&&Mb(t)}function y2(r){return Go(r)&&r.Ta.length<10}function v2(r,t){r.Ta.push(t);const n=Ga(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function Nb(r){return Go(r)&&!Ga(r).x_()&&r.Ta.length>0}function Mb(r){Ga(r).start()}async function b2(r){Ga(r).ra()}async function E2(r){const t=Ga(r);for(const n of r.Ta)t.ea(n.mutations)}async function T2(r,t,n){const a=r.Ta.shift(),l=Mp.from(a,t,n);await Ib(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Lf(r)}async function w2(r,t){t&&Ga(r).Y_&&await(async function(a,l){if((function(p){return lb(p)&&p!==at.ABORTED})(l.code)){const h=a.Ta.shift();Ga(a).B_(),await Ib(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Lf(a)}})(r,t),Nb(r)&&Mb(r)}async function _0(r,t){const n=Ht(r);n.asyncQueue.verifyOperationInProgress(),St(Ho,"RemoteStore received new credentials");const a=Go(n);n.Ea.add(3),await Ac(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Of(n)}async function x2(r,t){const n=Ht(r);t?(n.Ea.delete(2),await Of(n)):t||(n.Ea.add(2),await Ac(n),n.Va.set("Unknown"))}function su(r){return r.ma||(r.ma=(function(n,a,l){const h=Ht(n);return h.sa(),new o2(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Zo:m2.bind(null,r),Yo:p2.bind(null,r),t_:g2.bind(null,r),J_:_2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Hp(r)?Bp(r):r.Va.set("Unknown")):(await r.ma.stop(),Rb(r))}))),r.ma}function Ga(r){return r.fa||(r.fa=(function(n,a,l){const h=Ht(n);return h.sa(),new l2(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:b2.bind(null,r),t_:w2.bind(null,r),ta:E2.bind(null,r),na:T2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Lf(r)):(await r.fa.stop(),r.Ta.length>0&&(St(Ho,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qp{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const p=Date.now()+a,b=new qp(t,n,p,l,h);return b.start(a),b}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(r,t){if(Lr("AsyncQueue",`${t}: ${r}`),iu(r))return new Et(at.UNAVAILABLE,`${t}: ${r}`);throw r}class Hl{static emptySet(t){return new Hl(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Mt.comparator(n.key,a.key):(n,a)=>Mt.comparator(n.key,a.key),this.keyedMap=Xu(),this.sortedSet=new qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Hl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new Hl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}class y0{constructor(){this.ga=new qe(Mt.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Pt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class Jl{constructor(t,n,a,l,h,p,b,v,T){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=v,this.hasCachedResults=T}static fromInitialDocuments(t,n,a,l,h){const p=[];return n.forEach((b=>{p.push({type:0,doc:b})})),new Jl(t,n,Hl.emptySet(n),p,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class S2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class A2{constructor(){this.queries=v0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Ht(n),h=l.queries;l.queries=v0(),h.forEach(((p,b)=>{for(const v of b.ba)v.onError(a)}))})(this,new Et(at.ABORTED,"Firestore shutting down"))}}function v0(){return new Fo((r=>Q1(r)),Cf)}async function C2(r,t){const n=Ht(r);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.Sa()&&t.Da()&&(a=2):(h=new S2,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(p){const b=Fp(p,`Initialization of query '${Ol(t.query)}' failed`);return void t.onError(b)}n.queries.set(l,h),h.ba.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&Gp(n)}async function R2(r,t){const n=Ht(r),a=t.query;let l=3;const h=n.queries.get(a);if(h){const p=h.ba.indexOf(t);p>=0&&(h.ba.splice(p,1),h.ba.length===0?l=t.Da()?0:1:!h.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function I2(r,t){const n=Ht(r);let a=!1;for(const l of t){const h=l.query,p=n.queries.get(h);if(p){for(const b of p.ba)b.Fa(l)&&(a=!0);p.wa=l}}a&&Gp(n)}function N2(r,t,n){const a=Ht(r),l=a.queries.get(t);if(l)for(const h of l.ba)h.onError(n);a.queries.delete(t)}function Gp(r){r.Ca.forEach((t=>{t.next()}))}var hp,b0;(b0=hp||(hp={})).Ma="default",b0.Cache="cache";class M2{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Jl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Jl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hp.Cache}}class Db{constructor(t){this.key=t}}class kb{constructor(t){this.key=t}}class D2{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=oe(),this.mutatedKeys=oe(),this.eu=X1(t),this.tu=new Hl(this.eu)}get nu(){return this.Za}ru(t,n){const a=n?n.iu:new y0,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,p=l,b=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((R,N)=>{const P=l.get(R),K=Rf(this.query,N)?N:null,it=!!P&&this.mutatedKeys.has(P.key),st=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let dt=!1;P&&K?P.data.isEqual(K.data)?it!==st&&(a.track({type:3,doc:K}),dt=!0):this.su(P,K)||(a.track({type:2,doc:K}),dt=!0,(v&&this.eu(K,v)>0||T&&this.eu(K,T)<0)&&(b=!0)):!P&&K?(a.track({type:0,doc:K}),dt=!0):P&&!K&&(a.track({type:1,doc:P}),dt=!0,(v||T)&&(b=!0)),dt&&(K?(p=p.add(K),h=st?h.add(R):h.delete(R)):(p=p.delete(R),h=h.delete(R)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const R=this.query.limitType==="F"?p.last():p.first();p=p.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{tu:p,iu:a,Ss:b,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort(((R,N)=>(function(K,it){const st=dt=>{switch(dt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt(20277,{Vt:dt})}};return st(K)-st(it)})(R.type,N.type)||this.eu(R.doc,N.doc))),this.ou(a),l=l??!1;const b=n&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,T=v!==this.Xa;return this.Xa=v,p.length!==0||T?{snapshot:new Jl(this.query,t.tu,h,p,t.mutatedKeys,v===0,T,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=oe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return t.forEach((a=>{this.Ya.has(a)||n.push(new kb(a))})),this.Ya.forEach((a=>{t.has(a)||n.push(new Db(a))})),n}cu(t){this.Za=t.ks,this.Ya=oe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zp="SyncEngine";class k2{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class O2{constructor(t){this.key=t,this.hu=!1}}class L2{constructor(t,n,a,l,h,p){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Fo((b=>Q1(b)),Cf),this.Iu=new Map,this.Eu=new Set,this.Ru=new qe(Mt.comparator),this.Au=new Map,this.Vu=new Op,this.du={},this.mu=new Map,this.fu=Wl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P2(r,t,n=!0){const a=jb(r);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await Ob(a,t,n,!0),l}async function V2(r,t){const n=jb(r);await Ob(n,t,!0,!1)}async function Ob(r,t,n,a){const l=await $A(r.localStore,tr(t)),h=l.targetId,p=r.sharedClientState.addLocalQueryTarget(h,n);let b;return a&&(b=await z2(r,t,h,p==="current",l.resumeToken)),r.isPrimaryClient&&n&&Ab(r.remoteStore,l),b}async function z2(r,t,n,a,l){r.pu=(N,P,K)=>(async function(st,dt,Tt,Rt){let xt=dt.view.ru(Tt);xt.Ss&&(xt=await f0(st.localStore,dt.query,!1).then((({documents:j})=>dt.view.ru(j,xt))));const Ut=Rt&&Rt.targetChanges.get(dt.targetId),le=Rt&&Rt.targetMismatches.get(dt.targetId)!=null,Ot=dt.view.applyChanges(xt,st.isPrimaryClient,Ut,le);return T0(st,dt.targetId,Ot.au),Ot.snapshot})(r,N,P,K);const h=await f0(r.localStore,t,!0),p=new D2(t,h.ks),b=p.ru(h.documents),v=Sc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),T=p.applyChanges(b,r.isPrimaryClient,v);T0(r,n,T.au);const R=new k2(t,n,p);return r.Tu.set(t,R),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),T.snapshot}async function j2(r,t,n){const a=Ht(r),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((p=>!Cf(p,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await up(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&jp(a.remoteStore,l.targetId),fp(a,l.targetId)})).catch(nu)):(fp(a,l.targetId),await up(a.localStore,l.targetId,!0))}async function U2(r,t){const n=Ht(r),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),jp(n.remoteStore,a.targetId))}async function B2(r,t,n){const a=Y2(r);try{const l=await(function(p,b){const v=Ht(p),T=Ve.now(),R=b.reduce(((K,it)=>K.add(it.key)),oe());let N,P;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let it=Pr(),st=oe();return v.xs.getEntries(K,R).next((dt=>{it=dt,it.forEach(((Tt,Rt)=>{Rt.isValidDocument()||(st=st.add(Tt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,it))).next((dt=>{N=dt;const Tt=[];for(const Rt of b){const xt=tA(Rt,N.get(Rt.key).overlayedDocument);xt!=null&&Tt.push(new Xa(Rt.key,xt,B1(xt.value.mapValue),Dn.exists(!0)))}return v.mutationQueue.addMutationBatch(K,T,Tt,b)})).next((dt=>{P=dt;const Tt=dt.applyToLocalDocumentSet(N,st);return v.documentOverlayCache.saveOverlays(K,dt.batchId,Tt)}))})).then((()=>({batchId:P.batchId,changes:J1(N)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,v){let T=p.du[p.currentUser.toKey()];T||(T=new qe(ae)),T=T.insert(b,v),p.du[p.currentUser.toKey()]=T})(a,l.batchId,n),await Cc(a,l.changes),await Lf(a.remoteStore)}catch(l){const h=Fp(l,"Failed to persist write");n.reject(h)}}async function Lb(r,t){const n=Ht(r);try{const a=await XA(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const p=n.Au.get(h);p&&(de(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?de(p.hu,14607):l.removedDocuments.size>0&&(de(p.hu,42227),p.hu=!1))})),await Cc(n,a,t)}catch(a){await nu(a)}}function E0(r,t,n){const a=Ht(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((h,p)=>{const b=p.view.va(t);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const v=Ht(p);v.onlineState=b;let T=!1;v.queries.forEach(((R,N)=>{for(const P of N.ba)P.va(b)&&(T=!0)})),T&&Gp(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function H2(r,t,n){const a=Ht(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),h=l&&l.key;if(h){let p=new qe(Mt.comparator);p=p.insert(h,Sn.newNoDocument(h,zt.min()));const b=oe().add(h),v=new Df(zt.min(),new Map,new qe(ae),p,b);await Lb(a,v),a.Ru=a.Ru.remove(h),a.Au.delete(t),Kp(a)}else await up(a.localStore,t,!1).then((()=>fp(a,t,n))).catch(nu)}async function q2(r,t){const n=Ht(r),a=t.batch.batchId;try{const l=await QA(n.localStore,t);Vb(n,a,null),Pb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Cc(n,l)}catch(l){await nu(l)}}async function F2(r,t,n){const a=Ht(r);try{const l=await(function(p,b){const v=Ht(p);return v.persistence.runTransaction("Reject batch","readwrite-primary",(T=>{let R;return v.mutationQueue.lookupMutationBatch(T,b).next((N=>(de(N!==null,37113),R=N.keys(),v.mutationQueue.removeMutationBatch(T,N)))).next((()=>v.mutationQueue.performConsistencyCheck(T))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(T,R,b))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,R))).next((()=>v.localDocuments.getDocuments(T,R)))}))})(a.localStore,t);Vb(a,t,n),Pb(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Cc(a,l)}catch(l){await nu(l)}}function Pb(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function Vb(r,t,n){const a=Ht(r);let l=a.du[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function fp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||zb(r,a)}))}function zb(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(jp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),Kp(r))}function T0(r,t,n){for(const a of n)a instanceof Db?(r.Vu.addReference(a.key,t),G2(r,a)):a instanceof kb?(St(Zp,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||zb(r,a.key)):Pt(19791,{wu:a})}function G2(r,t){const n=t.key,a=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(a)||(St(Zp,"New document in limbo: "+n),r.Eu.add(a),Kp(r))}function Kp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Mt(Re.fromString(t)),a=r.fu.next();r.Au.set(a,new O2(n)),r.Ru=r.Ru.insert(n,a),Ab(r.remoteStore,new Da(tr(Ip(n.path)),a,"TargetPurposeLimboResolution",Sf.ce))}}async function Cc(r,t,n){const a=Ht(r),l=[],h=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,v)=>{p.push(a.pu(v,t,n).then((T=>{if((T||n)&&a.isPrimaryClient){const R=T?!T.fromCache:n?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,R?"current":"not-current")}if(T){l.push(T);const R=Pp.Es(v.targetId,T);h.push(R)}})))})),await Promise.all(p),a.Pu.J_(l),await(async function(v,T){const R=Ht(v);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>ut.forEach(T,(P=>ut.forEach(P.Ts,(K=>R.persistence.referenceDelegate.addReference(N,P.targetId,K))).next((()=>ut.forEach(P.Is,(K=>R.persistence.referenceDelegate.removeReference(N,P.targetId,K)))))))))}catch(N){if(!iu(N))throw N;St(Vp,"Failed to update sequence numbers: "+N)}for(const N of T){const P=N.targetId;if(!N.fromCache){const K=R.vs.get(P),it=K.snapshotVersion,st=K.withLastLimboFreeSnapshotVersion(it);R.vs=R.vs.insert(P,st)}}})(a.localStore,h))}async function Z2(r,t){const n=Ht(r);if(!n.currentUser.isEqual(t)){St(Zp,"User change. New user:",t.toKey());const a=await wb(n.localStore,t);n.currentUser=t,(function(h,p){h.mu.forEach((b=>{b.forEach((v=>{v.reject(new Et(at.CANCELLED,p))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Cc(n,a.Ns)}}function K2(r,t){const n=Ht(r),a=n.Au.get(t);if(a&&a.hu)return oe().add(a.key);{let l=oe();const h=n.Iu.get(t);if(!h)return l;for(const p of h){const b=n.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function jb(r){const t=Ht(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=K2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=H2.bind(null,t),t.Pu.J_=I2.bind(null,t.eventManager),t.Pu.yu=N2.bind(null,t.eventManager),t}function Y2(r){const t=Ht(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=q2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=F2.bind(null,t),t}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return YA(this.persistence,new GA,t.initialUser,this.serializer)}Cu(t){return new Tb(Lp.Vi,this.serializer)}Du(t){return new e2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class Q2 extends mf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){de(this.persistence.referenceDelegate instanceof ff,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new NA(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new Tb((a=>ff.Vi(a,n)),this.serializer)}}class dp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>E0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z2.bind(null,this.syncEngine),await x2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new A2})()}createDatastore(t){const n=kf(t.databaseInfo.databaseId),a=a2(t.databaseInfo);return h2(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,h,p,b){return new d2(a,l,h,p,b)})(this.localStore,this.datastore,t.asyncQueue,(n=>E0(this.syncEngine,n,0)),(function(){return p0.v()?new p0:new n2})())}createSyncEngine(t,n){return(function(l,h,p,b,v,T,R){const N=new L2(l,h,p,b,v,T);return R&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ht(n);St(Ho,"RemoteStore shutting down."),a.Ea.add(5),await Ac(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dp.provider={build:()=>new dp};class X2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Lr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}let W2=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Et(at.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(l,h){const p=Ht(l),b={documents:h.map((N=>hf(p.serializer,N)))},v=await p.jo("BatchGetDocuments",p.serializer.databaseId,Re.emptyPath(),b,h.length),T=new Map;v.forEach((N=>{const P=dA(p.serializer,N);T.set(P.key.toString(),P)}));const R=[];return h.forEach((N=>{const P=T.get(N.toString());de(!!P,55234,{key:N}),R.push(P)})),R})(this.datastore,t);return n.forEach((a=>this.recordVersion(a))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new Mf(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,a)=>{const l=Mt.fromPath(a);this.mutations.push(new ob(l,this.precondition(l)))})),await(async function(a,l){const h=Ht(a),p={writes:l.map((b=>gb(h.serializer,b)))};await h.Wo("Commit",h.serializer.databaseId,Re.emptyPath(),p)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Pt(50498,{Gu:t.constructor.name});n=zt.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!n.isEqual(a))throw new Et(at.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(zt.min())?Dn.exists(!1):Dn.updateTime(n):Dn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(zt.min()))throw new Et(at.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(n)}return Dn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class J2{constructor(t,n,a,l,h){this.asyncQueue=t,this.datastore=n,this.options=a,this.updateFunction=l,this.deferred=h,this.zu=a.maxAttempts,this.M_=new zp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new W2(this.datastore),n=this.Ju(t);n&&n.then((a=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(a)})).catch((l=>{this.Zu(l)}))))})).catch((a=>{this.Zu(a)}))}))}Ju(t){try{const n=this.updateFunction(t);return!Tc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!lb(n)}return!1}}const Za="FirestoreClient";class $2{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=l,this.user=qn.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async p=>{St(Za,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(St(Za,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=Fp(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function qm(r,t){r.asyncQueue.verifyOperationInProgress(),St(Za,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await wb(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function w0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await tC(r);St(Za,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((a=>_0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>_0(t.remoteStore,l))),r._onlineComponents=t}async function tC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){St(Za,"Using user provided OfflineComponentProvider");try{await qm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===at.FAILED_PRECONDITION||l.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await qm(r,new mf)}}else St(Za,"Using default OfflineComponentProvider"),await qm(r,new Q2(void 0));return r._offlineComponents}async function Yp(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(St(Za,"Using user provided OnlineComponentProvider"),await w0(r,r._uninitializedComponentsProvider._online)):(St(Za,"Using default OnlineComponentProvider"),await w0(r,new dp))),r._onlineComponents}function eC(r){return Yp(r).then((t=>t.syncEngine))}function nC(r){return Yp(r).then((t=>t.datastore))}async function x0(r){const t=await Yp(r),n=t.eventManager;return n.onListen=P2.bind(null,t.syncEngine),n.onUnlisten=j2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=V2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=U2.bind(null,t.syncEngine),n}function iC(r,t,n,a){const l=new X2(a),h=new M2(t,l,n);return r.asyncQueue.enqueueAndForget((async()=>C2(await x0(r),h))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>R2(await x0(r),h)))}}function sC(r,t){const n=new Va;return r.asyncQueue.enqueueAndForget((async()=>B2(await eC(r),t,n))),n.promise}function rC(r,t,n){const a=new Va;return r.asyncQueue.enqueueAndForget((async()=>{const l=await nC(r);new J2(r.asyncQueue,l,n,t,a).ju()})),a.promise}function Ub(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const aC="ComponentProvider",S0=new Map;function oC(r,t,n,a,l){return new TS(r,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Ub(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const Bb="firestore.googleapis.com",A0=!0;class C0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Et(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bb,this.ssl=A0}else this.host=t.host,this.ssl=t.ssl??A0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Eb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<RA)throw new Et(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ub(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Et(at.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Et(at.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Et(at.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pf{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new eS;switch(a.type){case"firstParty":return new rS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Et(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=S0.get(n);a&&(St(aC,"Removing Datastore"),S0.delete(n),a.terminate())})(this),Promise.resolve()}}function lC(r,t,n,a={}){r=Cs(r,Pf);const l=$l(t),h=r._getSettings(),p={...h,emulatorOptions:r._getEmulatorOptions()},b=`${t}:${n}`;l&&(m1(`https://${b}`),p1("Firestore",!0)),h.host!==Bb&&h.host!==b&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:b,ssl:l,emulatorOptions:a};if(!zo(v,p)&&(r._setSettings(v),a.mockUserToken)){let T,R;if(typeof a.mockUserToken=="string")T=a.mockUserToken,R=qn.MOCK_USER;else{T=Sw(a.mockUserToken,r._app?.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new Et(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new qn(N)}r._authCredentials=new nS(new I1(T,R))}}class ru{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ru(this.firestore,t,this._query)}}class We{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Ec(n,We._jsonSchema))return new We(t,a||null,new Mt(Re.fromString(n.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:hn("string",We._jsonSchemaVersion),referencePath:hn("string")};class za extends ru{constructor(t,n,a){super(t,n,Ip(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new Mt(t))}withConverter(t){return new za(this.firestore,t,this._path)}}function pc(r,t,...n){if(r=pn(r),N1("collection","path",t),r instanceof Pf){const a=Re.fromString(t,...n);return jv(a),new za(r,null,a)}{if(!(r instanceof We||r instanceof za))throw new Et(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Re.fromString(t,...n));return jv(a),new za(r.firestore,null,a)}}function Pi(r,t,...n){if(r=pn(r),arguments.length===1&&(t=wp.newId()),N1("doc","path",t),r instanceof Pf){const a=Re.fromString(t,...n);return zv(a),new We(r,null,new Mt(a))}{if(!(r instanceof We||r instanceof za))throw new Et(at.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Re.fromString(t,...n));return zv(a),new We(r.firestore,r instanceof za?r.converter:null,new Mt(a))}}const R0="AsyncQueue";class I0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zp(this,"async_queue_retry"),this._c=()=>{const a=Hm();a&&St(R0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=Hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!iu(t))throw t;St(R0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Lr("INTERNAL UNHANDLED ERROR: ",N0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=qp.createAndSchedule(this,t,n,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Pt(47125,{Pc:N0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function N0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ka extends Pf{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new I0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new I0(t),this._firestoreClient=void 0,await t}}}function uC(r,t){const n=typeof r=="object"?r:v1(),a=typeof r=="string"?r:rf,l=Ep(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=ww("firestore");h&&lC(l,...h)}return l}function Qp(r){if(r._terminated)throw new Et(at.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cC(r),r._firestoreClient}function cC(r){const t=r._freezeSettings(),n=oC(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new $2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}class Vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vi(On.fromBase64String(t))}catch(n){throw new Et(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Vi(On.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ec(t,Vi._jsonSchema))return Vi.fromBase64String(t.bytes)}}Vi._jsonSchemaVersion="firestore/bytes/1.0",Vi._jsonSchema={type:hn("string",Vi._jsonSchemaVersion),bytes:hn("string")};class Vf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Et(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class zf{constructor(t){this._methodName=t}}class er{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Et(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Et(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:er._jsonSchemaVersion}}static fromJSON(t){if(Ec(t,er._jsonSchema))return new er(t.latitude,t.longitude)}}er._jsonSchemaVersion="firestore/geoPoint/1.0",er._jsonSchema={type:hn("string",er._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};class Rs{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ec(t,Rs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Rs(t.vectorValues);throw new Et(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rs._jsonSchemaVersion="firestore/vectorValue/1.0",Rs._jsonSchema={type:hn("string",Rs._jsonSchemaVersion),vectorValues:hn("object")};const hC=/^__.*__$/;class fC{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Xa(t,this.data,this.fieldMask,n,this.fieldTransforms):new xc(t,this.data,n,this.fieldTransforms)}}class Hb{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new Xa(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function qb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt(40011,{dataSource:r})}}class Xp{constructor(t,n,a,l,h,p){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Xp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const n=this.path?.child(t),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return pf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(qb(this.dataSource)&&hC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class dC{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||kf(t)}createContext(t,n,a,l=!1){return new Xp({dataSource:t,methodName:n,targetDoc:a,path:Mn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rc(r){const t=r._freezeSettings(),n=kf(r._databaseId);return new dC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function Wp(r,t,n,a,l,h={}){const p=r.createContext(h.merge||h.mergeFields?2:0,t,n,l);$p("Data must be an object, but it was:",p,a);const b=Zb(a,p);let v,T;if(h.merge)v=new zi(p.fieldMask),T=p.fieldTransforms;else if(h.mergeFields){const R=[];for(const N of h.mergeFields){const P=gc(t,N,n);if(!p.contains(P))throw new Et(at.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);Qb(R,P)||R.push(P)}v=new zi(R),T=p.fieldTransforms.filter((N=>v.covers(N.field)))}else v=null,T=p.fieldTransforms;return new fC(new Jn(b),v,T)}class jf extends zf{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jf}}class Jp extends zf{_toFieldTransform(t){return new XS(t.path,new fc)}isEqual(t){return t instanceof Jp}}function Fb(r,t,n,a){const l=r.createContext(1,t,n);$p("Data must be an object, but it was:",l,a);const h=[],p=Jn.empty();Qa(a,((v,T)=>{const R=Yb(t,v,n);T=pn(T);const N=l.childContextForFieldPath(R);if(T instanceof jf)h.push(R);else{const P=Ic(T,N);P!=null&&(h.push(R),p.set(R,P))}}));const b=new zi(h);return new Hb(p,b,l.fieldTransforms)}function Gb(r,t,n,a,l,h){const p=r.createContext(1,t,n),b=[gc(t,a,n)],v=[l];if(h.length%2!=0)throw new Et(at.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<h.length;P+=2)b.push(gc(t,h[P])),v.push(h[P+1]);const T=[],R=Jn.empty();for(let P=b.length-1;P>=0;--P)if(!Qb(T,b[P])){const K=b[P];let it=v[P];it=pn(it);const st=p.childContextForFieldPath(K);if(it instanceof jf)T.push(K);else{const dt=Ic(it,st);dt!=null&&(T.push(K),R.set(K,dt))}}const N=new zi(T);return new Hb(R,N,p.fieldTransforms)}function mC(r,t,n,a=!1){return Ic(n,r.createContext(a?4:3,t))}function Ic(r,t){if(Kb(r=pn(r)))return $p("Unsupported field value:",t,r),Zb(r,t);if(r instanceof zf)return(function(a,l){if(!qb(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const h=[];let p=0;for(const b of a){let v=Ic(b,l.childContextForArray(p));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),p++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return KS(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ve.fromDate(a);return{timestampValue:cf(l.serializer,h)}}if(a instanceof Ve){const h=new Ve(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:cf(l.serializer,h)}}if(a instanceof er)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vi)return{bytesValue:fb(l.serializer,a._byteString)};if(a instanceof We){const h=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(h))throw l.createError(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:kp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Rs)return(function(p,b){const v=p instanceof Rs?p.toArray():p;return{mapValue:{fields:{[j1]:{stringValue:U1},[af]:{arrayValue:{values:v.map((R=>{if(typeof R!="number")throw b.createError("VectorValues must only contain numeric values.");return Np(b.serializer,R)}))}}}}}})(a,l);if(bb(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${xf(a)}`)})(r,t)}function Zb(r,t){const n={};return k1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qa(r,((a,l)=>{const h=Ic(l,t.childContextForField(a));h!=null&&(n[a]=h)})),{mapValue:{fields:n}}}function Kb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ve||r instanceof er||r instanceof Vi||r instanceof We||r instanceof zf||r instanceof Rs||bb(r))}function $p(r,t,n){if(!Kb(n)||!M1(n)){const a=xf(n);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function gc(r,t,n){if((t=pn(t))instanceof Vf)return t._internalPath;if(typeof t=="string")return Yb(r,t);throw pf("Field path arguments must be of type string or ",r,!1,void 0,n)}const pC=new RegExp("[~\\*/\\[\\]]");function Yb(r,t,n){if(t.search(pC)>=0)throw pf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Vf(...t.split("."))._internalPath}catch{throw pf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function pf(r,t,n,a,l){const h=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${t}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let v="";return(h||p)&&(v+=" (found",h&&(v+=` in field ${a}`),p&&(v+=` in document ${l}`),v+=")"),new Et(at.INVALID_ARGUMENT,b+r+v)}function Qb(r,t){return r.some((n=>n.isEqual(t)))}class Xb{convertValue(t,n="none"){switch(Fa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return en(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(qa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return Qa(t,((l,h)=>{a[l]=this.convertValue(h,n)})),a}convertVectorValue(t){const n=t.fields?.[af].arrayValue?.values?.map((a=>en(a.doubleValue)));return new Rs(n)}convertGeoPoint(t){return new er(en(t.latitude),en(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Af(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(uc(t));default:return null}}convertTimestamp(t){const n=Ha(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=Re.fromString(t);de(vb(a),9688,{name:t});const l=new cc(a.get(1),a.get(3)),h=new Mt(a.popFirst(5));return l.isEqual(n)||Lr(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}class tg extends Xb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,n)}}function gC(){return new Jp("serverTimestamp")}const M0="@firebase/firestore",D0="4.11.0";function k0(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1})(r,["next","error","complete"])}class gf{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(gc("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _C extends gf{data(){return super.data()}}function yC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Et(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class vC extends eg{}function Wb(r,t,...n){let a=[];t instanceof eg&&a.push(t),a=a.concat(n),(function(h){const p=h.filter((v=>v instanceof ig)).length,b=h.filter((v=>v instanceof ng)).length;if(p>1||p>0&&b>0)throw new Et(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class ng extends vC{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new ng(t,n,a)}_apply(t){const n=this._parse(t);return Jb(t._query,n),new ru(t.firestore,t.converter,sp(t._query,n))}_parse(t){const n=Rc(t.firestore);return(function(h,p,b,v,T,R,N){let P;if(T.isKeyField()){if(R==="array-contains"||R==="array-contains-any")throw new Et(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${R}' queries on documentId().`);if(R==="in"||R==="not-in"){L0(N,R);const it=[];for(const st of N)it.push(O0(v,h,st));P={arrayValue:{values:it}}}else P=O0(v,h,N)}else R!=="in"&&R!=="not-in"&&R!=="array-contains-any"||L0(N,R),P=mC(b,p,N,R==="in"||R==="not-in");return cn.create(T,R,P)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class ig extends eg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ig(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Is.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let p=l;const b=h.getFlattenedFilters();for(const v of b)Jb(p,v),p=sp(p,v)})(t._query,n),new ru(t.firestore,t.converter,sp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function O0(r,t,n){if(typeof(n=pn(n))=="string"){if(n==="")throw new Et(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y1(t)&&n.indexOf("/")!==-1)throw new Et(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(Re.fromString(n));if(!Mt.isDocumentKey(a))throw new Et(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Kv(r,new Mt(a))}if(n instanceof We)return Kv(r,n._key);throw new Et(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(n)}.`)}function L0(r,t){if(!Array.isArray(r)||r.length===0)throw new Et(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Jb(r,t){const n=(function(l,h){for(const p of l)for(const b of p.getFlattenedFilters())if(h.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Et(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Et(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function sg(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}class bC extends Xb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,n)}}class Vl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ja extends gf{constructor(t,n,a,l,h,p){super(t,n,a,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(gc("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:hn("string",ja._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class Xh extends ja{data(t={}){return super.data(t)}}class ql{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new Xh(this._firestore,this._userDataWriter,a.key,a,new Vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Et(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const v=new Xh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Vl(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>h||b.type!==3)).map((b=>{const v=new Xh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Vl(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,R=-1;return b.type!==0&&(T=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),R=p.indexOf(b.doc.key)),{type:EC(b.type),doc:v,oldIndex:T,newIndex:R}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ql._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function EC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt(61501,{type:r})}}ql._jsonSchemaVersion="firestore/querySnapshot/1.0",ql._jsonSchema={type:hn("string",ql._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};const TC={maxAttempts:5};function Ju(r,t){if((r=pn(r)).firestore!==t)throw new Et(at.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class wC{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Rc(t)}get(t){const n=Ju(t,this._firestore),a=new bC(this._firestore);return this._transaction.lookup([n._key]).then((l=>{if(!l||l.length!==1)return Pt(24041);const h=l[0];if(h.isFoundDocument())return new gf(this._firestore,a,h.key,h,n.converter);if(h.isNoDocument())return new gf(this._firestore,a,n._key,null,n.converter);throw Pt(18433,{doc:h})}))}set(t,n,a){const l=Ju(t,this._firestore),h=sg(l.converter,n,a),p=Wp(this._dataReader,"Transaction.set",l._key,h,l.converter!==null,a);return this._transaction.set(l._key,p),this}update(t,n,a,...l){const h=Ju(t,this._firestore);let p;return p=typeof(n=pn(n))=="string"||n instanceof Vf?Gb(this._dataReader,"Transaction.update",h._key,n,a,l):Fb(this._dataReader,"Transaction.update",h._key,n),this._transaction.update(h._key,p),this}delete(t){const n=Ju(t,this._firestore);return this._transaction.delete(n._key),this}}class xC extends wC{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Ju(t,this._firestore),a=new tg(this._firestore);return super.get(t).then((l=>new ja(this._firestore,a,n._key,l._document,new Vl(!1,!1),n.converter)))}}function SC(r,t,n){r=Cs(r,Ka);const a={...TC,...n};(function(p){if(p.maxAttempts<1)throw new Et(at.INVALID_ARGUMENT,"Max attempts must be at least 1")})(a);const l=Qp(r);return rC(l,(h=>t(new xC(r,h))),a)}function AC(r,t,n){r=Cs(r,We);const a=Cs(r.firestore,Ka),l=sg(r.converter,t,n),h=Rc(a);return Bf(a,[Wp(h,"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Dn.none())])}function zl(r,t,n,...a){r=Cs(r,We);const l=Cs(r.firestore,Ka),h=Rc(l);let p;return p=typeof(t=pn(t))=="string"||t instanceof Vf?Gb(h,"updateDoc",r._key,t,n,a):Fb(h,"updateDoc",r._key,t),Bf(l,[p.toMutation(r._key,Dn.exists(!0))])}function CC(r){return Bf(Cs(r.firestore,Ka),[new Mf(r._key,Dn.none())])}function RC(r,t){const n=Cs(r.firestore,Ka),a=Pi(r),l=sg(r.converter,t),h=Rc(r.firestore);return Bf(n,[Wp(h,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Dn.exists(!1))]).then((()=>a))}function Uf(r,...t){r=pn(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||k0(t[a])||(n=t[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(k0(t[a])){const T=t[a];t[a]=T.next?.bind(T),t[a+1]=T.error?.bind(T),t[a+2]=T.complete?.bind(T)}let h,p,b;if(r instanceof We)p=Cs(r.firestore,Ka),b=Ip(r._key.path),h={next:T=>{t[a]&&t[a](IC(p,r,T))},error:t[a+1],complete:t[a+2]};else{const T=Cs(r,ru);p=Cs(T.firestore,Ka),b=T._query;const R=new tg(p);h={next:N=>{t[a]&&t[a](new ql(p,R,T,N))},error:t[a+1],complete:t[a+2]},yC(r._query)}const v=Qp(p);return iC(v,b,l,h)}function Bf(r,t){const n=Qp(r);return sC(n,t)}function IC(r,t,n){const a=n.docs.get(t._key),l=new tg(r);return new ja(r,l,t._key,a,new Vl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){tS(tu),Kl(new jo("firestore",((a,{instanceIdentifier:l,options:h})=>{const p=a.getProvider("app").getImmediate(),b=new Ka(new iS(a.getProvider("auth-internal")),new aS(p,a.getProvider("app-check-internal")),wS(p,l),p);return h={useFetchStreams:n,...h},b._setSettings(h),b}),"PUBLIC").setMultipleInstances(!0)),La(M0,D0,t),La(M0,D0,"esm2020")})();function $b(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NC=$b,tE=new vc("auth","Firebase",$b());const _f=new vp("@firebase/auth");function MC(r,...t){_f.logLevel<=re.WARN&&_f.warn(`Auth (${tu}): ${r}`,...t)}function Wh(r,...t){_f.logLevel<=re.ERROR&&_f.error(`Auth (${tu}): ${r}`,...t)}function Vr(r,...t){throw rg(r,...t)}function nr(r,...t){return rg(r,...t)}function eE(r,t,n){const a={...NC(),[t]:n};return new vc("auth","Firebase",a).create(t,{appName:r.name})}function Ua(r){return eE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rg(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return tE.create(r,...t)}function Bt(r,t,...n){if(!r)throw rg(t,...n)}function Dr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Wh(t),new Error(t)}function zr(r,t){r||Dr(t)}function mp(){return typeof self<"u"&&self.location?.href||""}function DC(){return P0()==="http:"||P0()==="https:"}function P0(){return typeof self<"u"&&self.location?.protocol||null}function kC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DC()||Mw()||"connection"in navigator)?navigator.onLine:!0}function OC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Nc{constructor(t,n){this.shortDelay=t,this.longDelay=n,zr(n>t,"Short delay should be less than long delay!"),this.isMobile=Rw()||Dw()}get(){return kC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ag(r,t){zr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class nE{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const PC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VC=new Nc(3e4,6e4);function Hf(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function au(r,t,n,a,l={}){return iE(r,l,async()=>{let h={},p={};a&&(t==="GET"?p=a:h={body:JSON.stringify(a)});const b=bc({key:r.config.apiKey,...p}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const T={method:t,headers:v,...h};return Nw()||(T.referrerPolicy="no-referrer"),r.emulatorConfig&&$l(r.emulatorConfig.host)&&(T.credentials="include"),nE.fetch()(await rE(r,r.config.apiHost,n,b),T)})}async function iE(r,t,n){r._canInitEmulator=!1;const a={...LC,...t};try{const l=new zC(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw Fh(r,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const b=h.ok?p.errorMessage:p.error.message,[v,T]=b.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(r,"credential-already-in-use",p);if(v==="EMAIL_EXISTS")throw Fh(r,"email-already-in-use",p);if(v==="USER_DISABLED")throw Fh(r,"user-disabled",p);const R=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw eE(r,R,T);Vr(r,R)}}catch(l){if(l instanceof Ur)throw l;Vr(r,"network-request-failed",{message:String(l)})}}async function sE(r,t,n,a,l={}){const h=await au(r,t,n,a,l);return"mfaPendingCredential"in h&&Vr(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function rE(r,t,n,a){const l=`${t}${n}?${a}`,h=r,p=h.config.emulator?ag(r.config,l):`${r.config.apiScheme}://${l}`;return PC.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(p).toString():p}class zC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(nr(this.auth,"network-request-failed")),VC.get())})}}function Fh(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=nr(r,t,a);return l.customData._tokenResponse=n,l}async function jC(r,t){return au(r,"POST","/v1/accounts:delete",t)}async function yf(r,t){return au(r,"POST","/v1/accounts:lookup",t)}function ac(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UC(r,t=!1){const n=pn(r),a=await n.getIdToken(t),l=og(a);Bt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,p=h?.sign_in_provider;return{claims:l,token:a,authTime:ac(Fm(l.auth_time)),issuedAtTime:ac(Fm(l.iat)),expirationTime:ac(Fm(l.exp)),signInProvider:p||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Fm(r){return Number(r)*1e3}function og(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const l=c1(n);return l?JSON.parse(l):(Wh("Failed to decode base64 JWT payload"),null)}catch(l){return Wh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function V0(r){const t=og(r);return Bt(t,"internal-error"),Bt(typeof t.exp<"u","internal-error"),Bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function _c(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Ur&&BC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function BC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class HC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vf(r){const t=r.auth,n=await r.getIdToken(),a=await _c(r,yf(t,{idToken:n}));Bt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?aE(l.providerUserInfo):[],p=FC(r.providerData,h),b=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!p?.length,T=b?v:!1,R={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new pp(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(r,R)}async function qC(r){const t=pn(r);await vf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function aE(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function GC(r,t){const n=await iE(r,{},async()=>{const a=bc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,p=await rE(r,l,"/v1/token",`key=${h}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:b,body:a};return r.emulatorConfig&&$l(r.emulatorConfig.host)&&(v.credentials="include"),nE.fetch()(p,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZC(r,t){return au(r,"POST","/v2/accounts:revokeToken",Hf(r,t))}class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Bt(t.idToken,"internal-error"),Bt(typeof t.idToken<"u","internal-error"),Bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):V0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Bt(t.length!==0,"internal-error");const n=V0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await GC(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,p=new Fl;return a&&(Bt(typeof a=="string","internal-error",{appName:t}),p.refreshToken=a),l&&(Bt(typeof l=="string","internal-error",{appName:t}),p.accessToken=l),h&&(Bt(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return Dr("not implemented")}}function Ca(r,t){Bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class As{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new HC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new pp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await _c(this,this.stsTokenManager.getToken(this.auth,t));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return UC(this,t)}reload(){return qC(this)}_assign(t){this!==t&&(Bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new As({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ss(this.auth.app))return Promise.reject(Ua(this.auth));const t=await this.getIdToken();return await _c(this,jC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,p=n.photoURL??void 0,b=n.tenantId??void 0,v=n._redirectEventId??void 0,T=n.createdAt??void 0,R=n.lastLoginAt??void 0,{uid:N,emailVerified:P,isAnonymous:K,providerData:it,stsTokenManager:st}=n;Bt(N&&st,t,"internal-error");const dt=Fl.fromJSON(this.name,st);Bt(typeof N=="string",t,"internal-error"),Ca(a,t.name),Ca(l,t.name),Bt(typeof P=="boolean",t,"internal-error"),Bt(typeof K=="boolean",t,"internal-error"),Ca(h,t.name),Ca(p,t.name),Ca(b,t.name),Ca(v,t.name),Ca(T,t.name),Ca(R,t.name);const Tt=new As({uid:N,auth:t,email:l,emailVerified:P,displayName:a,isAnonymous:K,photoURL:p,phoneNumber:h,tenantId:b,stsTokenManager:dt,createdAt:T,lastLoginAt:R});return it&&Array.isArray(it)&&(Tt.providerData=it.map(Rt=>({...Rt}))),v&&(Tt._redirectEventId=v),Tt}static async _fromIdTokenResponse(t,n,a=!1){const l=new Fl;l.updateFromServerResponse(n);const h=new As({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await vf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];Bt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?aE(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!h?.length,b=new Fl;b.updateFromIdToken(a);const v=new As({uid:l.localId,auth:t,stsTokenManager:b,isAnonymous:p}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new pp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,T),v}}const z0=new Map;function kr(r){zr(r instanceof Function,"Expected a class definition");let t=z0.get(r);return t?(zr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,z0.set(r,t),t)}class oE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}oE.type="NONE";const j0=oE;function Jh(r,t,n){return`firebase:${r}:${t}:${n}`}class Gl{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Jh(this.userKey,l.apiKey,h),this.fullPersistenceKey=Jh("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await yf(this.auth,{idToken:t}).catch(()=>{});return n?As._fromGetAccountInfoResponse(this.auth,n,t):null}return As._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Gl(kr(j0),t,a);const l=(await Promise.all(n.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||kr(j0);const p=Jh(a,t.config.apiKey,t.name);let b=null;for(const T of n)try{const R=await T._get(p);if(R){let N;if(typeof R=="string"){const P=await yf(t,{idToken:R}).catch(()=>{});if(!P)break;N=await As._fromGetAccountInfoResponse(t,P,R)}else N=As._fromJSON(t,R);T!==h&&(b=N),h=T;break}}catch{}const v=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Gl(h,t,a):(h=v[0],b&&await h._set(p,b.toJSON()),await Promise.all(n.map(async T=>{if(T!==h)try{await T._remove(p)}catch{}})),new Gl(h,t,a))}}function U0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dE(t))return"Blackberry";if(mE(t))return"Webos";if(uE(t))return"Safari";if((t.includes("chrome/")||cE(t))&&!t.includes("edge/"))return"Chrome";if(fE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function lE(r=Fn()){return/firefox\//i.test(r)}function uE(r=Fn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cE(r=Fn()){return/crios\//i.test(r)}function hE(r=Fn()){return/iemobile/i.test(r)}function fE(r=Fn()){return/android/i.test(r)}function dE(r=Fn()){return/blackberry/i.test(r)}function mE(r=Fn()){return/webos/i.test(r)}function lg(r=Fn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function KC(r=Fn()){return lg(r)&&!!window.navigator?.standalone}function YC(){return kw()&&document.documentMode===10}function pE(r=Fn()){return lg(r)||fE(r)||mE(r)||dE(r)||/windows phone/i.test(r)||hE(r)}function gE(r,t=[]){let n;switch(r){case"Browser":n=U0(Fn());break;case"Worker":n=`${U0(Fn())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${tu}/${a}`}class QC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((p,b)=>{try{const v=t(h);p(v)}catch(v){b(v)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function XC(r,t={}){return au(r,"GET","/v2/passwordPolicy",Hf(r,t))}const WC=6;class JC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class $C{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B0(this),this.idTokenSubscription=new B0(this),this.beforeStateQueue=new QC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await yf(this,{idToken:t}),a=await As._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ss(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(t);(!h||h===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await vf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=OC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ss(this.app))return Promise.reject(Ua(this));const n=t?pn(t):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ss(this.app)?Promise.reject(Ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ss(this.app)?Promise.reject(Ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await XC(this),n=new JC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new vc("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await ZC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&kr(t)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(b,this,"internal-error"),b.then(()=>{p||h(this.currentUser)}),typeof n=="function"){const v=t.addObserver(n,a,l);return()=>{p=!0,v()}}else{const v=t.addObserver(n);return()=>{p=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&MC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qf(r){return pn(r)}class B0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Bw(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tR(r){ug=r}function eR(r){return ug.loadJS(r)}function nR(){return ug.gapiScript}function iR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function sR(r,t){const n=Ep(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(zo(h,t??{}))return l;Vr(l,"already-initialized")}return n.initialize({options:t})}function rR(r,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(kr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function aR(r,t,n){const a=qf(r);Bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=_E(t),{host:p,port:b}=oR(t),v=b===null?"":`:${b}`,T={url:`${h}//${p}${v}/`},R=Object.freeze({host:p,port:b,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Bt(zo(T,a.config.emulator)&&zo(R,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=T,a.emulatorConfig=R,a.settings.appVerificationDisabledForTesting=!0,$l(p)?(m1(`${h}//${p}${v}`),p1("Auth",!0)):lR()}function _E(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function oR(r){const t=_E(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:H0(a.substr(h.length+1))}}else{const[h,p]=a.split(":");return{host:h,port:H0(p)}}}function H0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function lR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class yE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(t){return Dr("not implemented")}_linkToIdToken(t,n){return Dr("not implemented")}_getReauthenticationResolver(t){return Dr("not implemented")}}async function Zl(r,t){return sE(r,"POST","/v1/accounts:signInWithIdp",Hf(r,t))}const uR="http://localhost";class qo extends yE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=n;if(!a||!l)return null;const p=new qo(a,l);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const n=this.buildRequest();return Zl(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,Zl(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Zl(t,n)}buildRequest(){const t={requestUri:uR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=bc(n)}return t}}class vE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Mc extends vE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ra extends Mc{constructor(){super("facebook.com")}static credential(t){return qo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ra.credentialFromTaggedObject(t)}static credentialFromError(t){return Ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ra.credential(t.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";class Ia extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qo._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ia.credentialFromTaggedObject(t)}static credentialFromError(t){return Ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Ia.credential(n,a)}catch{return null}}}Ia.GOOGLE_SIGN_IN_METHOD="google.com";Ia.PROVIDER_ID="google.com";class Na extends Mc{constructor(){super("github.com")}static credential(t){return qo._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Na.credentialFromTaggedObject(t)}static credentialFromError(t){return Na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Na.credential(t.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";class Ma extends Mc{constructor(){super("twitter.com")}static credential(t,n){return qo._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Ma.credential(n,a)}catch{return null}}}Ma.TWITTER_SIGN_IN_METHOD="twitter.com";Ma.PROVIDER_ID="twitter.com";async function cR(r,t){return sE(r,"POST","/v1/accounts:signUp",Hf(r,t))}class Ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await As._fromIdTokenResponse(t,a,l),p=q0(a);return new Ya({user:h,providerId:p,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=q0(a);return new Ya({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function q0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function hR(r){if(Ss(r.app))return Promise.reject(Ua(r));const t=qf(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ya({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await cR(t,{returnSecureToken:!0}),a=await Ya._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(a.user),a}class bf extends Ur{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new bf(t,n,a,l)}}function bE(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(r,h,t,a):h})}async function fR(r,t,n=!1){const a=await _c(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ya._forOperation(r,"link",a)}async function dR(r,t,n=!1){const{auth:a}=r;if(Ss(a.app))return Promise.reject(Ua(a));const l="reauthenticate";try{const h=await _c(r,bE(a,l,t,r),n);Bt(h.idToken,a,"internal-error");const p=og(h.idToken);Bt(p,a,"internal-error");const{sub:b}=p;return Bt(r.uid===b,a,"user-mismatch"),Ya._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Vr(a,"user-mismatch"),h}}async function mR(r,t,n=!1){if(Ss(r.app))return Promise.reject(Ua(r));const a="signIn",l=await bE(r,a,t),h=await Ya._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(h.user),h}function pR(r,t,n,a){return pn(r).onIdTokenChanged(t,n,a)}function gR(r,t,n){return pn(r).beforeAuthStateChanged(t,n)}function _R(r,t,n,a){return pn(r).onAuthStateChanged(t,n,a)}const Ef="__sak";class EE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const yR=1e3,vR=10;class TE extends EE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((p,b,v)=>{this.notifyListeners(p,v)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!n&&this.localCache[a]===p||this.notifyListeners(a,p)},h=this.storage.getItem(a);YC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,vR):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}TE.type="LOCAL";const bR=TE;class wE extends EE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}wE.type="SESSION";const xE=wE;function ER(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ff{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new Ff(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,p=this.handlersMap[l];if(!p?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async T=>T(n.origin,h)),v=await ER(b);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];function cg(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}class TR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,p;return new Promise((b,v)=>{const T=cg("",20);l.port1.start();const R=setTimeout(()=>{v(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(N){const P=N;if(P.data.eventId===T)switch(P.data.status){case"ack":clearTimeout(R),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),b(P.data.response);break;default:clearTimeout(R),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:T,data:n},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function ir(){return window}function wR(r){ir().location.href=r}function SE(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function xR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){return navigator?.serviceWorker?.controller||null}function AR(){return SE()?self:null}const AE="firebaseLocalStorageDb",CR=1,Tf="firebaseLocalStorage",CE="fbase_key";class Dc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gf(r,t){return r.transaction([Tf],t?"readwrite":"readonly").objectStore(Tf)}function RR(){const r=indexedDB.deleteDatabase(AE);return new Dc(r).toPromise()}function gp(){const r=indexedDB.open(AE,CR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Tf,{keyPath:CE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Tf)?t(a):(a.close(),await RR(),t(await gp()))})})}async function F0(r,t,n){const a=Gf(r,!0).put({[CE]:t,value:n});return new Dc(a).toPromise()}async function IR(r,t){const n=Gf(r,!1).get(t),a=await new Dc(n).toPromise();return a===void 0?null:a.value}function G0(r,t){const n=Gf(r,!0).delete(t);return new Dc(n).toPromise()}const NR=800,MR=3;class RE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>MR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(AR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xR(),!this.activeServiceWorker)return;this.sender=new TR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gp();return await F0(t,Ef,"1"),await G0(t,Ef),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>F0(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>IR(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>G0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Gf(l,!1).getAll();return new Dc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RE.type="LOCAL";const DR=RE;new Nc(3e4,6e4);function kR(r,t){return t?kr(t):(Bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class hg extends yE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Zl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Zl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function OR(r){return mR(r.auth,new hg(r),r.bypassAuthState)}function LR(r){const{auth:t,user:n}=r;return Bt(n,t,"internal-error"),dR(n,new hg(r),r.bypassAuthState)}async function PR(r){const{auth:t,user:n}=r;return Bt(n,t,"internal-error"),fR(n,new hg(r),r.bypassAuthState)}class IE{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:p,type:b}=t;if(p){this.reject(p);return}const v={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(v))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:Vr(this.auth,"internal-error")}}resolve(t){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const VR=new Nc(2e3,1e4);class jl extends IE{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,jl.currentPopupAction&&jl.currentPopupAction.cancel(),jl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Bt(t,this.auth,"internal-error"),t}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const t=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,VR.get())};t()}}jl.currentPopupAction=null;const zR="pendingRedirect",$h=new Map;class jR extends IE{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=$h.get(this.auth._key());if(!t){try{const a=await UR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}$h.set(this.auth._key(),t)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UR(r,t){const n=qR(t),a=HR(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function BR(r,t){$h.set(r._key(),t)}function HR(r){return kr(r._redirectPersistence)}function qR(r){return Jh(zR,r.config.apiKey,r.name)}async function FR(r,t,n=!1){if(Ss(r.app))return Promise.reject(Ua(r));const a=qf(r),l=kR(a,t),p=await new jR(a,l,n).execute();return p&&!n&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,t)),p}const GR=600*1e3;class ZR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!KR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!NE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(nr(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=GR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z0(t))}saveEventToCache(t){this.cachedEventUids.add(Z0(t)),this.lastProcessedEventTime=Date.now()}}function Z0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function NE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function KR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NE(r);default:return!1}}async function YR(r,t={}){return au(r,"GET","/v1/projects",t)}const QR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XR=/^https?/;async function WR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await YR(r);for(const n of t)try{if(JR(n))return}catch{}Vr(r,"unauthorized-domain")}function JR(r){const t=mp(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&p.hostname===a}if(!XR.test(n))return!1;if(QR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const $R=new Nc(3e4,6e4);function K0(){const r=ir().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function tI(r){return new Promise((t,n)=>{function a(){K0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{K0(),n(nr(r,"network-request-failed"))},timeout:$R.get()})}if(ir().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ir().gapi?.load)a();else{const l=iR("iframefcb");return ir()[l]=()=>{gapi.load?a():n(nr(r,"network-request-failed"))},eR(`${nR()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw tf=null,t})}let tf=null;function eI(r){return tf=tf||tI(r),tf}const nI=new Nc(5e3,15e3),iI="__/auth/iframe",sI="emulator/auth/iframe",rI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oI(r){const t=r.config;Bt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?ag(t,sI):`https://${r.config.authDomain}/${iI}`,a={apiKey:t.apiKey,appName:r.name,v:tu},l=aI.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${bc(a).slice(1)}`}async function lI(r){const t=await eI(r),n=ir().gapi;return Bt(n,r,"internal-error"),t.open({where:document.body,url:oI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rI,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const p=nr(r,"network-request-failed"),b=ir().setTimeout(()=>{h(p)},nI.get());function v(){ir().clearTimeout(b),l(a)}a.ping(v).then(v,()=>{h(p)})}))}const uI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cI=500,hI=600,fI="_blank",dI="http://localhost";class Y0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mI(r,t,n,a=cI,l=hI){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const v={...uI,width:a.toString(),height:l.toString(),top:h,left:p},T=Fn().toLowerCase();n&&(b=cE(T)?fI:n),lE(T)&&(t=t||dI,v.scrollbars="yes");const R=Object.entries(v).reduce((P,[K,it])=>`${P}${K}=${it},`,"");if(KC(T)&&b!=="_self")return pI(t||"",b),new Y0(null);const N=window.open(t||"",b,R);Bt(N,r,"popup-blocked");try{N.focus()}catch{}return new Y0(N)}function pI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const gI="__/auth/handler",_I="emulator/auth/handler",yI=encodeURIComponent("fac");async function Q0(r,t,n,a,l,h){Bt(r.config.authDomain,r,"auth-domain-config-required"),Bt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:tu,eventId:l};if(t instanceof vE){t.setDefaultLanguage(r.languageCode),p.providerId=t.providerId||"",Uw(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[R,N]of Object.entries({}))p[R]=N}if(t instanceof Mc){const R=t.getScopes().filter(N=>N!=="");R.length>0&&(p.scopes=R.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const R of Object.keys(b))b[R]===void 0&&delete b[R];const v=await r._getAppCheckToken(),T=v?`#${yI}=${encodeURIComponent(v)}`:"";return`${vI(r)}?${bc(b).slice(1)}${T}`}function vI({config:r}){return r.emulator?ag(r,_I):`https://${r.authDomain}/${gI}`}const Gm="webStorageSupport";class bI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xE,this._completeRedirectFn=FR,this._overrideRedirectResult=BR}async _openPopup(t,n,a,l){zr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Q0(t,n,a,mp(),l);return mI(t,h,cg())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await Q0(t,n,a,mp(),l);return wR(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(zr(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await lI(t),a=new ZR(t);return n.register("authEvent",l=>(Bt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Gm,{type:Gm},l=>{const h=l?.[0]?.[Gm];h!==void 0&&n(!!h),Vr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return pE()||uE()||lg()}}const EI=bI;var X0="@firebase/auth",W0="1.12.0";class TI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xI(r){Kl(new jo("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;Bt(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gE(r)},T=new $C(a,l,h,v);return rR(T,n),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Kl(new jo("auth-internal",t=>{const n=qf(t.getProvider("auth").getImmediate());return(a=>new TI(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),La(X0,W0,wI(r)),La(X0,W0,"esm2020")}const SI=300,AI=d1("authIdTokenMaxAge")||SI;let J0=null;const CI=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>AI)return;const l=n?.token;J0!==l&&(J0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function RI(r=v1()){const t=Ep(r,"auth");if(t.isInitialized())return t.getImmediate();const n=sR(r,{popupRedirectResolver:EI,persistence:[DR,bR,xE]}),a=d1("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const p=CI(h.toString());gR(n,p,()=>p(n.currentUser)),pR(n,b=>p(b))}}const l=h1("auth");return l&&aR(n,`http://${l}`),n}function II(){return document.getElementsByTagName("head")?.[0]??document}tR({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=nr("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",II().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xI("Browser");const NI={apiKey:"AIzaSyBxDE9NuiFoXD_fOooTRpgd_OzPOhGiw3Q",authDomain:"informa-indipris.firebaseapp.com",projectId:"informa-indipris",storageBucket:"informa-indipris.firebasestorage.app",messagingSenderId:"754598478959",appId:"1:754598478959:web:0d376ae263e5474a6d399a"},ME=y1(NI),kn=uC(ME),$0=RI(ME),Ul="artifacts/indipris-eventos-v1/public/data",MI=()=>{const[r,t]=mt.useState(null),[n,a]=mt.useState(!0);return mt.useEffect(()=>{const l=_R($0,h=>{h?(t(h),a(!1)):hR($0)});return()=>l()},[]),{user:r,loading:n}},DI="indipris-eventos-v1",kI=`artifacts/${DI}/public/data/hoteles`,DE=()=>{const[r,t]=mt.useState([]),[n,a]=mt.useState(!0),[l,h]=mt.useState(null);return mt.useEffect(()=>{const p=pc(kn,kI),b=Wb(p),v=Uf(b,T=>{try{const R=T.docs.map(N=>{const P=N.data();return{id:N.id,nombre:P.nombre||"Hotel sin nombre",imagen:P.imagen||"https://via.placeholder.com/400x300?text=No+Image",ventasPausadas:P.ventasPausadas??!1,stock_por_dia:P.stock_por_dia||{},...P}});t(R),a(!1),h(null)}catch(R){console.error("Error procesando datos de hoteles:",R),h(R),a(!1)}},T=>{console.error("Error en onSnapshot de hoteles:",T),h(T),a(!1)});return()=>v()},[]),{hotels:r,loading:n,error:l}},kE=()=>{const[r,t]=mt.useState(null),[n,a]=mt.useState(!0);return mt.useEffect(()=>{const h=Pi(kn,`${Ul}/configuracion`,"evento_actual"),p=Uf(h,b=>{b.exists()?t(b.data()):t({nombre:"Evento Nuevo",fechaInicio:"2026-09-01",fechaFin:"2026-09-05",direccion:"",lat:19.4326,lng:-99.1332,logoUrl:""}),a(!1)});return()=>p()},[]),{evento:r,updateEvento:async h=>{try{const p=Pi(kn,`${Ul}/configuracion`,"evento_actual");return await AC(p,{...h,updatedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(p){return console.error("Error al actualizar evento:",p),{success:!1,error:p}}},loading:n}};const OE=(...r)=>r.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim();const OI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const LI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase());const t1=r=>{const t=LI(r);return t.charAt(0).toUpperCase()+t.slice(1)};var PI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const zI=mt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:h,iconNode:p,...b},v)=>mt.createElement("svg",{ref:v,...PI,width:t,height:t,stroke:r,strokeWidth:a?Number(n)*24/Number(t):n,className:OE("lucide",l),...!h&&!VI(b)&&{"aria-hidden":"true"},...b},[...p.map(([T,R])=>mt.createElement(T,R)),...Array.isArray(h)?h:[h]]));const ue=(r,t)=>{const n=mt.forwardRef(({className:a,...l},h)=>mt.createElement(zI,{ref:h,iconNode:t,className:OE(`lucide-${OI(t1(r))}`,`lucide-${r}`,a),...l}));return n.displayName=t1(r),n};const jI=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],UI=ue("bed-double",jI);const BI=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],HI=ue("bed",BI);const qI=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],FI=ue("building-2",qI);const GI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],e1=ue("calendar-days",GI);const ZI=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],KI=ue("calendar-range",ZI);const YI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_p=ue("calendar",YI);const QI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XI=ue("chevron-down",QI);const WI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fg=ue("chevron-left",WI);const JI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],LE=ue("chevron-right",JI);const $I=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],tN=ue("chevron-up",$I);const eN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nN=ue("circle-check",eN);const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sN=ue("circle-x",iN);const rN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],aN=ue("clipboard-list",rN);const oN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],n1=ue("credit-card",oN);const lN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],uN=ue("database",lN);const cN=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],hN=ue("eraser",cN);const fN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],dN=ue("funnel",fN);const mN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],pN=ue("layers",mN);const gN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jr=ue("loader-circle",gN);const _N=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yN=ue("lock",_N);const vN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yc=ue("map-pin",vN);const bN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],PE=ue("panels-top-left",bN);const EN=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],TN=ue("party-popper",EN);const wN=[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M6.36 17.4 4 17l-2-4 1.1-.55a2 2 0 0 1 1.8 0l.17.1a2 2 0 0 0 1.8 0L8 12 5 6l.9-.45a2 2 0 0 1 2.09.2l4.02 3a2 2 0 0 0 2.1.2l4.19-2.06a2.41 2.41 0 0 1 1.73-.17L21 7a1.4 1.4 0 0 1 .87 1.99l-.38.76c-.23.46-.6.84-1.07 1.08L7.58 17.2a2 2 0 0 1-1.22.18Z",key:"fkigj9"}]],xN=ue("plane-takeoff",wN);const SN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],AN=ue("plus",SN);const CN=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],RN=ue("power",CN);const IN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dg=ue("save",IN);const NN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],VE=ue("search",NN);const MN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zf=ue("settings",MN);const DN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zE=ue("shield-check",DN);const kN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ON=ue("trash-2",kN);const LN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],PN=ue("trending-up",LN);const VN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zN=ue("triangle-alert",VN);const jN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mg=ue("users",jN);const UN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pg=ue("x",UN),BN=({hotel:r,selectedDate:t,onClick:n})=>{let a=r.imagen;(!a||!a.startsWith("http")||a.includes("via.placeholder.com"))&&(a="https://images.unsplash.com/photo-1551882547-ff40c0d509af?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80");let l;if(t&&r.stock_por_dia?.[t])l=r.stock_por_dia[t];else if(r.stock_por_dia&&Object.keys(r.stock_por_dia).length>0){const v=Object.keys(r.stock_por_dia)[0];l=r.stock_por_dia[v]}else l={disponible:Number(r.disponible)||Number(r.stock)||0,precioSencilla:Number(r.precioSencilla)||Number(r.precio)||0,precioDoble:Number(r.precioDoble)||0};const h=r.ventasPausadas===!0,p=Number(l.disponible)>0,b=p&&!h;return x.jsxs("div",{className:`bg-white rounded-[2.5rem] shadow-xl overflow-hidden border-2 transition-all duration-300 flex flex-col ${b?"border-transparent hover:shadow-2xl":"border-gray-100 opacity-90"}`,children:[x.jsxs("div",{className:"relative h-64 bg-gray-100",children:[x.jsx("img",{src:a,className:"w-full h-full object-cover",alt:r.nombre||"Hotel",onError:v=>{v.target.onerror=null,v.target.src="https://images.unsplash.com/photo-1496417263034-38ec4f0b665a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}}),h&&x.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center backdrop-blur-sm",children:x.jsxs("div",{className:"bg-[#FFD600] text-black px-6 py-2 rounded-full font-black flex items-center gap-2 shadow-2xl",children:[x.jsx(zN,{size:16})," PAUSADO"]})}),!h&&x.jsx("div",{className:`absolute top-4 right-4 px-4 py-1.5 rounded-full font-bold text-[10px] uppercase tracking-widest shadow-lg flex items-center gap-2 ${p?"bg-white text-green-600":"bg-red-500 text-white"}`,children:p?x.jsxs(x.Fragment,{children:[x.jsx(nN,{size:12})," ",l.disponible," DISPONIBLES"]}):x.jsxs(x.Fragment,{children:[x.jsx(sN,{size:12})," AGOTADO"]})})]}),x.jsxs("div",{className:"p-8 flex-1 flex flex-col justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-3xl font-black text-[#111] uppercase tracking-tighter mb-2",children:r.nombre||"Hotel"}),x.jsxs("p",{className:"text-gray-400 text-[11px] font-bold uppercase tracking-widest flex items-center gap-2 mb-6",children:[x.jsx(UI,{size:14})," Hotel Oficial Abastur 2026"]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[x.jsxs("div",{className:"p-4 bg-gray-50 rounded-[1.5rem] border border-gray-100",children:[x.jsx("span",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Hab. Sencilla"}),x.jsxs("div",{className:"flex items-baseline gap-1",children:[x.jsx("span",{className:"text-[9px] font-black text-gray-400 mr-1 uppercase tracking-widest",children:"Desde"}),x.jsx("span",{className:"text-sm font-bold text-[#E91E63]",children:"$"}),x.jsx("span",{className:"text-2xl font-black text-[#E91E63]",children:Number(l.precioSencilla).toLocaleString()})]})]}),x.jsxs("div",{className:"p-4 bg-gray-50 rounded-[1.5rem] border border-gray-100",children:[x.jsx("span",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Hab. Doble"}),x.jsxs("div",{className:"flex items-baseline gap-1",children:[x.jsx("span",{className:"text-[9px] font-black text-gray-400 mr-1 uppercase tracking-widest",children:"Desde"}),x.jsx("span",{className:"text-sm font-bold text-[#E91E63]",children:"$"}),x.jsx("span",{className:"text-2xl font-black text-[#E91E63]",children:Number(l.precioDoble).toLocaleString()})]})]})]})]}),x.jsx("button",{onClick:n,disabled:!b,className:`w-full py-4 rounded-[1.5rem] font-black text-[11px] uppercase tracking-[0.2em] transition-all transform active:scale-95 ${b?"bg-[#111] text-white hover:bg-[#E91E63] shadow-lg shadow-pink-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:h?"VENTAS PAUSADAS":p?"SELECCIONAR HOTEL":"SIN STOCK"})]})]})};function jE(r,t){const n=mt.useRef(t);mt.useEffect(function(){t!==n.current&&r.attributionControl!=null&&(n.current!=null&&r.attributionControl.removeAttribution(n.current),t!=null&&r.attributionControl.addAttribution(t)),n.current=t},[r,t])}var HN=o1();const qN=1;function FN(r){return Object.freeze({__version:qN,map:r})}function GN(r,t){return Object.freeze({...r,...t})}const gg=mt.createContext(null);function UE(){const r=mt.use(gg);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function ZN(r){function t(n,a){const{instance:l,context:h}=r(n).current;mt.useImperativeHandle(a,()=>l);const{children:p}=n;return p==null?null:Zm.createElement(gg,{value:h},p)}return mt.forwardRef(t)}function KN(r){function t(n,a){const[l,h]=mt.useState(!1),{instance:p}=r(n,h).current;mt.useImperativeHandle(a,()=>p),mt.useEffect(function(){l&&p.update()},[p,l,n.children]);const b=p._contentNode;return b?HN.createPortal(n.children,b):null}return mt.forwardRef(t)}function YN(r){function t(n,a){const{instance:l}=r(n).current;return mt.useImperativeHandle(a,()=>l),null}return mt.forwardRef(t)}function BE(r,t){const n=mt.useRef(void 0);mt.useEffect(function(){return t!=null&&r.instance.on(t),n.current=t,function(){n.current!=null&&r.instance.off(n.current),n.current=null}},[r,t])}function _g(r,t){const n=r.pane??t.pane;return n?{...r,pane:n}:r}function QN(r,t){return function(a,l){const h=UE(),p=r(_g(a,h),h);return jE(h.map,a.attribution),BE(p.current,a.eventHandlers),t(p.current,h,a,l),p}}var $u={exports:{}};var XN=$u.exports,i1;function WN(){return i1||(i1=1,(function(r,t){(function(n,a){a(t)})(XN,(function(n){var a="1.9.4";function l(s){var u,d,_,E;for(d=1,_=arguments.length;d<_;d++){E=arguments[d];for(u in E)s[u]=E[u]}return s}var h=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function p(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var b=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++b),s._leaflet_id}function T(s,u,d){var _,E,A,V;return V=function(){_=!1,E&&(A.apply(d,E),E=!1)},A=function(){_?E=arguments:(s.apply(d,arguments),setTimeout(V,u),_=!0)},A}function R(s,u,d){var _=u[1],E=u[0],A=_-E;return s===_&&d?s:((s-E)%A+A)%A+E}function N(){return!1}function P(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function K(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function it(s){return K(s).split(/\s+/)}function st(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function dt(s,u,d){var _=[];for(var E in s)_.push(encodeURIComponent(d?E.toUpperCase():E)+"="+encodeURIComponent(s[E]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var Tt=/\{ *([\w_ -]+) *\}/g;function Rt(s,u){return s.replace(Tt,function(d,_){var E=u[_];if(E===void 0)throw new Error("No value provided for variable "+d);return typeof E=="function"&&(E=E(u)),E})}var xt=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Ut(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var le="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ot(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var j=0;function O(s){var u=+new Date,d=Math.max(0,16-(u-j));return j=u+d,window.setTimeout(s,d)}var z=window.requestAnimationFrame||Ot("RequestAnimationFrame")||O,M=window.cancelAnimationFrame||Ot("CancelAnimationFrame")||Ot("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function D(s,u,d){if(d&&z===O)s.call(u);else return z.call(window,p(s,u))}function H(s){s&&M.call(window,s)}var k={__proto__:null,extend:l,create:h,bind:p,get lastId(){return b},stamp:v,throttle:T,wrapNum:R,falseFn:N,formatNum:P,trim:K,splitWords:it,setOptions:st,getParamString:dt,template:Rt,isArray:xt,indexOf:Ut,emptyImageUrl:le,requestFn:z,cancelFn:M,requestAnimFrame:D,cancelAnimFrame:H};function Dt(){}Dt.extend=function(s){var u=function(){st(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(u[E]=this[E]);return s.statics&&l(u,s.statics),s.includes&&(ee(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,V=_._initHooks.length;A<V;A++)_._initHooks[A].call(this)}},u},Dt.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},Dt.mergeOptions=function(s){return l(this.prototype.options,s),this},Dt.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function ee(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=xt(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=it(s);for(var E=0,A=s.length;E<A;E++)this._on(s[E],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=it(s);for(var E=arguments.length===1,A=0,V=s.length;A<V;A++)E?this._off(s[A]):this._off(s[A],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var E={fn:u,ctx:d};_&&(E.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(E)}},_off:function(s,u,d){var _,E,A;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(E=0,A=_.length;E<A;E++)_[E].fn=N;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var V=this._listens(s,u,d);if(V!==!1){var G=_[V];this._firingCount&&(G.fn=N,this._events[s]=_=_.slice()),_.splice(V,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var E=this._events[s];if(E){this._firingCount=this._firingCount+1||1;for(var A=0,V=E.length;A<V;A++){var G=E[A],X=G.fn;G.once&&this.off(s,X,G.ctx),X.call(G.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var E=u;typeof u!="function"&&(_=!!u,E=void 0,d=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,E,d)!==!1)return!0;if(_){for(var V in this._eventParents)if(this._eventParents[V].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var E=0,A=_.length;E<A;E++)if(_[E].fn===u&&_[E].ctx===d)return E;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=it(s);for(var E=0,A=s.length;E<A;E++)this._on(s[E],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var pt=Dt.extend($);function ht(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var Gt=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ht.prototype={clone:function(){return new ht(this.x,this.y)},add:function(s){return this.clone()._add(vt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(vt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ht(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ht(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Gt(this.x),this.y=Gt(this.y),this},distanceTo:function(s){s=vt(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=vt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=vt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function vt(s,u,d){return s instanceof ht?s:xt(s)?new ht(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ht(s.x,s.y):new ht(s,u,d)}function B(s,u){if(s)for(var d=u?[s,u]:s,_=0,E=d.length;_<E;_++)this.extend(d[_])}B.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof ht||typeof s[0]=="number"||"x"in s)u=d=vt(s);else if(s=tt(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return vt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return vt(this.min.x,this.max.y)},getTopRight:function(){return vt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof ht?s=vt(s):s=tt(s),s instanceof B?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=tt(s);var u=this.min,d=this.max,_=s.min,E=s.max,A=E.x>=u.x&&_.x<=d.x,V=E.y>=u.y&&_.y<=d.y;return A&&V},overlaps:function(s){s=tt(s);var u=this.min,d=this.max,_=s.min,E=s.max,A=E.x>u.x&&_.x<d.x,V=E.y>u.y&&_.y<d.y;return A&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,E=Math.abs(u.y-d.y)*s;return tt(vt(u.x-_,u.y-E),vt(d.x+_,d.y+E))},equals:function(s){return s?(s=tt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function tt(s,u){return!s||s instanceof B?s:new B(s,u)}function ct(s,u){if(s)for(var d=u?[s,u]:s,_=0,E=d.length;_<E;_++)this.extend(d[_])}ct.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,E;if(s instanceof yt)_=s,E=s;else if(s instanceof ct){if(_=s._southWest,E=s._northEast,!_||!E)return this}else return s?this.extend(bt(s)||ft(s)):this;return!u&&!d?(this._southWest=new yt(_.lat,_.lng),this._northEast=new yt(E.lat,E.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(E.lat,d.lat),d.lng=Math.max(E.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,E=Math.abs(u.lng-d.lng)*s;return new ct(new yt(u.lat-_,u.lng-E),new yt(d.lat+_,d.lng+E))},getCenter:function(){return new yt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new yt(this.getNorth(),this.getWest())},getSouthEast:function(){return new yt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof yt||"lat"in s?s=bt(s):s=ft(s);var u=this._southWest,d=this._northEast,_,E;return s instanceof ct?(_=s.getSouthWest(),E=s.getNorthEast()):_=E=s,_.lat>=u.lat&&E.lat<=d.lat&&_.lng>=u.lng&&E.lng<=d.lng},intersects:function(s){s=ft(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),E=s.getNorthEast(),A=E.lat>=u.lat&&_.lat<=d.lat,V=E.lng>=u.lng&&_.lng<=d.lng;return A&&V},overlaps:function(s){s=ft(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),E=s.getNorthEast(),A=E.lat>u.lat&&_.lat<d.lat,V=E.lng>u.lng&&_.lng<d.lng;return A&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=ft(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ft(s,u){return s instanceof ct?s:new ct(s,u)}function yt(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}yt.prototype={equals:function(s,u){if(!s)return!1;s=bt(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+P(this.lat,s)+", "+P(this.lng,s)+")"},distanceTo:function(s){return xe.distance(this,bt(s))},wrap:function(){return xe.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return ft([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new yt(this.lat,this.lng,this.alt)}};function bt(s,u,d){return s instanceof yt?s:xt(s)&&typeof s[0]!="object"?s.length===3?new yt(s[0],s[1],s[2]):s.length===2?new yt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new yt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new yt(s,u,d)}var qt={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),E=this.transformation.transform(u.max,d);return new B(_,E)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?R(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?R(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new yt(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,E=u.lng-d.lng;if(_===0&&E===0)return s;var A=s.getSouthWest(),V=s.getNorthEast(),G=new yt(A.lat-_,A.lng-E),X=new yt(V.lat-_,V.lng-E);return new ct(G,X)}},xe=l({},qt,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,E=u.lat*d,A=Math.sin((u.lat-s.lat)*d/2),V=Math.sin((u.lng-s.lng)*d/2),G=A*A+Math.cos(_)*Math.cos(E)*V*V,X=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*X}}),Ie=6378137,ls={R:Ie,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),E=Math.sin(_*u);return new ht(this.R*s.lng*u,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(s){var u=180/Math.PI;return new yt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Ie*Math.PI;return new B([-s,-s],[s,s])})()};function Ns(s,u,d,_){if(xt(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}Ns.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new ht((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Ui(s,u,d,_){return new Ns(s,u,d,_)}var Ms=l({},xe,{code:"EPSG:3857",projection:ls,transformation:(function(){var s=.5/(Math.PI*ls.R);return Ui(s,.5,-s,.5)})()}),Bi=l({},Ms,{code:"EPSG:900913"});function Br(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ds(s,u){var d="",_,E,A,V,G,X;for(_=0,A=s.length;_<A;_++){for(G=s[_],E=0,V=G.length;E<V;E++)X=G[E],d+=(E?"L":"M")+X.x+" "+X.y;d+=u?At.svg?"z":"x":""}return d||"M0 0"}var rr=document.documentElement.style,ks="ActiveXObject"in window,Fe=ks&&!document.addEventListener,Ge="msLaunchUri"in navigator&&!("documentMode"in document),Hi=gn("webkit"),Zo=gn("android"),Wa=gn("android 2")||gn("android 3"),An=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ar=Zo&&gn("Google")&&An<537&&!("AudioNode"in window),or=!!window.opera,Hr=!Ge&&gn("chrome"),us=gn("gecko")&&!Hi&&!or&&!ks,ou=!Hr&&gn("safari"),Ja=gn("phantom"),$a="OTransition"in rr,Ko=navigator.platform.indexOf("Win")===0,$n=ks&&"transition"in rr,Je="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Wa,Gn="MozPerspective"in rr,je=!window.L_DISABLE_3D&&($n||Je||Gn)&&!$a&&!Ja,Os=typeof orientation<"u"||gn("mobile"),qr=Os&&Hi,Yo=Os&&Je,yi=!window.PointerEvent&&window.MSPointerEvent,Ls=!!(window.PointerEvent||yi),Ue="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(Ue||Ls),Fi=Os&&or,vi=Os&&us,lu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qo=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",N,u),window.removeEventListener("testPassiveEventSupport",N,u)}catch{}return s})(),Gi=(function(){return!!document.createElement("canvas").getContext})(),cs=!!(document.createElementNS&&Br("svg").createSVGRect),uu=!!cs&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),lr=!cs&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),to=navigator.platform.indexOf("Mac")===0,eo=navigator.platform.indexOf("Linux")===0;function gn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var At={ie:ks,ielt9:Fe,edge:Ge,webkit:Hi,android:Zo,android23:Wa,androidStock:ar,opera:or,chrome:Hr,gecko:us,safari:ou,phantom:Ja,opera12:$a,win:Ko,ie3d:$n,webkit3d:Je,gecko3d:Gn,any3d:je,mobile:Os,mobileWebkit:qr,mobileWebkit3d:Yo,msPointer:yi,pointer:Ls,touch:qi,touchNative:Ue,mobileOpera:Fi,mobileGecko:vi,retina:lu,passiveEvents:Qo,canvas:Gi,svg:cs,vml:lr,inlineSvg:uu,mac:to,linux:eo},no=At.msPointer?"MSPointerDown":"pointerdown",ti=At.msPointer?"MSPointerMove":"pointermove",ei=At.msPointer?"MSPointerUp":"pointerup",Be=At.msPointer?"MSPointerCancel":"pointercancel",Ze={touchstart:no,touchmove:ti,touchend:ei,touchcancel:Be},bi={touchstart:Ki,touchmove:_n,touchend:_n,touchcancel:_n},Ei={},Xo=!1;function Wo(s,u,d){return u==="touchstart"&&ni(),bi[u]?(d=bi[u].bind(this,d),s.addEventListener(Ze[u],d,!1),d):(console.warn("wrong event specified:",u),N)}function Jo(s,u,d){if(!Ze[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Ze[u],d,!1)}function Zi(s){Ei[s.pointerId]=s}function Fr(s){Ei[s.pointerId]&&(Ei[s.pointerId]=s)}function Ti(s){delete Ei[s.pointerId]}function ni(){Xo||(document.addEventListener(no,Zi,!0),document.addEventListener(ti,Fr,!0),document.addEventListener(ei,Ti,!0),document.addEventListener(Be,Ti,!0),Xo=!0)}function _n(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in Ei)u.touches.push(Ei[d]);u.changedTouches=[u],s(u)}}function Ki(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Le(u),_n(s,u)}function Ke(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var io=200;function so(s,u){s.addEventListener("dblclick",u);var d=0,_;function E(A){if(A.detail!==1){_=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var V=Us(A);if(!(V.some(function(X){return X instanceof HTMLLabelElement&&X.attributes.for})&&!V.some(function(X){return X instanceof HTMLInputElement||X instanceof HTMLSelectElement}))){var G=Date.now();G-d<=io?(_++,_===2&&u(Ke(A))):_=1,d=G}}}return s.addEventListener("click",E),{dblclick:u,simDblclick:E}}function Yi(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var ii=cr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hs=cr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Gr=hs==="webkitTransition"||hs==="OTransition"?hs+"End":"transitionend";function Zr(s){return typeof s=="string"?document.getElementById(s):s}function Ps(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Xt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function Wt(s){var u=s.parentNode;u&&u.removeChild(s)}function ke(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Oe(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Zn(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function ur(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=Qi(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function wt(s,u){if(s.classList!==void 0)for(var d=it(u),_=0,E=d.length;_<E;_++)s.classList.add(d[_]);else if(!ur(s,u)){var A=Qi(s);si(s,(A?A+" ":"")+u)}}function be(s,u){s.classList!==void 0?s.classList.remove(u):si(s,K((" "+Qi(s)+" ").replace(" "+u+" "," ")))}function si(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Qi(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ne(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Kr(s,u)}function Kr(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function cr(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function wi(s,u,d){var _=u||new ht(0,0);s.style[ii]=(At.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function Ee(s,u){s._leaflet_pos=u,At.any3d?wi(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Xi(s){return s._leaflet_pos||new ht(0,0)}var ri,nn,Yr;if("onselectstart"in document)ri=function(){Lt(window,"selectstart",Le)},nn=function(){me(window,"selectstart",Le)};else{var fs=cr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ri=function(){if(fs){var s=document.documentElement.style;Yr=s[fs],s[fs]="none"}},nn=function(){fs&&(document.documentElement.style[fs]=Yr,Yr=void 0)}}function hr(){Lt(window,"dragstart",Le)}function Vs(){me(window,"dragstart",Le)}var fr,Wi;function zs(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Ln(),fr=s,Wi=s.style.outlineStyle,s.style.outlineStyle="none",Lt(window,"keydown",Ln))}function Ln(){fr&&(fr.style.outlineStyle=Wi,fr=void 0,Wi=void 0,me(window,"keydown",Ln))}function Qr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Pn(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var js={__proto__:null,TRANSFORM:ii,TRANSITION:hs,TRANSITION_END:Gr,get:Zr,getStyle:Ps,create:Xt,remove:Wt,empty:ke,toFront:Oe,toBack:Zn,hasClass:ur,addClass:wt,removeClass:be,setClass:si,getClass:Qi,setOpacity:Ne,testProp:cr,setTransform:wi,setPosition:Ee,getPosition:Xi,get disableTextSelection(){return ri},get enableTextSelection(){return nn},disableImageDrag:hr,enableImageDrag:Vs,preventOutline:zs,restoreOutline:Ln,getSizedParentNode:Qr,getScale:Pn};function Lt(s,u,d,_){if(u&&typeof u=="object")for(var E in u)Vn(s,E,u[E],d);else{u=it(u);for(var A=0,V=u.length;A<V;A++)Vn(s,u[A],d,_)}return this}var yn="_leaflet_events";function me(s,u,d,_){if(arguments.length===1)ds(s),delete s[yn];else if(u&&typeof u=="object")for(var E in u)ms(s,E,u[E],d);else if(u=it(u),arguments.length===2)ds(s,function(G){return Ut(u,G)!==-1});else for(var A=0,V=u.length;A<V;A++)ms(s,u[A],d,_);return this}function ds(s,u){for(var d in s[yn]){var _=d.split(/\d/)[0];(!u||u(_))&&ms(s,_,null,null,d)}}var Kn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vn(s,u,d,_){var E=u+v(d)+(_?"_"+v(_):"");if(s[yn]&&s[yn][E])return this;var A=function(G){return d.call(_||s,G||window.event)},V=A;!At.touchNative&&At.pointer&&u.indexOf("touch")===0?A=Wo(s,u,A):At.touch&&u==="dblclick"?A=so(s,A):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Kn[u]||u,A,At.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(G){G=G||window.event,Ai(s,G)&&V(G)},s.addEventListener(Kn[u],A,!1)):s.addEventListener(u,V,!1):s.attachEvent("on"+u,A),s[yn]=s[yn]||{},s[yn][E]=A}function ms(s,u,d,_,E){E=E||u+v(d)+(_?"_"+v(_):"");var A=s[yn]&&s[yn][E];if(!A)return this;!At.touchNative&&At.pointer&&u.indexOf("touch")===0?Jo(s,u,A):At.touch&&u==="dblclick"?Yi(s,A):"removeEventListener"in s?s.removeEventListener(Kn[u]||u,A,!1):s.detachEvent("on"+u,A),s[yn][E]=null}function ne(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ai(s){return Vn(s,"wheel",ne),this}function ps(s){return Lt(s,"mousedown touchstart dblclick contextmenu",ne),s._leaflet_disable_click=!0,this}function Le(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function xi(s){return Le(s),ne(s),this}function Us(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function Ji(s,u){if(!u)return new ht(s.clientX,s.clientY);var d=Pn(u),_=d.boundingClientRect;return new ht((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var Si=At.linux&&At.chrome?window.devicePixelRatio:At.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function sn(s){return At.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Si:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ai(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var $i={__proto__:null,on:Lt,off:me,stopPropagation:ne,disableScrollPropagation:ai,disableClickPropagation:ps,preventDefault:Le,stop:xi,getPropagationPath:Us,getMousePosition:Ji,getWheelDelta:sn,isExternalTarget:Ai,addListener:Lt,removeListener:me},gs=pt.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Xi(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),Ee(this._el,d),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Qt=pt.extend({options:{crs:Ms,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=st(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(bt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hs&&At.any3d&&!At.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,Gr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(bt(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),E=this.getSize().divideBy(2),A=s instanceof ht?s:this.latLngToContainerPoint(s),V=A.subtract(E).multiplyBy(1-1/_),G=this.containerPointToLatLng(E.add(V));return this.setView(G,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():ft(s);var d=vt(u.paddingTopLeft||u.padding||[0,0]),_=vt(u.paddingBottomRight||u.padding||[0,0]),E=this.getBoundsZoom(s,!1,d.add(_));if(E=typeof u.maxZoom=="number"?Math.min(u.maxZoom,E):E,E===1/0)return{center:s.getCenter(),zoom:E};var A=_.subtract(d).divideBy(2),V=this.project(s.getSouthWest(),E),G=this.project(s.getNorthEast(),E),X=this.unproject(V.add(G).divideBy(2).add(A),E);return{center:X,zoom:E}},fitBounds:function(s,u){if(s=ft(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=vt(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){wt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!At.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),E=this.project(s),A=this.getSize(),V=this._zoom;s=bt(s),u=u===void 0?V:u;var G=Math.max(A.x,A.y),X=G*this.getZoomScale(V,u),ot=E.distanceTo(_)||1,_t=1.42,Nt=_t*_t;function Kt(He){var Es=He?-1:1,vr=He?X:G,pu=X*X-G*G+Es*Nt*Nt*ot*ot,So=2*vr*Nt*ot,Ao=pu/So,Xs=Math.sqrt(Ao*Ao+1)-Ao,Ts=Xs<1e-9?-18:Math.log(Xs);return Ts}function fn(He){return(Math.exp(He)-Math.exp(-He))/2}function Ye(He){return(Math.exp(He)+Math.exp(-He))/2}function Xn(He){return fn(He)/Ye(He)}var pe=Kt(0);function ge(He){return G*(Ye(pe)/Ye(pe+_t*He))}function Jt(He){return G*(Ye(pe)*Xn(pe+_t*He)-fn(pe))/Nt}function Ys(He){return 1-Math.pow(1-He,1.5)}var hi=Date.now(),hl=(Kt(1)-pe)/_t,Qs=d.duration?1e3*d.duration:1e3*hl*.8;function mu(){var He=(Date.now()-hi)/Qs,Es=Ys(He)*hl;He<=1?(this._flyToFrame=D(mu,this),this._move(this.unproject(_.add(E.subtract(_).multiplyBy(Jt(Es)/ot)),V),this.getScaleZoom(G/ge(Es),V),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),mu.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=ft(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,ft(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=vt(u.paddingTopLeft||u.padding||[0,0]),_=vt(u.paddingBottomRight||u.padding||[0,0]),E=this.project(this.getCenter()),A=this.project(s),V=this.getPixelBounds(),G=tt([V.min.add(d),V.max.subtract(_)]),X=G.getSize();if(!G.contains(A)){this._enforcingBounds=!0;var ot=A.subtract(G.getCenter()),_t=G.extend(A).getSize().subtract(X);E.x+=ot.x<0?-_t.x:_t.x,E.y+=ot.y<0?-_t.y:_t.y,this.panTo(this.unproject(E),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),E=d.divideBy(2).round(),A=_.subtract(E);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),d=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new yt(u,d),E=_.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var V=this.getBoundsZoom(E);this.setView(_,A.maxZoom?Math.min(V,A.maxZoom):V)}var G={latlng:_,bounds:E,timestamp:s.timestamp};for(var X in s.coords)typeof s.coords[X]=="number"&&(G[X]=s.coords[X]);this.fire("locationfound",G)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Wt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Xt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new ct(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=ft(s),d=vt(d||[0,0]);var _=this.getZoom()||0,E=this.getMinZoom(),A=this.getMaxZoom(),V=s.getNorthWest(),G=s.getSouthEast(),X=this.getSize().subtract(d),ot=tt(this.project(G,_),this.project(V,_)).getSize(),_t=At.any3d?this.options.zoomSnap:1,Nt=X.x/ot.x,Kt=X.y/ot.y,fn=u?Math.max(Nt,Kt):Math.min(Nt,Kt);return _=this.getScaleZoom(fn,_),_t&&(_=Math.round(_/(_t/100))*(_t/100),_=u?Math.ceil(_/_t)*_t:Math.floor(_/_t)*_t),Math.max(E,Math.min(A,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ht(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new B(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(bt(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(vt(s),u)},layerPointToLatLng:function(s){var u=vt(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(bt(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(bt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ft(s))},distance:function(s,u){return this.options.crs.distance(bt(s),bt(u))},containerPointToLayerPoint:function(s){return vt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return vt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(vt(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(bt(s)))},mouseEventToContainerPoint:function(s){return Ji(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Zr(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Lt(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&At.any3d,wt(s,"leaflet-container"+(At.touch?" leaflet-touch":"")+(At.retina?" leaflet-retina":"")+(At.ielt9?" leaflet-oldie":"")+(At.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ps(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ee(this._mapPane,new ht(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(s.markerPane,"leaflet-zoom-hide"),wt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){Ee(this._mapPane,new ht(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var E=this._zoom!==u;this._moveStart(E,d)._move(s,u)._moveEnd(E),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var E=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((E||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ee(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?me:Lt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),At.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,E=u==="mouseout"||u==="mouseover",A=s.target||s.srcElement,V=!1;A;){if(_=this._targets[v(A)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){V=!0;break}if(_&&_.listens(u,!0)&&(E&&!Ai(A,s)||(d.push(_),E))||A===this._container)break;A=A.parentNode}return!d.length&&!V&&!E&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&zs(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var E=this._findEventTargets(s,u);if(d){for(var A=[],V=0;V<d.length;V++)d[V].listens(u,!0)&&A.push(d[V]);E=A.concat(E)}if(E.length){u==="contextmenu"&&Le(s);var G=E[0],X={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ot=G.getLatLng&&(!G._radius||G._radius<=10);X.containerPoint=ot?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(s),X.layerPoint=this.containerPointToLayerPoint(X.containerPoint),X.latlng=ot?G.getLatLng():this.layerPointToLatLng(X.layerPoint)}for(V=0;V<E.length;V++)if(E[V].fire(u,X,!0),X.originalEvent._stopped||E[V].options.bubblingMouseEvents===!1&&Ut(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Xi(this._mapPane)||new ht(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return tt([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),E=this.getSize().divideBy(2),A=new B(_.subtract(E),_.add(E)),V=this._getBoundsOffset(A,d,u);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?s:this.unproject(_.add(V),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new B(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=tt(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),E=_.min.subtract(s.min),A=_.max.subtract(s.max),V=this._rebound(E.x,-A.x),G=this._rebound(E.y,-A.y);return new ht(V,G)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=At.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=ii,_=this._proxy.style[d];wi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();wi(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),E=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(E)?!1:(D(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Bs(s,u){return new Qt(s,u)}var vn=Dt.extend({options:{position:"topright"},initialize:function(s){st(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return wt(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),zn=function(s){return new vn(s)};Qt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Xt("div",u+"control-container",this._container);function _(E,A){var V=u+E+" "+u+A;s[E+A]=Xt("div",V,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Wt(this._controlCorners[s]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dr=vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){st(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return vn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Xt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ps(u),ai(u);var _=this._section=Xt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Lt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Xt("a",s+"-toggle",u);E.href="#",E.title="Layers",E.setAttribute("role","button"),Lt(E,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){Le(A),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Xt("div",s+"-base",_),this._separator=Xt("div",s+"-separator",_),this._overlaysList=Xt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(p(function(_,E){return this.options.sortFunction(_.layer,E.layer,_.name,E.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ke(this._baseLayersList),ke(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,E=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,E+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&E>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(_),_.layerId=v(s.layer),Lt(_,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+s.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(_),A.appendChild(E);var V=s.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],E=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)u=s[A],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||E.push(d);for(A=0;A<E.length;A++)this._map.hasLayer(E[A])&&this._map.removeLayer(E[A]);for(A=0;A<_.length;A++)this._map.hasLayer(_[A])||this._map.addLayer(_[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),E=s.length-1;E>=0;E--)u=s[E],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Lt(s,"click",Le),this.expand();var u=this;setTimeout(function(){me(s,"click",Le),u._preventClick=!1})}}),ro=function(s,u,d){return new dr(s,u,d)},_s=vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Xt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,E){var A=Xt("a",d,_);return A.innerHTML=s,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),ps(A),Lt(A,"click",xi),Lt(A,"click",E,this),Lt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";be(this._zoomInButton,u),be(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(wt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(wt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qt.mergeOptions({zoomControl:!0}),Qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new _s,this.addControl(this.zoomControl))});var $o=function(s){return new _s(s)},ao=vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Xt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Xt("div",u,d)),s.imperial&&(this._iScale=Xt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,E;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(E=this._getRoundNum(u),this._updateScale(this._iScale,E+" ft",E/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),mr=function(s){return new ao(s)},oo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xr=vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(At.inlineSvg?oo+" ":"")+"Leaflet</a>"},initialize:function(s){st(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Xt("div","leaflet-control-attribution"),ps(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Qt.mergeOptions({attributionControl:!0}),Qt.addInitHook(function(){this.options.attributionControl&&new Xr().addTo(this)});var Wr=function(s){return new Xr(s)};vn.Layers=dr,vn.Zoom=_s,vn.Scale=ao,vn.Attribution=Xr,zn.layers=ro,zn.zoom=$o,zn.scale=mr,zn.attribution=Wr;var Yn=Dt.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yn.addTo=function(s,u){return s.addHandler(u,this),this};var tl={Events:$},Ci=At.touch?"touchstart mousedown":"mousedown",Ri=pt.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){st(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Lt(this._dragStartTarget,Ci,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ri._dragging===this&&this.finishDrag(!0),me(this._dragStartTarget,Ci,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!ur(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ri._dragging===this&&this.finishDrag();return}if(!(Ri._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ri._dragging=this,this._preventOutline&&zs(this._element),hr(),ri(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=Qr(this._element);this._startPoint=new ht(u.clientX,u.clientY),this._startPos=Xi(this._element),this._parentScale=Pn(d);var _=s.type==="mousedown";Lt(document,_?"mousemove":"touchmove",this._onMove,this),Lt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new ht(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Le(s),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ee(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){be(document.body,"leaflet-dragging"),this._lastTarget&&(be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),me(document,"mousemove touchmove",this._onMove,this),me(document,"mouseup touchend touchcancel",this._onUp,this),Vs(),nn();var u=this._moved&&this._moving;this._moving=!1,Ri._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function lo(s,u,d){var _,E=[1,4,2,8],A,V,G,X,ot,_t,Nt,Kt;for(A=0,_t=s.length;A<_t;A++)s[A]._code=J(s[A],u);for(G=0;G<4;G++){for(Nt=E[G],_=[],A=0,_t=s.length,V=_t-1;A<_t;V=A++)X=s[A],ot=s[V],X._code&Nt?ot._code&Nt||(Kt=Z(ot,X,Nt,u,d),Kt._code=J(Kt,u),_.push(Kt)):(ot._code&Nt&&(Kt=Z(ot,X,Nt,u,d),Kt._code=J(Kt,u),_.push(Kt)),_.push(X));s=_}return s}function uo(s,u){var d,_,E,A,V,G,X,ot,_t;if(!s||s.length===0)throw new Error("latlngs not passed");ce(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Nt=bt([0,0]),Kt=ft(s),fn=Kt.getNorthWest().distanceTo(Kt.getSouthWest())*Kt.getNorthEast().distanceTo(Kt.getNorthWest());fn<1700&&(Nt=Jr(s));var Ye=s.length,Xn=[];for(d=0;d<Ye;d++){var pe=bt(s[d]);Xn.push(u.project(bt([pe.lat-Nt.lat,pe.lng-Nt.lng])))}for(G=X=ot=0,d=0,_=Ye-1;d<Ye;_=d++)E=Xn[d],A=Xn[_],V=E.y*A.x-A.y*E.x,X+=(E.x+A.x)*V,ot+=(E.y+A.y)*V,G+=V*3;G===0?_t=Xn[0]:_t=[X/G,ot/G];var ge=u.unproject(vt(_t));return bt([ge.lat+Nt.lat,ge.lng+Nt.lng])}function Jr(s){for(var u=0,d=0,_=0,E=0;E<s.length;E++){var A=bt(s[E]);u+=A.lat,d+=A.lng,_++}return bt([u/_,d/_])}var Hs={__proto__:null,clipPolygon:lo,polygonCenter:uo,centroid:Jr};function bn(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=y(s,d),s=ys(s,d),s}function co(s,u,d){return Math.sqrt(jt(s,u,d,!0))}function el(s,u,d){return jt(s,u,d)}function ys(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,E=new _(d);E[0]=E[d-1]=1,f(s,E,u,0,d-1);var A,V=[];for(A=0;A<d;A++)E[A]&&V.push(s[A]);return V}function f(s,u,d,_,E){var A=0,V,G,X;for(G=_+1;G<=E-1;G++)X=jt(s[G],s[_],s[E],!0),X>A&&(V=G,A=X);A>d&&(u[V]=1,f(s,u,d,_,V),f(s,u,d,V,E))}function y(s,u){for(var d=[s[0]],_=1,E=0,A=s.length;_<A;_++)gt(s[_],s[E])>u&&(d.push(s[_]),E=_);return E<A-1&&d.push(s[A-1]),d}var S;function I(s,u,d,_,E){var A=_?S:J(s,d),V=J(u,d),G,X,ot;for(S=V;;){if(!(A|V))return[s,u];if(A&V)return!1;G=A||V,X=Z(s,u,G,d,E),ot=J(X,d),G===A?(s=X,A=ot):(u=X,V=ot)}}function Z(s,u,d,_,E){var A=u.x-s.x,V=u.y-s.y,G=_.min,X=_.max,ot,_t;return d&8?(ot=s.x+A*(X.y-s.y)/V,_t=X.y):d&4?(ot=s.x+A*(G.y-s.y)/V,_t=G.y):d&2?(ot=X.x,_t=s.y+V*(X.x-s.x)/A):d&1&&(ot=G.x,_t=s.y+V*(G.x-s.x)/A),new ht(ot,_t,E)}function J(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function gt(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function jt(s,u,d,_){var E=u.x,A=u.y,V=d.x-E,G=d.y-A,X=V*V+G*G,ot;return X>0&&(ot=((s.x-E)*V+(s.y-A)*G)/X,ot>1?(E=d.x,A=d.y):ot>0&&(E+=V*ot,A+=G*ot)),V=s.x-E,G=s.y-A,_?V*V+G*G:new ht(E,A)}function ce(s){return!xt(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function he(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ce(s)}function Me(s,u){var d,_,E,A,V,G,X,ot;if(!s||s.length===0)throw new Error("latlngs not passed");ce(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var _t=bt([0,0]),Nt=ft(s),Kt=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Kt<1700&&(_t=Jr(s));var fn=s.length,Ye=[];for(d=0;d<fn;d++){var Xn=bt(s[d]);Ye.push(u.project(bt([Xn.lat-_t.lat,Xn.lng-_t.lng])))}for(d=0,_=0;d<fn-1;d++)_+=Ye[d].distanceTo(Ye[d+1])/2;if(_===0)ot=Ye[0];else for(d=0,A=0;d<fn-1;d++)if(V=Ye[d],G=Ye[d+1],E=V.distanceTo(G),A+=E,A>_){X=(A-_)/E,ot=[G.x-X*(G.x-V.x),G.y-X*(G.y-V.y)];break}var pe=u.unproject(vt(ot));return bt([pe.lat+_t.lat,pe.lng+_t.lng])}var oi={__proto__:null,simplify:bn,pointToSegmentDistance:co,closestPointOnSegment:el,clipSegment:I,_getEdgeIntersection:Z,_getBitCode:J,_sqClosestPointOnSegment:jt,isFlat:ce,_flat:he,polylineCenter:Me},li={project:function(s){return new ht(s.lng,s.lat)},unproject:function(s){return new yt(s.y,s.x)},bounds:new B([-180,-90],[180,90])},Qn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,E=this.R_MINOR/d,A=Math.sqrt(1-E*E),V=A*Math.sin(_),G=Math.tan(Math.PI/4-_/2)/Math.pow((1-V)/(1+V),A/2);return _=-d*Math.log(Math.max(G,1e-10)),new ht(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,E=Math.sqrt(1-_*_),A=Math.exp(-s.y/d),V=Math.PI/2-2*Math.atan(A),G=0,X=.1,ot;G<15&&Math.abs(X)>1e-7;G++)ot=E*Math.sin(V),ot=Math.pow((1-ot)/(1+ot),E/2),X=Math.PI/2-2*Math.atan(A*ot)-V,V+=X;return new yt(V*u,s.x*u/d)}},Ii={__proto__:null,LonLat:li,Mercator:Qn,SphericalMercator:ls},pr=l({},xe,{code:"EPSG:3395",projection:Qn,transformation:(function(){var s=.5/(Math.PI*Qn.R);return Ui(s,.5,-s,.5)})()}),gr=l({},xe,{code:"EPSG:4326",projection:li,transformation:Ui(1/180,1,-1/180,.5)}),$r=l({},qt,{projection:li,transformation:Ui(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});qt.Earth=xe,qt.EPSG3395=pr,qt.EPSG3857=Ms,qt.EPSG900913=Bi,qt.EPSG4326=gr,qt.Simple=$r;var Ni=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Qt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?xt(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var E=this._zoomBoundLayers[_].options;s=E.minZoom===void 0?s:Math.min(s,E.minZoom),u=E.maxZoom===void 0?u:Math.max(u,E.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ta=Ni.extend({initialize:function(s,u){st(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),Kf=function(s,u){return new ta(s,u)},ts=ta.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ta.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ta.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ct;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Oc=function(s,u){return new ts(s,u)},es=Dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){st(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var E=vt(_),A=vt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||E&&E.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),E&&(s.style.width=E.x+"px",s.style.height=E.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return At.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ho(s){return new es(s)}var fo=es.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof fo.imagePath!="string"&&(fo.imagePath=this._detectIconPath()),(this.options.imagePath||fo.imagePath)+es.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,E){var A=_.exec(d);return A&&A[E]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Xt("div","leaflet-default-icon-path",document.body),u=Ps(s,"background-image")||Ps(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),mo=Yn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ri(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,A=Xi(u._icon),V=d.getPixelBounds(),G=d.getPixelOrigin(),X=tt(V.min._subtract(G).add(E),V.max._subtract(G).subtract(E));if(!X.contains(A)){var ot=vt((Math.max(X.max.x,A.x)-X.max.x)/(V.max.x-X.max.x)-(Math.min(X.min.x,A.x)-X.min.x)/(V.min.x-X.min.x),(Math.max(X.max.y,A.y)-X.max.y)/(V.max.y-X.max.y)-(Math.min(X.min.y,A.y)-X.min.y)/(V.min.y-X.min.y)).multiplyBy(_);d.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),Ee(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=D(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=Xi(u._icon),E=u._map.layerPointToLatLng(_);d&&Ee(d,_),u._latlng=E,s.latlng=E,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),po=Ni.extend({options:{icon:new fo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){st(this,u),this._latlng=bt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=bt(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),wt(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(d,"focus",this._panOnFocus,this);var E=s.icon.createShadow(this._shadow),A=!1;E!==this._shadow&&(this._removeShadow(),A=!0),E&&(wt(E,u),E.alt=""),this._shadow=E,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ee(this._icon,s),this._shadow&&Ee(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mo)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mo(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ne(this._icon,s),this._shadow&&Ne(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?vt(u.iconSize):vt(0,0),_=u.iconAnchor?vt(u.iconAnchor):vt(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Lc(s,u){return new po(s,u)}var ns=Ni.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return st(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ea=ns.extend({options:{fill:!0,radius:10},initialize:function(s,u){st(this,u),this._latlng=bt(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=bt(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return ns.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new B(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Pc(s,u){return new ea(s,u)}var nl=ea.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),st(this,u),this._latlng=bt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ct(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ns.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===xe.distance){var E=Math.PI/180,A=this._mRadius/xe.R/E,V=d.project([u+A,s]),G=d.project([u-A,s]),X=V.add(G).divideBy(2),ot=d.unproject(X).lat,_t=Math.acos((Math.cos(A*E)-Math.sin(u*E)*Math.sin(ot*E))/(Math.cos(u*E)*Math.cos(ot*E)))/E;(isNaN(_t)||_t===0)&&(_t=A/Math.cos(Math.PI/180*u)),this._point=X.subtract(d.getPixelOrigin()),this._radius=isNaN(_t)?0:X.x-d.project([ot,s-_t]).x,this._radiusY=X.y-V.y}else{var Nt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Nt).x}this._updateBounds()}});function Vc(s,u,d){return new nl(s,u,d)}var vs=ns.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){st(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=jt,E,A,V=0,G=this._parts.length;V<G;V++)for(var X=this._parts[V],ot=1,_t=X.length;ot<_t;ot++){E=X[ot-1],A=X[ot];var Nt=_(s,E,A,!0);Nt<u&&(u=Nt,d=_(s,E,A))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Me(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=bt(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ct,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ce(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=ce(s),_=0,E=s.length;_<E;_++)d?(u[_]=bt(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new ht(s,s);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof yt,E=s.length,A,V;if(_){for(V=[],A=0;A<E;A++)V[A]=this._map.latLngToLayerPoint(s[A]),d.extend(V[A]);u.push(V)}else for(A=0;A<E;A++)this._projectLatlngs(s[A],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,E,A,V,G,X;for(d=0,E=0,A=this._rings.length;d<A;d++)for(X=this._rings[d],_=0,V=X.length;_<V-1;_++)G=I(X[_],X[_+1],s,_,!0),G&&(u[E]=u[E]||[],u[E].push(G[0]),(G[1]!==X[_+1]||_===V-2)&&(u[E].push(G[1]),E++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=bn(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,E,A,V,G,X=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,A=this._parts.length;d<A;d++)for(G=this._parts[d],_=0,V=G.length,E=V-1;_<V;E=_++)if(!(!u&&_===0)&&co(s,G[E],G[_])<=X)return!0;return!1}});function Yf(s,u){return new vs(s,u)}vs._flat=he;var na=vs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return uo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=vs.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof yt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){vs.prototype._setLatLngs.call(this,s),ce(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ce(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new ht(u,u);if(s=new B(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,E=this._rings.length,A;_<E;_++)A=lo(this._rings[_],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,E,A,V,G,X,ot;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,X=this._parts.length;A<X;A++)for(d=this._parts[A],V=0,ot=d.length,G=ot-1;V<ot;G=V++)_=d[V],E=d[G],_.y>s.y!=E.y>s.y&&s.x<(E.x-_.x)*(s.y-_.y)/(E.y-_.y)+_.x&&(u=!u);return u||vs.prototype._containsPoint.call(this,s,!0)}});function Qf(s,u){return new na(s,u)}var bs=ts.extend({initialize:function(s,u){st(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=xt(s)?s:s.features,d,_,E;if(u){for(d=0,_=u.length;d<_;d++)E=u[d],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var V=En(s,A);return V?(V.feature=rl(s),V.defaultOptions=V.options,this.resetStyle(V),A.onEachFeature&&A.onEachFeature(s,V),this.addLayer(V)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function En(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,E=[],A=u&&u.pointToLayer,V=u&&u.coordsToLatLng||il,G,X,ot,_t;if(!_&&!d)return null;switch(d.type){case"Point":return G=V(_),ia(A,s,G,u);case"MultiPoint":for(ot=0,_t=_.length;ot<_t;ot++)G=V(_[ot]),E.push(ia(A,s,G,u));return new ts(E);case"LineString":case"MultiLineString":return X=go(_,d.type==="LineString"?0:1,V),new vs(X,u);case"Polygon":case"MultiPolygon":return X=go(_,d.type==="Polygon"?1:2,V),new na(X,u);case"GeometryCollection":for(ot=0,_t=d.geometries.length;ot<_t;ot++){var Nt=En({geometry:d.geometries[ot],type:"Feature",properties:s.properties},u);Nt&&E.push(Nt)}return new ts(E);case"FeatureCollection":for(ot=0,_t=d.features.length;ot<_t;ot++){var Kt=En(d.features[ot],u);Kt&&E.push(Kt)}return new ts(E);default:throw new Error("Invalid GeoJSON object.")}}function ia(s,u,d,_){return s?s(u,d):new po(d,_&&_.markersInheritOptions&&_)}function il(s){return new yt(s[1],s[0],s[2])}function go(s,u,d){for(var _=[],E=0,A=s.length,V;E<A;E++)V=u?go(s[E],u-1,d):(d||il)(s[E]),_.push(V);return _}function sl(s,u){return s=bt(s),s.alt!==void 0?[P(s.lng,u),P(s.lat,u),P(s.alt,u)]:[P(s.lng,u),P(s.lat,u)]}function _o(s,u,d,_){for(var E=[],A=0,V=s.length;A<V;A++)E.push(u?_o(s[A],ce(s[A])?0:u-1,d,_):sl(s[A],_));return!u&&d&&E.length>0&&E.push(E[0].slice()),E}function qs(s,u){return s.feature?l({},s.feature,{geometry:u}):rl(u)}function rl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Fs={toGeoJSON:function(s){return qs(this,{type:"Point",coordinates:sl(this.getLatLng(),s)})}};po.include(Fs),nl.include(Fs),ea.include(Fs),vs.include({toGeoJSON:function(s){var u=!ce(this._latlngs),d=_o(this._latlngs,u?1:0,!1,s);return qs(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),na.include({toGeoJSON:function(s){var u=!ce(this._latlngs),d=u&&!ce(this._latlngs[0]),_=_o(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),qs(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),ta.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),qs(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(E){if(E.toGeoJSON){var A=E.toGeoJSON(s);if(d)_.push(A.geometry);else{var V=rl(A);V.type==="FeatureCollection"?_.push.apply(_,V.features):_.push(V)}}}),d?qs(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function al(s,u){return new bs(s,u)}var yo=al,sa=Ni.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=ft(u),st(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Oe(this._image),this},bringToBack:function(){return this._map&&Zn(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ft(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Xt("img");if(wt(u,"leaflet-image-layer"),this._zoomAnimated&&wt(u,"leaflet-zoom-animated"),this.options.className&&wt(u,this.options.className),u.onselectstart=N,u.onmousemove=N,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;wi(this._image,d,u)},_reset:function(){var s=this._image,u=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();Ee(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),zc=function(s,u,d){return new sa(s,u,d)},Gs=sa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Xt("video");if(wt(u,"leaflet-image-layer"),this._zoomAnimated&&wt(u,"leaflet-zoom-animated"),this.options.className&&wt(u,this.options.className),u.onselectstart=N,u.onmousemove=N,u.onloadeddata=p(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],E=0;E<d.length;E++)_.push(d[E].src);this._url=d.length>0?_:[u.src];return}xt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var V=Xt("source");V.src=this._url[A],u.appendChild(V)}}});function ra(s,u,d){return new Gs(s,u,d)}var ol=sa.extend({_initImage:function(){var s=this._image=this._url;wt(s,"leaflet-image-layer"),this._zoomAnimated&&wt(s,"leaflet-zoom-animated"),this.options.className&&wt(s,this.options.className),s.onselectstart=N,s.onmousemove=N}});function jc(s,u,d){return new ol(s,u,d)}var Tn=Ni.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof yt||xt(s))?(this._latlng=bt(s),st(this,u)):(st(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ne(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ne(this._container,0),this._removeTimeout=setTimeout(p(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=bt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oe(this._container),this},bringToBack:function(){return this._map&&Zn(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof ts){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=vt(this.options.offset),d=this._getAnchor();this._zoomAnimated?Ee(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Qt.include({_initOverlay:function(s,u,d,_){var E=u;return E instanceof s||(E=new s(_).setContent(u)),d&&E.setLatLng(d),E}}),Ni.include({_initOverlay:function(s,u,d,_){var E=d;return E instanceof s?(st(E,_),E._source=this):(E=u&&!_?u:new s(_,this),E.setContent(d)),E}});var vo=Tn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Tn.prototype.openOn.call(this,s)},onAdd:function(s){Tn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ns||this._source.on("preclick",ne))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ns||this._source.off("preclick",ne))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Xt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Xt("div",s+"-content-wrapper",u);if(this._contentNode=Xt("div",s+"-content",d),ps(u),ai(this._contentNode),Lt(u,"contextmenu",ne),this._tipContainer=Xt("div",s+"-tip-container",u),this._tip=Xt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Xt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(_,"click",function(E){Le(E),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,E=this.options.maxHeight,A="leaflet-popup-scrolled";E&&_>E?(u.height=E+"px",wt(s,A)):be(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();Ee(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Ps(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,E=new ht(this._containerLeft,-d-this._containerBottom);E._add(Xi(this._container));var A=s.layerPointToContainerPoint(E),V=vt(this.options.autoPanPadding),G=vt(this.options.autoPanPaddingTopLeft||V),X=vt(this.options.autoPanPaddingBottomRight||V),ot=s.getSize(),_t=0,Nt=0;A.x+_+X.x>ot.x&&(_t=A.x+_-ot.x+X.x),A.x-_t-G.x<0&&(_t=A.x-G.x),A.y+d+X.y>ot.y&&(Nt=A.y+d-ot.y+X.y),A.y-Nt-G.y<0&&(Nt=A.y-G.y),(_t||Nt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([_t,Nt]))}},_getAnchor:function(){return vt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Uc=function(s,u){return new vo(s,u)};Qt.mergeOptions({closePopupOnClick:!0}),Qt.include({openPopup:function(s,u,d){return this._initOverlay(vo,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Ni.include({bindPopup:function(s,u){return this._popup=this._initOverlay(vo,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ts||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){xi(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof ns)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var bo=Tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Tn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,E=this._container,A=_.latLngToContainerPoint(_.getCenter()),V=_.layerPointToContainerPoint(s),G=this.options.direction,X=E.offsetWidth,ot=E.offsetHeight,_t=vt(this.options.offset),Nt=this._getAnchor();G==="top"?(u=X/2,d=ot):G==="bottom"?(u=X/2,d=0):G==="center"?(u=X/2,d=ot/2):G==="right"?(u=0,d=ot/2):G==="left"?(u=X,d=ot/2):V.x<A.x?(G="right",u=0,d=ot/2):(G="left",u=X+(_t.x+Nt.x)*2,d=ot/2),s=s.subtract(vt(u,d,!0)).add(_t).add(Nt),be(E,"leaflet-tooltip-right"),be(E,"leaflet-tooltip-left"),be(E,"leaflet-tooltip-top"),be(E,"leaflet-tooltip-bottom"),wt(E,"leaflet-tooltip-"+G),Ee(E,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ne(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return vt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xf=function(s,u){return new bo(s,u)};Qt.include({openTooltip:function(s,u,d){return this._initOverlay(bo,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Ni.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(bo,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ts||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Lt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Lt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Bc=es.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(ke(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=vt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Wf(s){return new Bc(s)}es.Default=fo;var aa=Ni.extend({options:{tileSize:256,opacity:1,updateWhenIdle:At.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){st(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Wt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ht?s:new ht(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,E=u.length,A;_<E;_++)A=u[_].style.zIndex,u[_]!==this._container&&A&&(d=s(d,+A));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!At.ielt9){Ne(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var E=this._tiles[_];if(!(!E.current||!E.loaded)){var A=Math.min(1,(s-E.loaded)/200);Ne(E.el,A),A<1?u=!0:(E.active?d=!0:this._onOpaqueTile(E),E.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(H(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=Xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(Wt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],E=this._map;return _||(_=this._levels[s]={},_.el=Xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=E.project(E.unproject(E.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,E.getCenter(),E.getZoom()),N(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Wt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var E=Math.floor(s/2),A=Math.floor(u/2),V=d-1,G=new ht(+E,+A);G.z=+V;var X=this._tileCoordsToKey(G),ot=this._tiles[X];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),V>_?this._retainParent(E,A,V,_):!1)},_retainChildren:function(s,u,d,_){for(var E=2*s;E<2*s+2;E++)for(var A=2*u;A<2*u+2;A++){var V=new ht(E,A);V.z=d+1;var G=this._tileCoordsToKey(V),X=this._tiles[G];if(X&&X.active){X.retain=!0;continue}else X&&X.loaded&&(X.retain=!0);d+1<_&&this._retainChildren(E,A,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var E=Math.round(u);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var A=this.options.updateWhenZooming&&E!==this._tileZoom;(!_||A)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),E=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();At.any3d?wi(s.el,E,_):Ee(s.el,E)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),E=u.project(s,this._tileZoom).floor(),A=u.getSize().divideBy(_*2);return new B(E.subtract(A),E.add(A))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),E=this._pxBoundsToTileRange(_),A=E.getCenter(),V=[],G=this.options.keepBuffer,X=new B(E.getBottomLeft().subtract([G,-G]),E.getTopRight().add([G,-G]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var _t=this._tiles[ot].coords;(_t.z!==this._tileZoom||!X.contains(new ht(_t.x,_t.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var Nt=E.min.y;Nt<=E.max.y;Nt++)for(var Kt=E.min.x;Kt<=E.max.x;Kt++){var fn=new ht(Kt,Nt);if(fn.z=this._tileZoom,!!this._isValidTile(fn)){var Ye=this._tiles[this._tileCoordsToKey(fn)];Ye?Ye.current=!0:V.push(fn)}}if(V.sort(function(pe,ge){return pe.distanceTo(A)-ge.distanceTo(A)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xn=document.createDocumentFragment();for(Kt=0;Kt<V.length;Kt++)this._addTile(V[Kt],Xn);this._level.el.appendChild(Xn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return ft(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),E=_.add(d),A=u.unproject(_,s.z),V=u.unproject(E,s.z);return[A,V]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new ct(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new ht(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(Wt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){wt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=N,s.onmousemove=N,At.ielt9&&this.options.opacity<1&&Ne(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),E=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(E),this.createTile.length<2&&D(p(this._tileReady,this,s,null,E)),Ee(E,d),this._tiles[_]={el:E,coords:s,current:!0},u.appendChild(E),this.fire("tileloadstart",{tile:E,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ne(d.el,0),H(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(wt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),At.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new ht(this._wrapX?R(s.x,this._wrapX):s.x,this._wrapY?R(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new B(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Hc(s){return new aa(s)}var Zs=aa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=st(this,u),u.detectRetina&&At.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Lt(d,"load",p(this._tileOnLoad,this,u,d)),Lt(d,"error",p(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:At.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return Rt(this._url,l(u,this.options))},_tileOnLoad:function(s,u){At.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=N,u.onerror=N,!u.complete)){u.src=le;var d=this._tiles[s].coords;Wt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",le),aa.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===le))return aa.prototype._tileReady.call(this,s,u,d)}});function ui(s,u){return new Zs(s,u)}var Eo=Zs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=st(this,u);var E=u.detectRetina&&At.retina?2:1,A=this.getTileSize();d.width=A.x*E,d.height=A.y*E,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Zs.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=tt(d.project(u[0]),d.project(u[1])),E=_.min,A=_.max,V=(this._wmsVersion>=1.3&&this._crs===gr?[E.y,E.x,A.y,A.x]:[E.x,E.y,A.x,A.y]).join(","),G=Zs.prototype.getTileUrl.call(this,s);return G+dt(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function ci(s,u){return new Eo(s,u)}Zs.WMS=Eo,ui.wms=ci;var jn=Ni.extend({options:{padding:.1},initialize:function(s){st(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,u),A=_.multiplyBy(-d).add(E).subtract(this._map._getNewPixelOrigin(s,u));At.any3d?wi(this._container,A,d):Ee(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new B(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ll=jn.extend({options:{tolerance:0},getEvents:function(){var s=jn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){jn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Lt(s,"mousemove",this._onMouseMove,this),Lt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Wt(this._container),me(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jn.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=At.retina?2:1;Ee(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",At.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){jn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,E;for(E=0;E<u.length;E++){if(_=Number(u[E]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,E,A,V=s._parts,G=V.length,X=this._ctx;if(G){for(X.beginPath(),d=0;d<G;d++){for(_=0,E=V[d].length;_<E;_++)A=V[d][_],X[_?"lineTo":"moveTo"](A.x,A.y);u&&X.closePath()}this._fillStroke(X,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),E=(Math.max(Math.round(s._radiusY),1)||_)/_;E!==1&&(d.save(),d.scale(1,E)),d.beginPath(),d.arc(u.x,u.y/E,_,0,Math.PI*2,!1),E!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,E=this._drawFirst;E;E=E.next)d=E.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(be(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,E=this._drawFirst;E;E=E.next)d=E.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(wt(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function To(s){return At.canvas?new ll(s):null}var Ks=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),cu={_initContainer:function(){this._container=Xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(jn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Ks("shape");wt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Ks("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Wt(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,E=s._container;E.stroked=!!_.stroke,E.filled=!!_.fill,_.stroke?(u||(u=s._stroke=Ks("stroke")),E.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=xt(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(E.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=Ks("fill")),E.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(E.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Oe(s._container)},_bringToBack:function(s){Zn(s._container)}},is=At.vml?Ks:Br,oa=jn.extend({_initContainer:function(){this._container=is("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=is("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),me(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jn.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),Ee(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=is("path");s.options.className&&wt(u,s.options.className),s.options.interactive&&wt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Wt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Ds(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,E="a"+d+","+_+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+E+d*2+",0 "+E+-d*2+",0 ";this._setPath(s,A)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Oe(s._path)},_bringToBack:function(s){Zn(s._path)}});At.vml&&oa.include(cu);function wo(s){return At.svg||At.vml?new oa(s):null}Qt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&To(s)||wo(s)}});var _r=na.extend({initialize:function(s,u){na.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ft(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Jf(s,u){return new _r(s,u)}oa.create=is,oa.pointsToPath=Ds,bs.geometryToLayer=En,bs.coordsToLatLng=il,bs.coordsToLatLngs=go,bs.latLngToCoords=sl,bs.latLngsToCoords=_o,bs.getFeature=qs,bs.asFeature=rl,Qt.mergeOptions({boxZoom:!0});var Un=Yn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ri(),hr(),this._startPoint=this._map.mouseEventToContainerPoint(s),Lt(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Xt("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new B(this._point,this._startPoint),d=u.getSize();Ee(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Wt(this._box),be(this._container,"leaflet-crosshair")),nn(),Vs(),me(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qt.addInitHook("addHandler","boxZoom",Un),Qt.mergeOptions({doubleClickZoom:!0});var ul=Yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,E=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(E):u.setZoomAround(s.containerPoint,E)}});Qt.addInitHook("addHandler","doubleClickZoom",ul),Qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ss=Yn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ri(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){be(this._map._container,"leaflet-grab"),be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ft(this._map.options.maxBounds);this._offsetLimit=tt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,E=(_-u+d)%s+u-d,A=(_+u+d)%s-u-d,V=Math.abs(E+d)<Math.abs(A+d)?E:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,V=d.easeLinearity,G=E.multiplyBy(V/A),X=G.distanceTo([0,0]),ot=Math.min(d.inertiaMaxSpeed,X),_t=G.multiplyBy(ot/X),Nt=ot/(d.inertiaDeceleration*V),Kt=_t.multiplyBy(-Nt/2).round();!Kt.x&&!Kt.y?u.fire("moveend"):(Kt=u._limitOffset(Kt,u.options.maxBounds),D(function(){u.panBy(Kt,{duration:Nt,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Qt.addInitHook("addHandler","dragging",ss),Qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hu=Yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Lt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),me(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,E;for(_=0,E=d.left.length;_<E;_++)u[d.left[_]]=[-1*s,0];for(_=0,E=d.right.length;_<E;_++)u[d.right[_]]=[s,0];for(_=0,E=d.down.length;_<E;_++)u[d.down[_]]=[0,s];for(_=0,E=d.up.length;_<E;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,E;for(_=0,E=d.zoomIn.length;_<E;_++)u[d.zoomIn[_]]=s;for(_=0,E=d.zoomOut.length;_<E;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){me(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=vt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(vt(_),d.options.maxBounds)),d.options.worldCopyJump){var E=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(E)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;xi(s)}}});Qt.addInitHook("addHandler","keyboard",hu),Qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xo=Yn.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=sn(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),_),xi(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,A=d?Math.ceil(E/d)*d:E,V=s._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,V&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+V):s.setZoomAround(this._lastMousePos,u+V))}});Qt.addInitHook("addHandler","scrollWheelZoom",xo);var yr=600;Qt.mergeOptions({tapHold:At.touchNative&&At.safari&&At.mobile,tapTolerance:15});var cl=Yn.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new ht(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",Le),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),yr),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){me(document,"touchend",Le),me(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new ht(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Qt.addInitHook("addHandler","tapHold",cl),Qt.mergeOptions({touchZoom:At.touch,bounceAtZoomLimits:!0});var fu=Yn.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){be(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),Le(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),E=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(E,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&E<1||this._zoom>u.getMaxZoom()&&E>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var A=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(E===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var V=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(V,this,!0),Le(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qt.addInitHook("addHandler","touchZoom",fu),Qt.BoxZoom=Un,Qt.DoubleClickZoom=ul,Qt.Drag=ss,Qt.Keyboard=hu,Qt.ScrollWheelZoom=xo,Qt.TapHold=cl,Qt.TouchZoom=fu,n.Bounds=B,n.Browser=At,n.CRS=qt,n.Canvas=ll,n.Circle=nl,n.CircleMarker=ea,n.Class=Dt,n.Control=vn,n.DivIcon=Bc,n.DivOverlay=Tn,n.DomEvent=$i,n.DomUtil=js,n.Draggable=Ri,n.Evented=pt,n.FeatureGroup=ts,n.GeoJSON=bs,n.GridLayer=aa,n.Handler=Yn,n.Icon=es,n.ImageOverlay=sa,n.LatLng=yt,n.LatLngBounds=ct,n.Layer=Ni,n.LayerGroup=ta,n.LineUtil=oi,n.Map=Qt,n.Marker=po,n.Mixin=tl,n.Path=ns,n.Point=ht,n.PolyUtil=Hs,n.Polygon=na,n.Polyline=vs,n.Popup=vo,n.PosAnimation=gs,n.Projection=Ii,n.Rectangle=_r,n.Renderer=jn,n.SVG=oa,n.SVGOverlay=ol,n.TileLayer=Zs,n.Tooltip=bo,n.Transformation=Ns,n.Util=k,n.VideoOverlay=Gs,n.bind=p,n.bounds=tt,n.canvas=To,n.circle=Vc,n.circleMarker=Pc,n.control=zn,n.divIcon=Wf,n.extend=l,n.featureGroup=Oc,n.geoJSON=al,n.geoJson=yo,n.gridLayer=Hc,n.icon=ho,n.imageOverlay=zc,n.latLng=bt,n.latLngBounds=ft,n.layerGroup=Kf,n.map=Bs,n.marker=Lc,n.point=vt,n.polygon=Qf,n.polyline=Yf,n.popup=Uc,n.rectangle=Jf,n.setOptions=st,n.stamp=v,n.svg=wo,n.svgOverlay=jc,n.tileLayer=ui,n.tooltip=Xf,n.transformation=Ui,n.version=a,n.videoOverlay=ra;var du=window.L;n.noConflict=function(){return window.L=du,this},window.L=n}))})($u,$u.exports)),$u.exports}var kc=WN();const HE=a1(kc);function yg(r,t,n){return Object.freeze({instance:r,context:t,container:n})}function vg(r,t){return t==null?function(a,l){const h=mt.useRef(void 0);return h.current||(h.current=r(a,l)),h}:function(a,l){const h=mt.useRef(void 0);h.current||(h.current=r(a,l));const p=mt.useRef(a),{instance:b}=h.current;return mt.useEffect(function(){p.current!==a&&(t(b,a,p.current),p.current=a)},[b,a,t]),h}}function JN(r,t){mt.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){t.layerContainer?.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function qE(r){return function(n){const a=UE(),l=r(_g(n,a),a);return jE(a.map,n.attribution),BE(l.current,n.eventHandlers),JN(l.current,a),l}}function $N(r,t){const n=vg(r,t),a=qE(n);return ZN(a)}function tM(r,t){const n=vg(r),a=QN(n,t);return KN(a)}function eM(r,t){const n=vg(r,t),a=qE(n);return YN(a)}function nM(r,t,n){const{opacity:a,zIndex:l}=t;a!=null&&a!==n.opacity&&r.setOpacity(a),l!=null&&l!==n.zIndex&&r.setZIndex(l)}function iM({bounds:r,boundsOptions:t,center:n,children:a,className:l,id:h,placeholder:p,style:b,whenReady:v,zoom:T,...R},N){const[P]=mt.useState({className:l,id:h,style:b}),[K,it]=mt.useState(null),st=mt.useRef(void 0);mt.useImperativeHandle(N,()=>K?.map??null,[K]);const dt=mt.useCallback(Rt=>{if(Rt!==null&&!st.current){const xt=new kc.Map(Rt,R);st.current=xt,n!=null&&T!=null?xt.setView(n,T):r!=null&&xt.fitBounds(r,t),v!=null&&xt.whenReady(v),it(FN(xt))}},[]);mt.useEffect(()=>()=>{K?.map.remove()},[K]);const Tt=K?Zm.createElement(gg,{value:K},a):p??null;return Zm.createElement("div",{...P,ref:dt},Tt)}const sM=mt.forwardRef(iM),s1=$N(function({position:t,...n},a){const l=new kc.Marker(t,n);return yg(l,GN(a,{overlayContainer:l}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),r1=tM(function(t,n){const a=new kc.Popup(t,n.overlayContainer);return yg(a,n)},function(t,n,{position:a},l){mt.useEffect(function(){const{instance:p}=t;function b(T){T.popup===p&&(p.update(),l(!0))}function v(T){T.popup===p&&l(!1)}return n.map.on({popupopen:b,popupclose:v}),n.overlayContainer==null?(a!=null&&p.setLatLng(a),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){n.map.off({popupopen:b,popupclose:v}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(p)}},[t,n,l,a])}),rM=eM(function({url:t,...n},a){const l=new kc.TileLayer(t,_g(n,a));return yg(l,a)},function(t,n,a){nM(t,n,a);const{url:l}=n;l!=null&&l!==a.url&&t.setUrl(l)}),aM=new HE.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),oM=new HE.divIcon({className:"custom-event-pin",html:'<div style="background-color: #111; color: white; border-radius: 50%; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border: 3px solid white; shadow: 0 10px 15px rgba(0,0,0,0.3);"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></div>',iconSize:[36,36],iconAnchor:[18,18],popupAnchor:[0,-18]}),lM=({hoteles:r,evento:t,onSelectHotel:n})=>{const a=t?.lat&&t?.lng?[Number(t.lat),Number(t.lng)]:r?.length>0&&r[0].lat&&r[0].lng?[Number(r[0].lat),Number(r[0].lng)]:[19.4382,-99.2185];return x.jsxs("div",{className:"w-full h-full relative z-0",children:[x.jsxs(sM,{center:a,zoom:14,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[x.jsx(rM,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t?.lat&&t?.lng&&x.jsx(s1,{position:[Number(t.lat),Number(t.lng)],icon:oM,children:x.jsx(r1,{className:"rounded-xl overflow-hidden",children:x.jsxs("div",{className:"text-center p-2",children:[x.jsx("span",{className:"bg-[#111] text-white text-[8px] uppercase tracking-widest px-2 py-1 rounded-full mb-2 inline-block",children:"Sede Oficial"}),x.jsx("h4",{className:"font-black text-[#E91E63] uppercase tracking-tighter mb-1",children:t.nombre||"Evento"}),x.jsx("p",{className:"text-gray-500 font-bold text-[10px] uppercase",children:t.direccion})]})})}),r.map(l=>!l.lat||!l.lng?null:x.jsx(s1,{position:[Number(l.lat),Number(l.lng)],icon:aM,children:x.jsx(r1,{className:"rounded-xl overflow-hidden",children:x.jsxs("div",{className:"text-center p-1",children:[x.jsx("h4",{className:"font-black text-[#111] uppercase tracking-tighter mb-1",children:l.nombre}),x.jsxs("p",{className:"text-[#E91E63] font-bold text-xs mb-3",children:["Desde $",Number(l.precioSencilla||l.precio||0).toLocaleString()]}),x.jsx("button",{onClick:()=>n(l),className:"w-full bg-[#111] text-white py-2 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-[#E91E63] transition-colors",children:"Ver Hotel"})]})})},l.id))]}),x.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-[400] bg-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-2 pointer-events-none",children:[x.jsx(yc,{size:16,className:"text-[#E91E63]"}),x.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-[#111]",children:"Explora la Zona"})]})]})},uM=({hoteles:r,loading:t,evento:n,onSelectHotel:a})=>t?x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center font-black text-[#E91E63]",children:[x.jsx(jr,{className:"animate-spin mb-4",size:40}),x.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em]",children:"Sincronizando..."})]}):x.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)] overflow-hidden bg-gray-50/30 animate-in fade-in duration-500",children:[x.jsx("section",{className:"bg-white border-b border-gray-100 px-6 py-8 md:px-12 md:py-10 flex-shrink-0 relative z-20 shadow-sm",children:x.jsxs("div",{className:"max-w-[1600px] mx-auto flex flex-col md:flex-row items-center gap-8 md:gap-10",children:[n?.logoUrl&&x.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 bg-white rounded-[2rem] shadow-xl overflow-hidden flex-shrink-0 border-4 border-gray-50 p-3",children:x.jsx("img",{src:n.logoUrl,alt:"Logo Evento",className:"w-full h-full object-contain"})}),x.jsxs("div",{className:"flex-1 text-center md:text-left",children:[x.jsx("span",{className:"bg-[#111] text-white text-[10px] font-black px-4 py-2 rounded-full uppercase tracking-[0.3em] mb-4 inline-block",children:"Hospedaje Oficial"}),x.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-[#111] uppercase italic tracking-tighter leading-none mb-5",children:n?.nombre||"Evento Indipris"}),x.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 text-[#111] font-bold text-[10px] md:text-xs uppercase tracking-widest",children:[x.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 px-4 py-2.5 rounded-xl",children:[x.jsx(_p,{size:16,className:"text-[#E91E63]"}),n?.fechaInicio," - ",n?.fechaFin]}),x.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 px-4 py-2.5 rounded-xl",children:[x.jsx(yc,{size:16,className:"text-[#E91E63]"}),n?.direccion||"Sede por definir"]})]})]})]})}),x.jsxs("div",{className:"flex flex-1 overflow-hidden max-w-[1600px] mx-auto w-full",children:[x.jsx("section",{className:"w-full lg:w-[60%] overflow-y-auto p-6 md:p-10 custom-scrollbar",children:x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-20",children:r.map(l=>x.jsx(BN,{hotel:l,onClick:()=>a(l)},l.id))})}),x.jsx("section",{className:"hidden lg:block w-[40%] bg-gray-200 border-l border-gray-100 relative h-full",children:x.jsx(lM,{hoteles:r,evento:n,onSelectHotel:a})})]})]}),cM=({hotel:r,inventario:t={},range:n,setRange:a,roomType:l})=>{const[h,p]=mt.useState(new Date(2026,8,1)),v=((K,it)=>{const st=new Date(K,it,1),dt=[];for(;st.getMonth()===it;)dt.push(new Date(st)),st.setDate(st.getDate()+1);return dt})(h.getFullYear(),h.getMonth()),T=v[0].getDay(),R=K=>{!n.start||n.start&&n.end?a({start:K,end:null}):new Date(K)<new Date(n.start)?a({start:K,end:null}):K!==n.start&&a({...n,end:K})},N=K=>K===n.start||K===n.end,P=K=>!n.start||!n.end?!1:K>n.start&&K<n.end;return x.jsxs("div",{className:"select-none",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("button",{onClick:()=>p(new Date(h.setMonth(h.getMonth()-1))),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:x.jsx(fg,{size:18})}),x.jsx("h4",{className:"font-black uppercase text-[10px] tracking-widest",children:h.toLocaleString("es-MX",{month:"long",year:"numeric"})}),x.jsx("button",{onClick:()=>p(new Date(h.setMonth(h.getMonth()+1))),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:x.jsx(LE,{size:18})})]}),x.jsx("div",{className:"grid grid-cols-7 mb-2",children:["D","L","M","Mi","J","V","S"].map(K=>x.jsx("div",{className:"text-center text-[9px] font-black text-gray-300 py-2",children:K},K))}),x.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[[...Array(T)].map((K,it)=>x.jsx("div",{},`empty-${it}`)),v.map(K=>{const it=K.getFullYear(),st=String(K.getMonth()+1).padStart(2,"0"),dt=String(K.getDate()).padStart(2,"0"),Tt=`${it}-${st}-${dt}`,Rt=t[Tt],xt=Rt?.disponible??Rt?.inventarioTotal??0,Ut=Number(xt)>0,le=l==="sencilla"?Rt?.precioSencilla||r.basePrice||0:Rt?.precioDoble||r.basePrice*1.2||0,Ot=N(Tt),j=P(Tt);return x.jsxs("div",{onClick:()=>Ut&&R(Tt),className:`
                relative h-14 flex flex-col items-center justify-center rounded-2xl cursor-pointer transition-all
                ${Ut?"hover:scale-105":"opacity-20 cursor-not-allowed grayscale"}
                ${Ot?"bg-[#E91E63] text-white shadow-lg z-10":""}
                ${j?"bg-pink-50 text-[#E91E63] rounded-none":""}
                ${!Ot&&!j?"hover:bg-gray-50":""}
              `,children:[x.jsx("span",{className:`text-[11px] font-black ${Ot?"text-white":"text-[#111]"}`,children:K.getDate()}),Ut&&x.jsxs("span",{className:`text-[7px] font-bold mt-1 ${Ot?"text-white/80":"text-gray-400"}`,children:["$",Number(le).toLocaleString()]}),Ut&&Number(xt)<5&&!Ot&&x.jsx("div",{className:"absolute top-1 right-1 w-1 h-1 bg-orange-500 rounded-full"})]},Tt)})]})]})},hM=({hotelSelected:r,onBack:t})=>{const[n,a]=mt.useState(1),[l,h]=mt.useState(!1),[p,b]=mt.useState(!1),[v,T]=mt.useState(""),[R,N]=mt.useState({}),[P,K]=mt.useState("sencilla"),[it,st]=mt.useState({start:null,end:null}),[dt,Tt]=mt.useState(0),[Rt,xt]=mt.useState(0),[Ut,le]=mt.useState({nombre:"",email:"",telefono:""}),[Ot,j]=mt.useState({number:"",name:"",expiry:"",cvc:""});mt.useEffect(()=>{if(!r?.id)return;r.stock_por_dia&&N(r.stock_por_dia);const M=pc(kn,`${Ul}/hoteles/${r.id}/inventario`),D=Uf(M,H=>{if(!H.empty){const k={};H.forEach(Dt=>{k[Dt.id]=Dt.data()}),N(Dt=>({...Dt,...k}))}});return()=>D()},[r]),mt.useEffect(()=>{if(it.start&&it.end){const M=new Date(it.start+"T00:00:00"),D=new Date(it.end+"T00:00:00");let H=0,k=0,Dt=new Date(M);for(;Dt<D;){const ee=Dt.toISOString().split("T")[0],$=R[ee],pt=$?.disponible??$?.inventarioTotal??0;if(Number(pt)>0){let ht=P==="sencilla"?$?.precioSencilla||r.precioSencilla||0:$?.precioDoble||r.precioDoble||0;H+=Number(ht),k++}Dt.setDate(Dt.getDate()+1)}Tt(k),xt(H)}},[it,P,R,r]);const O=M=>{let D=M.target.value.replace(/\D/g,"");D.length>2&&(D=D.substring(0,2)+"/"+D.substring(2,4)),j({...Ot,expiry:D})},z=async()=>{if(n===1)return a(2);if(n===2)return!Ut.nombre||!Ut.email?alert("Faltan datos de contacto"):a(3);h(!0);const M=`IND-${Math.random().toString(36).substr(2,7).toUpperCase()}`;T(M);try{const D=Pi(kn,`${Ul}/hoteles`,r.id),H=pc(kn,`${Ul}/reservas`);await SC(kn,async k=>{const Dt=await k.get(D);if(!Dt.exists())throw"El hotel no existe.";const ee=!!Dt.data().stock_por_dia;let $=ee?{...Dt.data().stock_por_dia}:null;const pt=new Date(it.start+"T00:00:00"),ht=new Date(it.end+"T00:00:00");let Gt=new Date(pt);const vt=[];for(;Gt<ht;){const tt=Gt.getFullYear(),ct=String(Gt.getMonth()+1).padStart(2,"0"),ft=String(Gt.getDate()).padStart(2,"0");vt.push(`${tt}-${ct}-${ft}`),Gt.setDate(Gt.getDate()+1)}for(const tt of vt)if(ee){const ct=$[tt];if(!ct)throw`No hay disponibilidad configurada para el ${tt}.`;const ft=ct.disponible??ct.inventarioTotal??0;if(Number(ft)<=0)throw`Lo sentimos, la fecha ${tt} acaba de agotarse.`;ct.disponible!==void 0?$[tt]={...ct,disponible:Number(ft)-1}:$[tt]={...ct,inventarioTotal:Number(ft)-1}}else{const ct=Pi(kn,`${Ul}/hoteles/${r.id}/inventario`,tt),ft=await k.get(ct);if(!ft.exists())throw`No hay disponibilidad configurada para el ${tt}.`;const yt=ft.data().inventarioTotal??ft.data().disponible??0;if(Number(yt)<=0)throw`Lo sentimos, la fecha ${tt} acaba de agotarse.`;ft.data().inventarioTotal!==void 0?k.update(ct,{inventarioTotal:Number(yt)-1}):k.update(ct,{disponible:Number(yt)-1})}ee&&k.update(D,{stock_por_dia:$});const B=Pi(H);k.set(B,{hotelId:r.id,hotelNombre:r.nombre,cliente:Ut,reserva:{range:it,nights:dt,roomType:P,total:Rt},folio:M,status:"paid",createdAt:gC()})}),setTimeout(()=>{h(!1),b(!0)},2500)}catch(D){console.error("Error Transaccin: ",D),alert(typeof D=="string"?D:"Hubo un error al procesar tu reserva. Intenta de nuevo."),h(!1)}};return p?x.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6 text-center animate-in zoom-in duration-700",children:[x.jsx("div",{className:"bg-yellow-400 text-white p-6 rounded-full mb-8 shadow-2xl animate-bounce",children:x.jsx(TN,{size:60})}),x.jsx("h1",{className:"text-5xl font-black uppercase italic tracking-tighter mb-4",children:"Hecho!"}),x.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-[0.3em] mb-10",children:"Reserva confirmada con el folio:"}),x.jsx("div",{className:"bg-gray-50 p-10 rounded-[3rem] border-2 border-dashed border-gray-200 w-full max-w-sm mb-10 text-center",children:x.jsx("p",{className:"text-4xl font-black tracking-[0.1em] text-[#E91E63]",children:v})}),x.jsx("button",{onClick:t,className:"w-full max-w-xs bg-[#111] text-white py-6 rounded-2xl font-black uppercase text-xs tracking-widest",children:"FINALIZAR"})]}):x.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] pb-24",children:[x.jsx("header",{className:"bg-white border-b border-gray-100 p-6 sticky top-0 z-50",children:x.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[x.jsxs("button",{onClick:n===1?t:()=>a(n-1),className:"flex items-center gap-2 font-black text-[10px] uppercase tracking-widest text-gray-400",children:[x.jsx(fg,{size:20})," REGRESAR"]}),x.jsx("div",{className:"flex gap-2",children:[1,2,3].map(M=>x.jsx("div",{className:`h-1.5 w-10 rounded-full transition-all duration-500 ${n>=M?"bg-[#E91E63]":"bg-gray-100"}`},M))}),x.jsx("div",{className:"w-10"})]})}),x.jsxs("main",{className:"max-w-7xl mx-auto p-8 grid grid-cols-1 lg:grid-cols-12 gap-10",children:[x.jsxs("div",{className:"lg:col-span-8",children:[n===1&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-left duration-500",children:[x.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-xl border border-gray-50",children:[x.jsx("h3",{className:"font-black uppercase text-[10px] text-gray-400 mb-6 tracking-widest",children:"1. Seleccin de fechas"}),x.jsx(cM,{hotel:r,inventario:R,range:it,setRange:st,roomType:P})]}),x.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-xl border border-gray-50",children:[x.jsx("h3",{className:"font-black uppercase text-[10px] text-gray-400 mb-6 tracking-widest",children:"2. Tipo de Habitacin"}),["sencilla","doble"].map(M=>x.jsxs("button",{onClick:()=>K(M),className:`w-full p-6 mb-4 rounded-2xl border-2 flex items-center justify-between transition-all ${P===M?"border-[#E91E63] bg-pink-50":"border-gray-50 hover:bg-gray-50"}`,children:[x.jsxs("div",{className:"flex items-center gap-4 text-left",children:[x.jsx("div",{className:`p-3 rounded-xl ${P===M?"bg-[#E91E63] text-white":"bg-gray-100 text-gray-400"}`,children:M==="sencilla"?x.jsx(mg,{size:20}):x.jsx(HI,{size:20})}),x.jsxs("span",{className:"font-black uppercase text-xs",children:["Habitacin ",M]})]}),P===M&&x.jsx("div",{className:"w-3 h-3 bg-[#E91E63] rounded-full"})]},M))]})]}),n===2&&x.jsxs("div",{className:"bg-white p-12 rounded-[4rem] shadow-2xl max-w-lg mx-auto animate-in zoom-in",children:[x.jsxs("h2",{className:"text-2xl font-black uppercase italic mb-8 tracking-tighter text-[#111]",children:["Tus ",x.jsx("span",{className:"text-[#E91E63]",children:"Datos"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("input",{placeholder:"NOMBRE COMPLETO",className:"w-full p-5 bg-gray-50 rounded-2xl font-black text-xs outline-none focus:ring-2 focus:ring-[#E91E63]",onChange:M=>le({...Ut,nombre:M.target.value})}),x.jsx("input",{placeholder:"CORREO",className:"w-full p-5 bg-gray-50 rounded-2xl font-black text-xs outline-none focus:ring-2 focus:ring-[#E91E63]",onChange:M=>le({...Ut,email:M.target.value})}),x.jsx("input",{placeholder:"TELFONO",className:"w-full p-5 bg-gray-50 rounded-2xl font-black text-xs outline-none focus:ring-2 focus:ring-[#E91E63]",onChange:M=>le({...Ut,telefono:M.target.value})})]})]}),n===3&&x.jsxs("div",{className:"bg-white p-12 rounded-[4rem] shadow-2xl max-w-lg mx-auto animate-in zoom-in",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsx("h2",{className:"text-2xl font-black uppercase italic tracking-tighter text-blue-500",children:"Detalles de Pago"}),x.jsx(yN,{size:20,className:"text-blue-500"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"bg-gradient-to-br from-[#222] to-[#111] p-8 rounded-3xl text-white mb-6 shadow-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:x.jsx(n1,{size:120})}),x.jsx("p",{className:"font-mono tracking-[0.2em] text-lg mb-6",children:Ot.number||"   "}),x.jsxs("div",{className:"flex justify-between text-[10px] font-mono uppercase opacity-50",children:[x.jsx("span",{children:Ot.name||"TITULAR"}),x.jsx("span",{children:Ot.expiry||"MM/YY"})]})]}),x.jsx("input",{placeholder:"NMERO TARJETA",maxLength:"16",className:"w-full p-5 bg-gray-50 rounded-2xl font-black text-xs outline-none",onChange:M=>j({...Ot,number:M.target.value})}),x.jsx("input",{placeholder:"NOMBRE EN TARJETA",className:"w-full p-5 bg-gray-50 rounded-2xl font-black text-xs outline-none uppercase",onChange:M=>j({...Ot,name:M.target.value})}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsx("input",{placeholder:"MM/YY",maxLength:"5",value:Ot.expiry,className:"p-5 bg-gray-50 rounded-2xl font-black text-xs outline-none",onChange:O}),x.jsx("input",{placeholder:"CVV",maxLength:"3",className:"p-5 bg-gray-50 rounded-2xl font-black text-xs outline-none",onChange:M=>j({...Ot,cvc:M.target.value})})]})]})]})]}),x.jsx("div",{className:"lg:col-span-4",children:x.jsxs("div",{className:"bg-[#111] text-white p-10 rounded-[3.5rem] sticky top-32 shadow-2xl border border-white/5",children:[x.jsx("h4",{className:"font-black text-xl mb-6 border-b border-white/10 pb-4 italic tracking-tighter uppercase",children:"Resumen"}),x.jsxs("div",{className:"space-y-4 mb-10",children:[x.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase text-gray-500",children:[x.jsx("span",{children:"Noches"}),x.jsx("span",{children:dt})]}),x.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase text-gray-500",children:[x.jsx("span",{children:"Ocupacin"}),x.jsx("span",{children:P})]}),x.jsxs("div",{className:"flex justify-between pt-6 border-t border-white/10 items-end",children:[x.jsx("span",{className:"font-black text-[10px] uppercase text-gray-500",children:"Monto Total"}),x.jsxs("span",{className:"font-black text-3xl text-[#E91E63] italic tracking-tighter",children:["$",Rt.toLocaleString()]})]})]}),x.jsxs("button",{disabled:l||n===1&&!it.end,onClick:z,className:`w-full py-6 rounded-2xl font-black uppercase text-[10px] tracking-widest flex items-center justify-center gap-3 transition-all shadow-xl ${n===3?"bg-blue-500 hover:bg-blue-600":"bg-[#E91E63] hover:bg-white hover:text-[#111]"} disabled:opacity-20`,children:[l?x.jsx(jr,{className:"animate-spin"}):x.jsx(n1,{size:18}),l?"PROCESANDO...":n===3?`PAGAR $${Rt.toLocaleString()}`:"CONTINUAR"]}),x.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 opacity-30",children:[x.jsx(zE,{size:14}),x.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Pago Cifrado Seguro"})]})]})})]})]})},fM=({hotel:r})=>{const[t,n]=mt.useState(!1),[a,l]=mt.useState("masiva"),[h,p]=mt.useState(!1),[b,v]=mt.useState(""),[T,R]=mt.useState(""),[N,P]=mt.useState({disponible:r.disponible||0,precioSencilla:r.precioSencilla||0,precioDoble:r.precioDoble||0}),[K,it]=mt.useState(new Date().toISOString().split("T")[0]),[st,dt]=mt.useState(new Date(K)),[Tt,Rt]=mt.useState({disponible:0,precioSencilla:0,precioDoble:0});mt.useEffect(()=>{if(r.stock_por_dia&&r.stock_por_dia[K]){const M=r.stock_por_dia[K];Rt({disponible:M.disponible||0,precioSencilla:M.precioSencilla||0,precioDoble:M.precioDoble||0})}else Rt({disponible:"",precioSencilla:"",precioDoble:""})},[K,r]);const xt=async()=>{try{const M=Pi(kn,"artifacts/indipris-eventos-v1/public/data/hoteles",r.id);await zl(M,{ventasPausadas:!r.ventasPausadas})}catch(M){alert("Error: "+M.message)}},Ut=async()=>{if(window.confirm(` Ests seguro de LIMPIAR el inventario de "${r.nombre}"?

Esto pondr todo en 0, pero el hotel seguir existiendo.`)){p(!0);try{const D=Pi(kn,"artifacts/indipris-eventos-v1/public/data/hoteles",r.id);await zl(D,{disponible:0,stock_por_dia:{}}),P({...N,disponible:0}),alert("Inventario formateado a cero correctamente.")}catch(D){alert("Error al limpiar inventario: "+D.message)}p(!1)}},le=async()=>{if(window.confirm(` ALERTA CRTICA!

Ests a punto de ELIMINAR por completo el hotel "${r.nombre}".

Ests absolutamente seguro? Esta accin NO se puede deshacer.`)){p(!0);try{const D=Pi(kn,"artifacts/indipris-eventos-v1/public/data/hoteles",r.id);await CC(D)}catch(D){alert("Error al eliminar el hotel: "+D.message),p(!1)}}},Ot=async()=>{if(!b||!T)return alert("Selecciona fecha de inicio y final.");p(!0);try{const M=Pi(kn,"artifacts/indipris-eventos-v1/public/data/hoteles",r.id),D=[];let H=new Date(b);H.setUTCHours(0,0,0,0);const k=new Date(T);for(k.setUTCHours(0,0,0,0);H<=k;)D.push(H.toISOString().split("T")[0]),H.setUTCDate(H.getUTCDate()+1);const Dt={};D.forEach(ee=>{Dt[`stock_por_dia.${ee}`]={disponible:Number(N.disponible),precioSencilla:Number(N.precioSencilla),precioDoble:Number(N.precioDoble)}}),await zl(M,Dt),alert(`xito! Tarifas actualizadas para ${D.length} das.`)}catch(M){alert("Error al guardar rango: "+M.message)}p(!1)},j=async()=>{p(!0);try{const M=Pi(kn,"artifacts/indipris-eventos-v1/public/data/hoteles",r.id);await zl(M,{[`stock_por_dia.${K}`]:{disponible:Number(Tt.disponible),precioSencilla:Number(Tt.precioSencilla),precioDoble:Number(Tt.precioDoble)}}),alert(`Tarifas del ${K} guardadas.`)}catch(M){alert("Error: "+M.message)}p(!1)},O=()=>{const M=st.getFullYear(),D=st.getMonth(),H=new Date(M,D+1,0).getDate(),k=new Date(M,D,1).getDay(),Dt=[];for(let ee=0;ee<k;ee++)Dt.push(null);for(let ee=1;ee<=H;ee++){const $=`${M}-${String(D+1).padStart(2,"0")}-${String(ee).padStart(2,"0")}`;Dt.push($)}return Dt},z=r.ventasPausadas;return x.jsxs("div",{className:`bg-white rounded-[2.5rem] shadow-xl border-2 transition-all duration-300 overflow-hidden ${z?"border-red-100":"border-transparent"}`,children:[x.jsxs("div",{className:"p-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[x.jsxs("div",{className:"flex items-center gap-5",children:[x.jsx("button",{onClick:()=>r.onEdit&&r.onEdit(r),title:"Editar informacin del hotel",className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all hover:scale-105 hover:shadow-lg ${z?"bg-red-50 text-red-500 hover:bg-red-100":"bg-gray-100 text-[#111] hover:bg-[#111] hover:text-white"}`,children:x.jsx(Zf,{size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:r.nombre}),x.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-1 mt-1",children:[x.jsx("span",{className:`w-2 h-2 rounded-full ${z?"bg-red-500":"bg-green-500"}`}),z?"VENTAS CONGELADAS":"ACTIVO EN PLATAFORMA"]})]})]}),x.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[x.jsxs("button",{onClick:()=>n(!t),className:"flex-1 md:flex-none bg-[#111] text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-[#E91E63] transition-colors flex items-center justify-center gap-2",children:[t?x.jsx(tN,{size:16}):x.jsx(XI,{size:16}),t?"CERRAR PANEL":"GESTIONAR INVENTARIO"]}),x.jsx("button",{onClick:xt,title:"Pausar / Reactivar ventas",className:`p-3 rounded-2xl transition-colors ${z?"bg-red-500 text-white shadow-lg shadow-red-200":"bg-gray-100 text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:x.jsx(RN,{size:20})}),x.jsx("button",{onClick:Ut,title:"Limpiar todo el stock y calendario (Dejar en cero)",className:"p-3 rounded-2xl transition-colors bg-gray-100 text-gray-400 hover:text-orange-500 hover:bg-orange-50",children:x.jsx(hN,{size:20})}),x.jsx("button",{onClick:le,title:"Eliminar este hotel permanentemente",className:"p-3 rounded-2xl transition-colors bg-gray-100 text-gray-400 hover:text-red-600 hover:bg-red-50",children:x.jsx(ON,{size:20})})]})]}),t&&x.jsxs("div",{className:"border-t border-gray-50 bg-gray-50/30 p-8 animate-in slide-in-from-top-4 duration-300",children:[x.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-[1.5rem] max-w-md mx-auto mb-10",children:[x.jsxs("button",{onClick:()=>l("masiva"),className:`flex-1 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all flex justify-center items-center gap-2 ${a==="masiva"?"bg-white text-[#111] shadow-sm":"text-gray-400"}`,children:[x.jsx(KI,{size:14})," Rango Masivo"]}),x.jsxs("button",{onClick:()=>l("diaria"),className:`flex-1 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all flex justify-center items-center gap-2 ${a==="diaria"?"bg-[#E91E63] text-white shadow-sm shadow-pink-200":"text-gray-400"}`,children:[x.jsx(e1,{size:14})," Por Da"]})]}),a==="masiva"&&x.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[x.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col md:flex-row gap-6",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"block text-[10px] font-black text-[#E91E63] uppercase tracking-widest mb-2",children:"Fecha Inicio"}),x.jsx("input",{type:"date",value:b,onChange:M=>v(M.target.value),className:"w-full bg-gray-50 border-none rounded-xl py-3 px-4 font-black text-[#111] outline-none"})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"block text-[10px] font-black text-[#E91E63] uppercase tracking-widest mb-2",children:"Fecha Final"}),x.jsx("input",{type:"date",value:T,onChange:M=>R(M.target.value),className:"w-full bg-gray-50 border-none rounded-xl py-3 px-4 font-black text-[#111] outline-none"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Stock a Inyectar"}),x.jsx("input",{type:"number",value:N.disponible,onChange:M=>P({...N,disponible:M.target.value}),className:"w-full bg-white border border-gray-100 rounded-2xl py-3 px-4 font-bold text-[#111] outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Precio Sencilla"}),x.jsx("input",{type:"number",value:N.precioSencilla,onChange:M=>P({...N,precioSencilla:M.target.value}),className:"w-full bg-white border border-gray-100 rounded-2xl py-3 px-4 font-bold text-[#E91E63] outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Precio Doble"}),x.jsx("input",{type:"number",value:N.precioDoble,onChange:M=>P({...N,precioDoble:M.target.value}),className:"w-full bg-white border border-gray-100 rounded-2xl py-3 px-4 font-bold text-[#E91E63] outline-none"})]})]}),x.jsx("div",{className:"flex justify-end pt-4",children:x.jsxs("button",{onClick:Ot,disabled:h,className:"bg-[#111] text-white px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-[#E91E63] transition-all flex items-center gap-2",children:[h?x.jsx(jr,{size:16,className:"animate-spin"}):x.jsx(pN,{size:16}),"Aplicar a todo el rango"]})})]}),a==="diaria"&&x.jsxs("div",{className:"flex flex-col lg:flex-row gap-10 animate-in fade-in",children:[x.jsxs("div",{className:"w-full lg:w-[45%] bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("button",{onClick:()=>dt(new Date(st.getFullYear(),st.getMonth()-1)),className:"p-2 bg-gray-50 rounded-xl hover:bg-gray-100 text-gray-600",children:x.jsx(fg,{size:16})}),x.jsx("span",{className:"font-black text-sm uppercase tracking-widest text-[#111]",children:st.toLocaleString("es-ES",{month:"long",year:"numeric"})}),x.jsx("button",{onClick:()=>dt(new Date(st.getFullYear(),st.getMonth()+1)),className:"p-2 bg-gray-50 rounded-xl hover:bg-gray-100 text-gray-600",children:x.jsx(LE,{size:16})})]}),x.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:["Do","Lu","Ma","Mi","Ju","Vi","Sa"].map(M=>x.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase",children:M},M))}),x.jsx("div",{className:"grid grid-cols-7 gap-2",children:O().map((M,D)=>{if(!M)return x.jsx("div",{className:"p-2"},`empty-${D}`);const H=M===K,k=r.stock_por_dia&&r.stock_por_dia[M];return x.jsxs("button",{onClick:()=>it(M),className:`p-2 rounded-xl text-xs font-bold transition-all relative ${H?"bg-[#E91E63] text-white shadow-md":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[parseInt(M.split("-")[2]),k&&!H&&x.jsx("span",{className:"absolute top-1 right-1 w-1.5 h-1.5 bg-green-400 rounded-full"})]},M)})})]}),x.jsxs("div",{className:"w-full lg:w-[55%] space-y-6",children:[x.jsxs("div",{className:"bg-[#111] p-5 rounded-2xl text-white flex items-center gap-3",children:[x.jsx(e1,{size:20,className:"text-[#E91E63]"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Editando Fecha"}),x.jsx("p",{className:"font-black text-lg",children:K})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"col-span-2",children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Habitaciones Disponibles"}),x.jsx("input",{type:"number",value:Tt.disponible,onChange:M=>Rt({...Tt,disponible:M.target.value}),className:"w-full bg-white border border-gray-100 rounded-xl py-3 px-4 font-bold text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Precio Sencilla"}),x.jsx("input",{type:"number",value:Tt.precioSencilla,onChange:M=>Rt({...Tt,precioSencilla:M.target.value}),className:"w-full bg-white border border-gray-100 rounded-xl py-3 px-4 font-bold text-[#E91E63] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Precio Doble"}),x.jsx("input",{type:"number",value:Tt.precioDoble,onChange:M=>Rt({...Tt,precioDoble:M.target.value}),className:"w-full bg-white border border-gray-100 rounded-xl py-3 px-4 font-bold text-[#E91E63] focus:ring-2 focus:ring-[#E91E63] outline-none"})]})]}),x.jsxs("button",{onClick:j,disabled:h,className:"w-full bg-[#E91E63] text-white px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-[#D81B60] transition-all flex items-center justify-center gap-2 shadow-lg shadow-pink-200 mt-4",children:[h?x.jsx(jr,{size:16,className:"animate-spin"}):x.jsx(dg,{size:16}),"Guardar Da Especfico"]})]})]})]})]})},dM=({onClose:r})=>{const[t,n]=mt.useState(!1),[a,l]=mt.useState({nombre:"",precioBase:"",estrellas:"5 Estrellas",ubicacion:"",imagen:""}),h=b=>{l({...a,[b.target.name]:b.target.value})},p=async b=>{b.preventDefault(),n(!0);try{const v=pc(kn,"artifacts/indipris-eventos-v1/public/data/hoteles");await RC(v,{nombre:a.nombre,precioSencilla:Number(a.precioBase)||0,precioDoble:Number(a.precioBase)||0,estrellas:a.estrellas,ubicacion:a.ubicacion,imagen:a.imagen,disponible:0,ventasPausadas:!1,stock_por_dia:{},orden:99}),n(!1),r()}catch(v){console.error("Error al crear propiedad:",v),alert("Hubo un error al guardar. Revisa tu conexin."),n(!1)}};return x.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[x.jsxs("div",{className:"bg-white px-8 py-6 flex justify-between items-center border-b border-gray-100",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"bg-[#E91E63] p-2.5 rounded-2xl text-white",children:x.jsx(FI,{size:20})}),x.jsxs("h3",{className:"text-2xl font-black italic tracking-tighter",children:[x.jsx("span",{className:"text-[#111]",children:"NUEVA"})," ",x.jsx("span",{className:"text-[#E91E63]",children:"PROPIEDAD"})]})]}),x.jsx("button",{onClick:r,className:"text-gray-400 hover:text-[#111] transition-colors p-2",children:x.jsx(pg,{size:24})})]}),x.jsxs("form",{onSubmit:p,className:"p-8",children:[x.jsxs("div",{className:"space-y-6 mb-10",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Nombre del Hotel"}),x.jsx("input",{type:"text",name:"nombre",required:!0,placeholder:"Ej. Hilton Santa Fe",value:a.nombre,onChange:h,className:"w-full bg-gray-50/50 border-none rounded-2xl py-4 px-5 font-bold text-[#111] focus:bg-gray-100 transition-colors outline-none"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Precio Base ($)"}),x.jsx("input",{type:"number",name:"precioBase",required:!0,placeholder:"Ej. 1900",value:a.precioBase,onChange:h,className:"w-full bg-gray-50/50 border-none rounded-2xl py-4 px-5 font-bold text-[#111] focus:bg-gray-100 transition-colors outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Estrellas"}),x.jsxs("select",{name:"estrellas",value:a.estrellas,onChange:h,className:"w-full bg-gray-50/50 border-none rounded-2xl py-4 px-5 font-bold text-[#111] focus:bg-gray-100 transition-colors outline-none appearance-none cursor-pointer",children:[x.jsx("option",{value:"5 Estrellas",children:"5 Estrellas"}),x.jsx("option",{value:"4 Estrellas",children:"4 Estrellas"}),x.jsx("option",{value:"3 Estrellas",children:"3 Estrellas"}),x.jsx("option",{value:"Boutique",children:"Boutique"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Referencia de Ubicacin"}),x.jsx("input",{type:"text",name:"ubicacion",placeholder:"Ej. A 15 min de la sede",value:a.ubicacion,onChange:h,className:"w-full bg-gray-50/50 border-none rounded-2xl py-4 px-5 font-bold text-[#111] focus:bg-gray-100 transition-colors outline-none"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"URL de la Imagen"}),x.jsx("input",{type:"url",name:"imagen",placeholder:"https://...",value:a.imagen,onChange:h,className:"w-full bg-gray-50/50 border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:bg-gray-100 transition-colors outline-none"})]})]}),x.jsxs("div",{className:"flex items-center justify-between gap-4 pt-4 border-t border-gray-50",children:[x.jsx("button",{type:"button",onClick:r,className:"flex-1 py-4 font-black text-[11px] uppercase tracking-widest text-gray-400 hover:text-gray-600 transition-colors",children:"Cancelar"}),x.jsxs("button",{type:"submit",disabled:t,className:"flex-1 py-4 rounded-2xl font-black text-[11px] uppercase tracking-[0.1em] text-white bg-[#E91E63] hover:bg-[#D81B60] transition-colors flex items-center justify-center gap-2",children:[t?x.jsx(jr,{size:16,className:"animate-spin"}):null,t?"Creando...":"Crear Propiedad"]})]})]})]})})},mM=()=>{const[r,t]=mt.useState([]),[n,a]=mt.useState(!0);return mt.useEffect(()=>{const l=pc(kn,"artifacts/indipris-eventos-v1/public/data/reservas"),h=Wb(l),p=Uf(h,b=>{try{const v=b.docs.map(T=>({id:T.id,...T.data()}));v.sort((T,R)=>new Date(R.fechaReserva||0)-new Date(T.fechaReserva||0)),t(v),a(!1)}catch(v){console.error("Error al procesar reservas:",v),a(!1)}},b=>{console.error("Error de conexin con reservas:",b),a(!1)});return()=>p()},[]),{reservas:r,loading:n}},pM=()=>{const{reservas:r,loading:t}=mM(),[n,a]=mt.useState(""),[l,h]=mt.useState("TODOS"),p=mt.useMemo(()=>{if(!r)return[];const v=r.map(T=>T.hotelNombre||"Hotel Oficial");return[...new Set(v)]},[r]);if(t)return x.jsxs("div",{className:"bg-white p-20 rounded-[3rem] text-center border border-gray-100 flex flex-col items-center",children:[x.jsx(jr,{className:"animate-spin text-[#E91E63] mb-4",size:40}),x.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:"Sincronizando registros..."})]});const b=r.filter(v=>{const T=n.toLowerCase(),R=(v.huespedNombre||v.nombre||"").toLowerCase(),N=(v.id||"").toLowerCase(),P=v.hotelNombre||"Hotel Oficial";return(R.includes(T)||N.includes(T)||P.toLowerCase().includes(T))&&(l==="TODOS"||P===l)});return x.jsxs("div",{className:"bg-white rounded-[3rem] shadow-xl overflow-hidden border border-gray-100 animate-in fade-in",children:[x.jsxs("div",{className:"p-8 border-b border-gray-50 flex flex-col lg:flex-row justify-between gap-6 items-start lg:items-center bg-gray-50/30",children:[x.jsxs("h3",{className:"text-xl font-black uppercase italic flex items-center gap-2 text-[#111] whitespace-nowrap",children:[x.jsx(aN,{className:"text-[#E91E63]"})," Registro de Huspedes"]}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full lg:w-auto",children:[x.jsxs("div",{className:"relative w-full md:w-64",children:[x.jsx(dN,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),x.jsxs("select",{value:l,onChange:v=>h(v.target.value),className:"w-full pl-12 pr-10 py-4 bg-white border border-gray-100 rounded-2xl text-[10px] font-bold text-[#111] uppercase focus:ring-2 focus:ring-[#E91E63] outline-none appearance-none cursor-pointer",children:[x.jsx("option",{value:"TODOS",children:"Todos los Hoteles"}),p.map((v,T)=>x.jsx("option",{value:v,children:v},T))]}),x.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:x.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),x.jsxs("div",{className:"relative w-full md:w-80",children:[x.jsx(VE,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),x.jsx("input",{type:"text",placeholder:"BUSCAR NOMBRE O FOLIO...",value:n,onChange:v=>a(v.target.value),className:"w-full pl-12 pr-6 py-4 bg-white border border-gray-100 rounded-2xl text-[10px] font-bold focus:ring-2 focus:ring-[#E91E63] outline-none"})]})]})]}),x.jsx("div",{className:"overflow-x-auto",children:b.length>0?x.jsxs("table",{className:"w-full text-left border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[x.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Husped"}),x.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Hotel / Tipo"}),x.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Check-in / Out"}),x.jsx("th",{className:"p-6 text-[10px] font-black uppercase text-gray-400 tracking-widest text-right",children:"Total"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-50",children:b.map(v=>x.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[x.jsxs("td",{className:"p-6",children:[x.jsx("p",{className:"font-black text-[#111]",children:v.huespedNombre||v.nombre||"Cliente"}),x.jsxs("p",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest mt-1",children:["Folio: ",v.id.slice(0,8)]})]}),x.jsxs("td",{className:"p-6 text-[11px] font-bold uppercase",children:[v.hotelNombre||"Hotel Oficial"," ",x.jsx("br",{}),x.jsx("span",{className:"text-gray-400 text-[9px]",children:v.tipoHabitacion||"Habitacin"})]}),x.jsxs("td",{className:"p-6 text-[11px] font-bold",children:[v.checkIn||v.fechaInicio||"--"," al ",v.checkOut||v.fechaFin||"--"," ",x.jsx("br",{}),x.jsx("span",{className:"text-[#E91E63] text-[9px] uppercase tracking-widest",children:"CONFIRMADA"})]}),x.jsxs("td",{className:"p-6 text-right font-black text-lg text-[#111]",children:["$",Number(v.total||0).toLocaleString()]})]},v.id))})]}):x.jsxs("div",{className:"p-20 text-center",children:[x.jsx(mg,{size:48,className:"mx-auto text-gray-200 mb-4"}),x.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:l!=="TODOS"?`No hay reservas en ${l}`:"No se encontraron reservaciones"})]})})]})},gM=({hotel:r,onClose:t})=>{const[n,a]=mt.useState(!1),[l,h]=mt.useState({nombre:r.nombre||"",imagen:r.imagen||"",direccion:r.direccion||"",lat:r.lat||"",lng:r.lng||"",orden:r.orden||0}),p=v=>{h({...l,[v.target.name]:v.target.value})},b=async v=>{v.preventDefault(),a(!0);try{const T=Pi(kn,"artifacts/indipris-eventos-v1/public/data/hoteles",r.id);await zl(T,{nombre:l.nombre,imagen:l.imagen,direccion:l.direccion,lat:l.lat,lng:l.lng,orden:Number(l.orden)}),a(!1),t()}catch(T){console.error("Error al editar hotel:",T),alert("Hubo un error al guardar los cambios."),a(!1)}};return x.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:x.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 max-h-[90vh] overflow-y-auto custom-scrollbar",children:[x.jsxs("div",{className:"bg-[#111] p-8 flex justify-between items-center relative overflow-hidden",children:[x.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[x.jsx("div",{className:"bg-[#E91E63] p-2 rounded-xl text-white",children:x.jsx(Zf,{size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-black italic uppercase text-white tracking-tighter",children:"Editar Perfil"}),x.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:["ID: ",r.id]})]})]}),x.jsx("button",{onClick:t,className:"relative z-10 bg-white/10 hover:bg-white/20 p-2 rounded-full text-white transition-colors",children:x.jsx(pg,{size:20})})]}),x.jsxs("form",{onSubmit:b,className:"p-8 space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Nombre del Hotel"}),x.jsx("input",{type:"text",name:"nombre",required:!0,value:l.nombre,onChange:p,className:"w-full bg-gray-50 border-none rounded-2xl py-4 px-5 font-bold text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"URL de Fotografa"}),x.jsx("input",{type:"url",name:"imagen",value:l.imagen,onChange:p,className:"w-full bg-gray-50 border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Direccin Completa"}),x.jsx("input",{type:"text",name:"direccion",value:l.direccion,onChange:p,placeholder:"Ej. Av. Reforma 230...",className:"w-full bg-gray-50 border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[x.jsx(yc,{size:12})," Latitud"]}),x.jsx("input",{type:"text",name:"lat",value:l.lat,onChange:p,placeholder:"19.432608",className:"w-full bg-gray-50 border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[x.jsx(yc,{size:12})," Longitud"]}),x.jsx("input",{type:"text",name:"lng",value:l.lng,onChange:p,placeholder:"-99.133209",className:"w-full bg-gray-50 border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{className:"md:col-span-2 bg-pink-50 p-6 rounded-[2rem] border border-pink-100 mt-4",children:[x.jsx("label",{className:"block text-[10px] font-black text-[#E91E63] uppercase tracking-widest mb-2",children:"Orden de Aparicin (Prioridad)"}),x.jsx("p",{className:"text-xs text-pink-400 mb-3 font-medium",children:"El nmero ms bajo sale primero (Ej. 1 sale antes que 2). Si todos tienen 0, se ordenan al azar."}),x.jsx("input",{type:"number",name:"orden",value:l.orden,onChange:p,className:"w-full md:w-1/3 bg-white border-none rounded-2xl py-4 px-5 font-black text-lg text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none shadow-sm"})]})]}),x.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-50",children:[x.jsx("button",{type:"button",onClick:t,className:"flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancelar"}),x.jsxs("button",{type:"submit",disabled:n,className:"flex-[2] py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] text-white bg-[#E91E63] hover:bg-[#D81B60] transition-colors flex items-center justify-center gap-2 shadow-lg shadow-pink-200",children:[n?x.jsx(jr,{size:16,className:"animate-spin"}):x.jsx(dg,{size:16})," Guardar Cambios"]})]})]})]})})},_M=({evento:r,onClose:t})=>{const[n,a]=mt.useState(!1),[l,h]=mt.useState({nombre:r?.nombre||"",logoUrl:r?.logoUrl||"",fechaInicio:r?.fechaInicio||"",fechaFin:r?.fechaFin||"",direccion:r?.direccion||"",lat:r?.lat||"",lng:r?.lng||""}),p=v=>{h({...l,[v.target.name]:v.target.value})},b=async v=>{v.preventDefault(),a(!0);try{const T=r?.id||"info",R=Pi(kn,"artifacts/indipris-eventos-v1/public/data/evento",T);await zl(R,{nombre:l.nombre,logoUrl:l.logoUrl,fechaInicio:l.fechaInicio,fechaFin:l.fechaFin,direccion:l.direccion,lat:l.lat,lng:l.lng}),a(!1),t()}catch(T){console.error("Error al editar evento:",T),alert("Hubo un error al guardar. Verifica la ruta en Firebase."),a(!1)}};return x.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:x.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 max-h-[90vh] overflow-y-auto custom-scrollbar",children:[x.jsxs("div",{className:"bg-[#111] p-8 flex justify-between items-center relative overflow-hidden",children:[x.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[x.jsx("div",{className:"bg-[#E91E63] p-2 rounded-xl text-white",children:x.jsx(Zf,{size:24})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-black italic uppercase text-white tracking-tighter",children:"Datos del Evento"}),x.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Configuracin Global"})]})]}),x.jsx("button",{onClick:t,className:"relative z-10 bg-white/10 hover:bg-white/20 p-2 rounded-full text-white transition-colors",children:x.jsx(pg,{size:20})})]}),x.jsxs("form",{onSubmit:b,className:"p-8 space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Nombre Oficial del Evento"}),x.jsx("input",{type:"text",name:"nombre",required:!0,value:l.nombre,onChange:p,placeholder:"Ej. Abastur 2026",className:"w-full bg-gray-50 border-none rounded-2xl py-4 px-5 font-black text-lg text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"URL del Logotipo"}),x.jsx("input",{type:"url",name:"logoUrl",value:l.logoUrl,onChange:p,placeholder:"https://...",className:"w-full bg-gray-50 border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[x.jsx(_p,{size:12})," Fecha de Inicio"]}),x.jsx("input",{type:"date",name:"fechaInicio",value:l.fechaInicio,onChange:p,className:"w-full bg-gray-50 border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[x.jsx(_p,{size:12})," Fecha Final"]}),x.jsx("input",{type:"date",name:"fechaFin",value:l.fechaFin,onChange:p,className:"w-full bg-gray-50 border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsxs("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[x.jsx(yc,{size:12})," Sede / Direccin"]}),x.jsx("input",{type:"text",name:"direccion",value:l.direccion,onChange:p,placeholder:"Ej. Centro Citibanamex, CDMX",className:"w-full bg-gray-50 border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none"})]}),x.jsxs("div",{className:"bg-pink-50/50 p-6 rounded-[2rem] md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 border border-pink-100",children:[x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("p",{className:"text-[10px] font-black text-[#E91E63] uppercase tracking-widest",children:"Coordenadas de la Sede (Mapa Interactivo)"}),x.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Para centrar el mapa y mostrar el Pin VIP del evento, busca la sede en Google Maps y pega aqu su Latitud y Longitud."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Latitud"}),x.jsx("input",{type:"text",name:"lat",value:l.lat,onChange:p,placeholder:"Ej. 19.4382",className:"w-full bg-white border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none shadow-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2",children:"Longitud"}),x.jsx("input",{type:"text",name:"lng",value:l.lng,onChange:p,placeholder:"Ej. -99.2185",className:"w-full bg-white border-none rounded-2xl py-4 px-5 font-bold text-sm text-[#111] focus:ring-2 focus:ring-[#E91E63] outline-none shadow-sm"})]})]})]}),x.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-50",children:[x.jsx("button",{type:"button",onClick:t,className:"flex-1 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancelar"}),x.jsxs("button",{type:"submit",disabled:n,className:"flex-[2] py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] text-white bg-[#E91E63] hover:bg-[#D81B60] transition-colors flex items-center justify-center gap-2 shadow-lg shadow-pink-200",children:[n?x.jsx(jr,{size:16,className:"animate-spin"}):x.jsx(dg,{size:16})," Actualizar Evento"]})]})]})]})})},yM=()=>{const{hotels:r=[],loading:t}=DE()||{},{evento:n,loading:a}=kE(),[l,h]=mt.useState("inventario"),[p,b]=mt.useState(!1),[v,T]=mt.useState(!1),[R,N]=mt.useState(""),[P,K]=mt.useState(null);return t||a?x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[x.jsx(jr,{className:"animate-spin text-[#E91E63] mb-4",size:48}),x.jsx("p",{className:"font-black text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Sincronizando Panel..."})]}):x.jsxs("div",{className:"p-6 md:p-10 max-w-7xl mx-auto animate-in fade-in duration-700 relative",children:[x.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-12 gap-8",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-5xl md:text-6xl font-black uppercase italic tracking-tighter text-[#111] leading-none",children:["CONTROL ",x.jsx("span",{className:"text-[#E91E63]",children:"CENTER"})]}),x.jsx("div",{className:"flex gap-3 mt-4",children:x.jsxs("span",{className:"bg-green-100 text-green-600 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[x.jsx(PN,{size:12}),r?.length||0," Hoteles Activos"]})})]}),x.jsxs("div",{className:"flex items-center gap-3 w-full lg:w-auto",children:[x.jsxs("button",{onClick:()=>T(!0),className:"bg-white text-[#111] border-2 border-gray-100 px-6 py-5 rounded-[2rem] font-black text-[11px] uppercase tracking-[0.2em] hover:border-[#111] transition-all flex items-center justify-center gap-3 flex-1 lg:flex-none",children:[x.jsx(Zf,{size:20}),x.jsx("span",{className:"hidden md:inline",children:"Evento"})]}),x.jsxs("button",{onClick:()=>b(!0),className:"bg-[#111] text-white px-8 py-5 rounded-[2rem] font-black text-[11px] uppercase tracking-[0.2em] hover:bg-[#E91E63] transition-all shadow-2xl flex items-center justify-center gap-3 group flex-[2] lg:flex-none",children:[x.jsx(AN,{size:20,className:"group-hover:rotate-90 transition-transform"}),"Aadir Nuevo Hotel"]})]})]}),x.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-8 gap-6 bg-white p-3 rounded-[2.5rem] shadow-sm border border-gray-100",children:[x.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-[2rem] w-full md:w-auto",children:[x.jsxs("button",{onClick:()=>h("inventario"),className:`px-8 py-3 rounded-[1.5rem] font-black text-[10px] uppercase tracking-widest transition-all flex items-center gap-2 ${l==="inventario"?"bg-white text-[#111] shadow-md":"text-gray-400 hover:text-[#111]"}`,children:[x.jsx(PE,{size:14})," Inventario"]}),x.jsxs("button",{onClick:()=>h("reservas"),className:`px-8 py-3 rounded-[1.5rem] font-black text-[10px] uppercase tracking-widest transition-all flex items-center gap-2 ${l==="reservas"?"bg-white text-[#111] shadow-md":"text-gray-400 hover:text-[#111]"}`,children:[x.jsx(mg,{size:14})," Reservas"]})]}),x.jsxs("div",{className:"relative w-full md:w-80 group",children:[x.jsx(VE,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-[#E91E63] transition-colors",size:18}),x.jsx("input",{type:"text",placeholder:"BUSCAR HOTEL...",value:R,onChange:it=>N(it.target.value),className:"w-full bg-gray-50 border-none rounded-2xl py-4 pl-14 pr-6 text-[11px] font-bold focus:ring-2 focus:ring-[#E91E63]/20 transition-all outline-none"})]})]}),l==="inventario"&&x.jsx("div",{className:"grid grid-cols-1 gap-8",children:r?.length>0?r.filter(it=>it.nombre.toLowerCase().includes(R.toLowerCase())).sort((it,st)=>(Number(it.orden)||99)-(Number(st.orden)||99)).map(it=>x.jsx(fM,{hotel:{...it,onEdit:K}},it.id)):x.jsxs("div",{className:"py-32 bg-white rounded-[4rem] border-2 border-dashed border-gray-200 flex flex-col items-center justify-center text-center",children:[x.jsx(uN,{size:60,className:"text-gray-200 mb-6"}),x.jsx("h3",{className:"text-gray-400 font-black uppercase text-xl italic tracking-tighter",children:"No hay inventario"}),x.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-widest mt-2",children:"Usa el botn superior para crear tu primer hotel"})]})}),l==="reservas"&&x.jsx(pM,{}),p&&x.jsx(dM,{onClose:()=>b(!1)}),P&&x.jsx(gM,{hotel:P,onClose:()=>K(null)}),v&&x.jsx(_M,{evento:n,onClose:()=>T(!1)})]})},vM=()=>{const{loading:r}=MI(),{hotels:t=[],loading:n}=DE()||{},{evento:a,loading:l}=kE(),[h,p]=mt.useState("client"),[b,v]=mt.useState(null),T=()=>{h==="admin"?p("client"):prompt("Introduce la clave del panel:")==="indipris2026"?(p("admin"),v(null)):alert("Clave incorrecta")},R=P=>{v(P)},N=t.filter(P=>P.ventasPausadas!==!0).sort((P,K)=>(Number(P.orden)||99)-(Number(K.orden)||99));return r||n||l?x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F8F9FA]",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-[#E91E63] border-t-transparent rounded-full animate-spin mb-4"}),x.jsx("p",{className:"font-black text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Indipris Travel Engine"})]}):x.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] text-[#111] font-sans selection:bg-[#E91E63] selection:text-white",children:[x.jsxs("nav",{className:"bg-white/80 backdrop-blur-md p-6 flex justify-between items-center border-b border-gray-100 sticky top-0 z-[100] h-20",children:[x.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>{v(null),p("client")},children:[x.jsx("div",{className:"bg-[#111] p-2 rounded-xl group-hover:bg-[#E91E63] transition-colors",children:x.jsx(xN,{className:"text-white",size:20})}),x.jsxs("span",{className:"font-black text-2xl italic uppercase tracking-tighter",children:["Indipris ",x.jsx("span",{className:"text-[#E91E63]",children:"Travel"})]})]}),x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("button",{onClick:T,className:`px-5 py-2.5 rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-all ${h==="admin"?"bg-yellow-400 text-[#111]":"bg-[#111] text-white hover:bg-[#E91E63]"}`,children:[h==="client"?x.jsx(zE,{size:16}):x.jsx(PE,{size:16}),h==="client"?"Acceso Admin":"Panel de Control"]})})]}),x.jsx("main",{className:"min-h-[calc(100vh-80px)]",children:h==="admin"?x.jsx(yM,{}):x.jsx(x.Fragment,{children:b?x.jsx(hM,{hotelSelected:b,onBack:()=>v(null)}):x.jsx(uM,{hoteles:N,loading:n,evento:a,onSelectHotel:R})})}),h==="client"&&!b&&x.jsx("footer",{className:"bg-white border-t border-gray-100 py-6 text-center",children:x.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-[0.3em]",children:" 2026 Indipris Travel - Todos los derechos reservados"})})]})};mw.createRoot(document.getElementById("root")).render(x.jsx(mt.StrictMode,{children:x.jsx(vM,{})}));
